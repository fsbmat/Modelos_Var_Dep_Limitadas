<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Fernando de Souza Bastos -Universidade Federal de Minas Gerais" />
  <meta name="copyright" content="E-mail: fsbmat@gmail.com - Blog: fsbmat.github.io" /> 
  <meta name="font-size-adjustment" content="1" /> 
  <title>Modelo de Seleção de Heckman</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  <link href="data:text/css;charset=utf-8,%0Abody%0A%7B%0Amargin%3A%200%200%200%200%3B%0Apadding%3A%200%200%200%200%3B%0Awidth%3A%20100%25%3B%0Aheight%3A%20100%25%3B%0Acolor%3A%20black%3B%0Abackground%2Dcolor%3A%20white%3B%0Afont%2Dfamily%3A%20%22Gill%20Sans%20MT%22%2C%20%22Gill%20Sans%22%2C%20GillSans%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014pt%3B%0A%7D%0Adiv%2Etoolbar%20%7B%0Aposition%3A%20fixed%3B%20z%2Dindex%3A%20200%3B%0Atop%3A%20auto%3B%20bottom%3A%200%3B%20left%3A%200%3B%20right%3A%200%3B%0Aheight%3A%201%2E2em%3B%20text%2Dalign%3A%20right%3B%0Apadding%2Dleft%3A%201em%3B%0Apadding%2Dright%3A%201em%3B%20font%2Dsize%3A%2060%25%3B%0Acolor%3A%20DimGray%3B%0Abackground%2Dcolor%3A%20rgb%28240%2C240%2C240%29%3B%0Aborder%2Dtop%3A%20solid%201px%20rgb%28180%2C180%2C180%29%3B%0A%7D%0Adiv%2Etoolbar%20span%2Ecopyright%20%7B%0Acolor%3A%20DimGray%3B%0Amargin%2Dleft%3A%200%2E5em%3B%0A%7D%0Adiv%2Einitial%5Fprompt%20%7B%0Aposition%3A%20absolute%3B%0Az%2Dindex%3A%201000%3B%0Abottom%3A%201%2E2em%3B%0Awidth%3A%20100%25%3B%0Abackground%2Dcolor%3A%20rgb%28200%2C200%2C200%29%3B%0Aopacity%3A%200%2E35%3B%0Abackground%2Dcolor%3A%20rgb%28200%2C200%2C200%2C%200%2E35%29%3B%0Acursor%3A%20pointer%3B%0A%7D%0Adiv%2Einitial%5Fprompt%20p%2Ehelp%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Adiv%2Einitial%5Fprompt%20p%2Eclose%20%7B%0Atext%2Dalign%3A%20right%3B%0Afont%2Dstyle%3A%20italic%3B%0A%7D%0Adiv%2Eslidy%5Ftoc%20%7B%0Aposition%3A%20absolute%3B%0Az%2Dindex%3A%20300%3B%0Awidth%3A%2060%25%3B%0Amax%2Dwidth%3A%2030em%3B%0Aheight%3A%2030em%3B%0Aoverflow%3A%20auto%3B%0Atop%3A%20auto%3B%0Aright%3A%20auto%3B%0Aleft%3A%204em%3B%0Abottom%3A%204em%3B%0Apadding%3A%201em%3B%0Abackground%3A%20rgb%28240%2C240%2C240%29%3B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%2Dwidth%3A%202px%3B%0Afont%2Dsize%3A%2060%25%3B%0A%7D%0Adiv%2Eslidy%5Ftoc%20%2Etoc%5Fheading%20%7B%0Atext%2Dalign%3A%20center%3B%0Awidth%3A%20100%25%3B%0Amargin%3A%200%3B%0Amargin%2Dbottom%3A%201em%3B%0Aborder%2Dbottom%2Dstyle%3A%20solid%3B%0Aborder%2Dbottom%2Dcolor%3A%20rgb%28180%2C180%2C180%29%3B%0Aborder%2Dbottom%2Dwidth%3A%201px%3B%0A%7D%0Adiv%2Eslide%20%7B%0Az%2Dindex%3A%2020%3B%0Amargin%3A%200%200%200%200%3B%0Apadding%2Dtop%3A%200%3B%0Apadding%2Dbottom%3A%200%3B%0Apadding%2Dleft%3A%2020px%3B%0Apadding%2Dright%3A%2020px%3B%0Aborder%2Dwidth%3A%200%3B%0Aclear%3A%20both%3B%0Atop%3A%200%3B%0Abottom%3A%200%3B%0Aleft%3A%200%3B%0Aright%3A%200%3B%0Aline%2Dheight%3A%20120%25%3B%0Abackground%2Dcolor%3A%20transparent%3B%0A%7D%0Adiv%2Ebackground%20%7B%0Adisplay%3A%20none%3B%0A%7D%0Adiv%2Ehandout%20%7B%0Amargin%2Dleft%3A%2020px%3B%0Amargin%2Dright%3A%2020px%3B%0A%7D%0Adiv%2Eslide%2Etitlepage%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Adiv%2Eslide%2Etitlepage%20h1%20%7B%0Apadding%2Dtop%3A%2010%25%3B%0Amargin%2Dright%3A%200%3B%0A%7D%0Adiv%2Eslide%20h1%20%7B%0Apadding%2Dleft%3A%200%3B%0Apadding%2Dright%3A%2020pt%3B%0Apadding%2Dtop%3A%204pt%3B%0Apadding%2Dbottom%3A%204pt%3B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dleft%3A%200%3B%0Amargin%2Dright%3A%2060pt%3B%0Amargin%2Dbottom%3A%200%2E5em%3B%0Adisplay%3A%20block%3B%20font%2Dsize%3A%20160%25%3B%0Aline%2Dheight%3A%201%2E2em%3B%0Abackground%3A%20transparent%3B%0A%7D%0A%40media%20screen%20and%20%28max%2Ddevice%2Dwidth%3A%201024px%29%0A%7B%0Adiv%2Eslide%20%7B%20font%2Dsize%3A%20100%25%3B%20%7D%0A%7D%0A%40media%20screen%20and%20%28max%2Ddevice%2Dwidth%3A%20800px%29%0A%7B%0Adiv%2Eslide%20%7B%20font%2Dsize%3A%20200%25%3B%20%7D%0Adiv%2Eslidy%5Ftoc%20%7B%0Atop%3A%201em%3B%0Aleft%3A%201em%3B%0Aright%3A%20auto%3B%0Awidth%3A%2080%25%3B%0Afont%2Dsize%3A%20180%25%3B%0A%7D%0A%7D%0Adiv%2Etoc%2Dheading%20%7B%0Awidth%3A%20100%25%3B%0Aborder%2Dbottom%3A%20solid%201px%20rgb%28180%2C180%2C180%29%3B%0Amargin%2Dbottom%3A%201em%3B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Aimage%2Drendering%3A%20optimize%2Dquality%3B%0A%7D%0Apre%20%7B%0Afont%2Dsize%3A%2080%25%3B%0Afont%2Dweight%3A%20bold%3B%0Aline%2Dheight%3A%20120%25%3B%0Apadding%2Dtop%3A%200%2E2em%3B%0Apadding%2Dbottom%3A%200%2E2em%3B%0Apadding%2Dleft%3A%201em%3B%0Apadding%2Dright%3A%201em%3B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%2Dleft%2Dwidth%3A%201em%3B%0Aborder%2Dtop%2Dwidth%3A%20thin%3B%0Aborder%2Dright%2Dwidth%3A%20thin%3B%0Aborder%2Dbottom%2Dwidth%3A%20thin%3B%0Aborder%2Dcolor%3A%20%2395ABD0%3B%0Acolor%3A%20%2300428C%3B%0Abackground%2Dcolor%3A%20%23E4E5E7%3B%0A%7D%0Ali%20pre%20%7B%20margin%2Dleft%3A%200%3B%20%7D%0Ablockquote%20%7B%20font%2Dstyle%3A%20italic%20%7D%0Aimg%20%7B%20background%2Dcolor%3A%20transparent%20%7D%0Ap%2Ecopyright%20%7B%20font%2Dsize%3A%20smaller%20%7D%0A%2Ecenter%20%7B%20text%2Dalign%3A%20center%20%7D%0A%2Efootnote%20%7B%20font%2Dsize%3A%20smaller%3B%20margin%2Dleft%3A%202em%3B%20%7D%0Aa%20img%20%7B%20border%2Dwidth%3A%200%3B%20border%2Dstyle%3A%20none%20%7D%0Aa%3Avisited%20%7B%20color%3A%20navy%20%7D%0Aa%3Alink%20%7B%20color%3A%20navy%20%7D%0Aa%3Ahover%20%7B%20color%3A%20red%3B%20text%2Ddecoration%3A%20underline%20%7D%0Aa%3Aactive%20%7B%20color%3A%20red%3B%20text%2Ddecoration%3A%20underline%20%7D%0Aa%20%7Btext%2Ddecoration%3A%20none%7D%0A%2Etoolbar%20a%3Alink%20%7Bcolor%3A%20blue%7D%0A%2Etoolbar%20a%3Avisited%20%7Bcolor%3A%20blue%7D%0A%2Etoolbar%20a%3Aactive%20%7Bcolor%3A%20red%7D%0A%2Etoolbar%20a%3Ahover%20%7Bcolor%3A%20red%7D%0Aul%20%7B%20list%2Dstyle%2Dtype%3A%20square%3B%20%7D%0Aul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0Aul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20circle%3B%20%7D%0Aul%20ul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0Ali%20%7B%20margin%2Dleft%3A%200%2E5em%3B%20margin%2Dtop%3A%200%2E5em%3B%20%7D%0Ali%20li%20%7B%20font%2Dsize%3A%2085%25%3B%20font%2Dstyle%3A%20italic%20%7D%0Ali%20li%20li%20%7B%20font%2Dsize%3A%2085%25%3B%20font%2Dstyle%3A%20normal%20%7D%0Adiv%20dt%0A%7B%0Amargin%2Dleft%3A%200%3B%0Amargin%2Dtop%3A%201em%3B%0Amargin%2Dbottom%3A%200%2E5em%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Adiv%20dd%0A%7B%0Amargin%2Dleft%3A%202em%3B%0Amargin%2Dbottom%3A%200%2E5em%3B%0A%7D%0Ap%2Cpre%2Cul%2Col%2Cblockquote%2Ch2%2Ch3%2Ch4%2Ch5%2Ch6%2Cdl%2Ctable%20%7B%0Amargin%2Dleft%3A%201em%3B%0Amargin%2Dright%3A%201em%3B%0A%7D%0Ap%2Esubhead%20%7B%20font%2Dweight%3A%20bold%3B%20margin%2Dtop%3A%202em%3B%20%7D%0A%2Esmaller%20%7B%20font%2Dsize%3A%20smaller%20%7D%0A%2Ebigger%20%7B%20font%2Dsize%3A%20130%25%20%7D%0Atd%2Cth%20%7B%20padding%3A%200%2E2em%20%7D%0Aul%20%7B%0Amargin%3A%200%2E5em%201%2E5em%200%2E5em%201%2E5em%3B%0Apadding%3A%200%3B%0A%7D%0Aol%20%7B%0Amargin%3A%200%2E5em%201%2E5em%200%2E5em%201%2E5em%3B%0Apadding%3A%200%3B%0A%7D%0Aul%20%7B%20list%2Dstyle%2Dtype%3A%20square%3B%20%7D%0Aul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0Aul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20circle%3B%20%7D%0Aul%20ul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0Aul%20li%20%7B%20list%2Dstyle%3A%20square%3B%0Amargin%3A%200%2E1em%200em%200%2E6em%200%3B%0Apadding%3A%200%200%200%200%3B%0Aline%2Dheight%3A%20140%25%3B%0A%7D%0Aol%20li%20%7B%20margin%3A%200%2E1em%200em%200%2E6em%201%2E5em%3B%0Apadding%3A%200%200%200%200px%3B%0Aline%2Dheight%3A%20140%25%3B%0Alist%2Dstyle%2Dtype%3A%20decimal%3B%0A%7D%0Ali%20ul%20li%20%7B%20font%2Dsize%3A%2085%25%3B%20font%2Dstyle%3A%20italic%3B%0Alist%2Dstyle%2Dtype%3A%20disc%3B%0Abackground%3A%20transparent%3B%0Apadding%3A%200%200%200%200%3B%0A%7D%0Ali%20li%20ul%20li%20%7B%20font%2Dsize%3A%2085%25%3B%20font%2Dstyle%3A%20normal%3B%0Alist%2Dstyle%2Dtype%3A%20circle%3B%0Abackground%3A%20transparent%3B%0Apadding%3A%200%200%200%200%3B%0A%7D%0Ali%20li%20li%20ul%20li%20%7B%0Alist%2Dstyle%2Dtype%3A%20disc%3B%0Abackground%3A%20transparent%3B%0Apadding%3A%200%200%200%200%3B%0A%7D%0Ali%20ol%20li%20%7B%0Alist%2Dstyle%2Dtype%3A%20decimal%3B%0A%7D%0Ali%20li%20ol%20li%20%7B%0Alist%2Dstyle%2Dtype%3A%20decimal%3B%0A%7D%0A%0Aol%2Eoutline%20li%3Ahover%20%7B%20cursor%3A%20pointer%20%7D%0Aol%2Eoutline%20li%2Enofold%3Ahover%20%7B%20cursor%3A%20default%20%7D%0Aul%2Eoutline%20li%3Ahover%20%7B%20cursor%3A%20pointer%20%7D%0Aul%2Eoutline%20li%2Enofold%3Ahover%20%7B%20cursor%3A%20default%20%7D%0Aol%2Eoutline%20%7B%20list%2Dstyle%3Adecimal%3B%20%7D%0Aol%2Eoutline%20ol%20%7B%20list%2Dstyle%2Dtype%3Alower%2Dalpha%20%7D%0Aol%2Eoutline%20li%2Enofold%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAIACAMzMzOvr%2FywAAAAACQAJAAACD4SPoRvG614Dctb4MEMcFAA7%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aol%2Eoutline%20li%2Eunfolded%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAMPD%2F8zMzOvr%2F%2F%2F%2F%2FywAAAAACQAJAAACEYyPoivG614LAlg7ZZbxoR8UADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aol%2Eoutline%20li%2Efolded%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAMPD%2F8zMzOvr%2F%2F%2F%2F%2FywAAAAACQAJAAACFIyPoiu2sJyCyoF7W3hxz850CFIAADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aol%2Eoutline%20li%2Eunfolded%3Ahover%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAAAAAAAA%2F8PD%2F%2F%2F%2F%2FywAAAAACQAJAAACEYSPoivG614DIlg7ZZbxoQ8UADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aol%2Eoutline%20li%2Efolded%3Ahover%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAAAAAAAA%2F8PD%2F%2F%2F%2F%2FywAAAAACQAJAAACFISPoiu2sZyCyoV7G3hxz850CFIAADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Enofold%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAIACAMzMzOvr%2FywAAAAACQAJAAACD4SPoRvG614Dctb4MEMcFAA7%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Eunfolded%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAMPD%2F8zMzOvr%2F%2F%2F%2F%2FywAAAAACQAJAAACEYyPoivG614LAlg7ZZbxoR8UADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Efolded%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAMPD%2F8zMzOvr%2F%2F%2F%2F%2FywAAAAACQAJAAACFIyPoiu2sJyCyoF7W3hxz850CFIAADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Eunfolded%3Ahover%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAAAAAAAA%2F8PD%2F%2F%2F%2F%2FywAAAAACQAJAAACEYSPoivG614DIlg7ZZbxoQ8UADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Efolded%3Ahover%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAAAAAAAA%2F8PD%2F%2F%2F%2F%2FywAAAAACQAJAAACFISPoiu2sZyCyoV7G3hxz850CFIAADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0A%0Aa%2Etitleslide%20%7B%20font%2Dweight%3A%20bold%3B%20font%2Dstyle%3A%20italic%20%7D%0A%0Aimg%2Ehidden%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Adiv%2Einitial%5Fprompt%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Adiv%2Eslide%20%7B%0Avisibility%3A%20visible%3B%0Aposition%3A%20inherit%3B%0A%7D%0Adiv%2Ehandout%20%7B%0Aborder%2Dtop%2Dstyle%3A%20solid%3B%0Aborder%2Dtop%2Dwidth%3A%20thin%3B%0Aborder%2Dtop%2Dcolor%3A%20black%3B%0A%7D%0A%40media%20screen%20%7B%0A%2Ehidden%20%7B%20display%3A%20none%3B%20visibility%3A%20visible%20%7D%0Adiv%2Eslide%2Ehidden%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0Adiv%2Ehandout%2Ehidden%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0Adiv%2Ebackground%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Abody%2Esingle%5Fslide%20div%2Einitial%5Fprompt%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0Abody%2Esingle%5Fslide%20div%2Ebackground%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0Abody%2Esingle%5Fslide%20div%2Ebackground%2Ehidden%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Abody%2Esingle%5Fslide%20%2Einvisible%20%7B%20visibility%3A%20hidden%20%7D%0Abody%2Esingle%5Fslide%20%2Ehidden%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Abody%2Esingle%5Fslide%20div%2Eslide%20%7B%20position%3A%20absolute%20%7D%0Abody%2Esingle%5Fslide%20div%2Ehandout%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0A%7D%0A%40media%20print%20%7B%0A%2Ehidden%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0Adiv%2Eslide%20pre%20%7B%20font%2Dsize%3A%2060%25%3B%20padding%2Dleft%3A%200%2E5em%3B%20%7D%0Adiv%2Etoolbar%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%3B%20%7D%0Adiv%2Eslidy%5Ftoc%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%3B%20%7D%0Adiv%2Ebackground%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%3B%20%7D%0Adiv%2Eslide%20%7B%20page%2Dbreak%2Dbefore%3A%20always%20%7D%0A%0Adiv%2Eslide%2Efirst%2Dslide%20%7B%20page%2Dbreak%2Dbefore%3A%20avoid%20%7D%0A%7D%0A%0A%0A%2Ejslider%20table%20%7B%0Amargin%2Dleft%3A%200em%3B%0Amargin%2Dright%3A%200em%3B%0A%7D%0A%0Atable%2EdataTable%2C%20%2Eshiny%2Ddatatable%2Doutput%20div%20%7B%0Afont%2Dsize%3A%2014pt%3B%0A%7D%0A%0A%2EdataTables%5Finfo%2C%20%2EdataTables%5Fpaginate%20%7B%0Afont%2Dsize%3A%2019px%3B%0A%7D%0A%0Apre%2EsourceCode%2C%20code%2EsourceCode%20%7B%0Afont%2Dsize%3A%2080%25%3B%0A%7D%0A%0Alabel%2C%20button%2C%20input%2C%20select%2C%20textarea%20%7B%0Afont%2Dsize%3A%2014pt%3B%0A%7D%0A%0Aul%2Enav%2C%20ul%2Enav%20li%20%7B%0Alist%2Dstyle%2Dtype%3A%20none%3B%0A%7D%0A" rel="stylesheet" type="text/css" media="screen, projection, print" />
  <script src="data:application/x-javascript;base64,Lyogc2xpZHkuanMKCiAgIENvcHlyaWdodCAoYykgMjAwNS0yMDEzIFczQyAoTUlULCBFUkNJTSwgS2VpbyksIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCiAgIFczQyBsaWFiaWxpdHksIHRyYWRlbWFyaywgZG9jdW1lbnQgdXNlIGFuZCBzb2Z0d2FyZSBsaWNlbnNpbmcKICAgcnVsZXMgYXBwbHksIHNlZToKCiAgIGh0dHA6Ly93d3cudzMub3JnL0NvbnNvcnRpdW0vTGVnYWwvY29weXJpZ2h0LWRvY3VtZW50cwogICBodHRwOi8vd3d3LnczLm9yZy9Db25zb3J0aXVtL0xlZ2FsL2NvcHlyaWdodC1zb2Z0d2FyZQoKICAgRGVmaW5lcyBzaW5nbGUgbmFtZSAidzNjX3NsaWR5IiBpbiBnbG9iYWwgbmFtZXNwYWNlCiAgIEFkZHMgZXZlbnQgaGFuZGxlcnMgd2l0aG91dCB0cmFtcGxpbmcgb24gYW55IG90aGVycwoqLwoKLy8gdGhlIHNsaWR5IG9iamVjdCBpbXBsZW1lbnRhdGlvbgp2YXIgdzNjX3NsaWR5ID0gewogIC8vIGNsYXNzaWZ5IHdoaWNoIGtpbmQgb2YgYnJvd3NlciB3ZSdyZSBydW5uaW5nIHVuZGVyCiAgbnNfcG9zOiAodHlwZW9mIHdpbmRvdy5wYWdlWU9mZnNldCE9J3VuZGVmaW5lZCcpLAogIGtodG1sOiAoKG5hdmlnYXRvci51c2VyQWdlbnQpLmluZGV4T2YoIktIVE1MIikgPj0gMCA/IHRydWUgOiBmYWxzZSksCiAgb3BlcmE6ICgobmF2aWdhdG9yLnVzZXJBZ2VudCkuaW5kZXhPZigiT3BlcmEiKSA+PSAwID8gdHJ1ZSA6IGZhbHNlKSwKICBpcGFkOiAoKG5hdmlnYXRvci51c2VyQWdlbnQpLmluZGV4T2YoImlQYWQiKSA+PSAwID8gdHJ1ZSA6IGZhbHNlKSwKICBpcGhvbmU6ICgobmF2aWdhdG9yLnVzZXJBZ2VudCkuaW5kZXhPZigiaVBob25lIikgPj0gMCA/IHRydWUgOiBmYWxzZSksCiAgYW5kcm9pZDogKChuYXZpZ2F0b3IudXNlckFnZW50KS5pbmRleE9mKCJBbmRyb2lkIikgPj0gMCA/IHRydWUgOiBmYWxzZSksCiAgaWU6ICh0eXBlb2YgZG9jdW1lbnQuYWxsICE9ICJ1bmRlZmluZWQiICYmICF0aGlzLm9wZXJhKSwKICBpZTY6ICghdGhpcy5uc19wb3MgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIDYiKSAhPSAtMSksCiAgaWU3OiAoIXRoaXMubnNfcG9zICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTVNJRSA3IikgIT0gLTEpLAogIGllODogKCF0aGlzLm5zX3BvcyAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk1TSUUgOCIpICE9IC0xKSwKICBpZTk6ICghdGhpcy5uc19wb3MgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIDkiKSAhPSAtMSksCgogIC8vIGRhdGEgZm9yIHN3aXBlIGFuZCBkb3VibGUgdGFwIGRldGVjdGlvbiBvbiB0b3VjaCBzY3JlZW5zCiAgbGFzdF90YXA6IDAsCiAgcHJldl90YXA6IDAsCiAgc3RhcnRfeDogMCwKICBzdGFydF95OiAwLAogIGRlbHRhX3g6IDAsCiAgZGVsdGFfeTogMCwKCiAgLy8gYXJlIHdlIHJ1bm5pbmcgYXMgWEhUTUw/IChkb2Vzbid0IHdvcmsgb24gT3BlcmEpCiAgaXNfeGh0bWw6IC94bWwvLnRlc3QoZG9jdW1lbnQuY29udGVudFR5cGUpLAoKICBzbGlkZV9udW1iZXI6IDAsIC8vIGludGVnZXIgc2xpZGUgY291bnQ6IDAsIDEsIDIsIC4uLgogIHNsaWRlX251bWJlcl9lbGVtZW50OiBudWxsLCAvLyBlbGVtZW50IGNvbnRhaW5pbmcgc2xpZGUgbnVtYmVyCiAgc2xpZGVzOiBbXSwgLy8gc2V0IHRvIGFycmF5IG9mIHNsaWRlIGRpdidzCiAgbm90ZXM6IFtdLCAvLyBzZXQgdG8gYXJyYXkgb2YgaGFuZG91dCBkaXYncwogIGJhY2tncm91bmRzOiBbXSwgLy8gc2V0IHRvIGFycmF5IG9mIGJhY2tncm91bmQgZGl2J3MKICBvYnNlcnZlcnM6IFtdLCAvLyBsaXN0IG9mIG9ic2VydmVyIGZ1bmN0aW9ucwogIHRvb2xiYXI6IG51bGwsIC8vIGVsZW1lbnQgY29udGFpbmluZyB0b29sYmFyCiAgdGl0bGU6IG51bGwsIC8vIGRvY3VtZW50IHRpdGxlCiAgbGFzdF9zaG93bjogbnVsbCwgLy8gbGFzdCBpbmNyZW1lbnRhbGx5IHNob3duIGl0ZW0KICBlb3M6IG51bGwsICAvLyBzcGFuIGVsZW1lbnQgZm9yIGVuZCBvZiBzbGlkZSBpbmRpY2F0b3IKICB0b2M6IG51bGwsIC8vIHRhYmxlIG9mIGNvbnRlbnRzCiAgb3V0bGluZTogbnVsbCwgLy8gb3V0bGluZSBlbGVtZW50IHdpdGggdGhlIGZvY3VzCiAgc2VsZWN0ZWRfdGV4dF9sZW46IDAsIC8vIGxlbmd0aCBvZiBkcmFnIHNlbGVjdGlvbiBvbiBkb2N1bWVudAogIHZpZXdfYWxsOiAwLCAgLy8gMSB0byB2aWV3IGFsbCBzbGlkZXMgKyBoYW5kb3V0cwogIHdhbnRfdG9vbGJhcjogdHJ1ZSwgIC8vIHVzZXIgcHJlZmVyZW5jZSB0byBzaG93L2hpZGUgdG9vbGJhcgogIG1vdXNlX2NsaWNrX2VuYWJsZWQ6IHRydWUsIC8vIGVuYWJsZXMgbGVmdCBjbGljayBmb3IgbmV4dCBzbGlkZQogIHNjcm9sbF9oYWNrOiAwLCAvLyBJRSB3b3JrIGFyb3VuZCBmb3IgcG9zaXRpb246IGZpeGVkCiAgZGlzYWJsZV9zbGlkZV9jbGljazogZmFsc2UsICAvLyB1c2VkIGJ5IGNsaWNrZWQgYW5jaG9ycwoKICBsYW5nOiAiZW4iLCAvLyB1cGRhdGVkIHRvIGxhbmd1YWdlIHNwZWNpZmllZCBieSBodG1sIGZpbGUKCiAgaGVscF9hbmNob3I6IG51bGwsIC8vIHVzZWQgZm9yIGtleWJvYXJkIGZvY3VzIGhhY2sgaW4gc2hvd1Rvb2xiYXIoKQogIGhlbHBfcGFnZTogImh0dHA6Ly93d3cudzMub3JnL1RhbGtzL1Rvb2xzL1NsaWR5Mi9oZWxwL2hlbHAuaHRtbCIsCiAgaGVscF90ZXh0OiAiTmF2aWdhdGUgd2l0aCBtb3VzZSBjbGljaywgc3BhY2UgYmFyLCBDdXJzb3IgTGVmdC9SaWdodCwgIiArCiAgICAgICAgICAgICAib3IgUGcgVXAgYW5kIFBnIERuLiBVc2UgUyBhbmQgQiB0byBjaGFuZ2UgZm9udCBzaXplLiIsCgogIHNpemVfaW5kZXg6IDAsCiAgc2l6ZV9hZGp1c3RtZW50OiAwLAogIHNpemVzOiAgbmV3IEFycmF5KCIxMHB0IiwgIjEycHQiLCAiMTRwdCIsICIxNnB0IiwgIjE4cHQiLCAiMjBwdCIsCiAgICAgICAgICAgICAgICAgICAgIjIycHQiLCAiMjRwdCIsICIyNnB0IiwgIjI4cHQiLCAiMzBwdCIsICIzMnB0IiksCgogIC8vIG5lZWRlZCBmb3IgZWZmaWNpZW50IHJlc2l6aW5nCiAgbGFzdF93aWR0aDogMCwKICBsYXN0X2hlaWdodDogMCwKCgogIC8vIE5lZWRlZCBmb3IgY3Jvc3MgYnJvd3NlciBzdXBwb3J0IGZvciByZWxhdGl2ZSB3aWR0aC9oZWlnaHQgb24KICAvLyBvYmplY3QgZWxlbWVudHMuIFRoZSB3b3JrIGFyb3VuZCBpcyB0byBzYXZlIHdpZHRoL2hlaWdodCBhdHRyaWJ1dGVzCiAgLy8gYW5kIHRoZW4gdG8gcmVjb21wdXRlIGFic29sdXRlIHdpZHRoL2hlaWdodCBkaW1lbnNpb25zIG9uIHJlc2l6aW5nCiAgIG9iamVjdHM6IFtdLAoKICAvLyBhdHRhY2ggaW5pdGlhbGlhdGlvbiBldmVudCBoYW5kbGVycwogIHNldF91cDogZnVuY3Rpb24gKCkgewogICAgdmFyIGluaXQgPSBmdW5jdGlvbigpIHsgdzNjX3NsaWR5LmluaXQoKTsgfTsKICAgIGlmICh0eXBlb2Ygd2luZG93LmFkZEV2ZW50TGlzdGVuZXIgIT0gInVuZGVmaW5lZCIpCiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgaW5pdCwgZmFsc2UpOwogICAgZWxzZQogICAgICB3aW5kb3cuYXR0YWNoRXZlbnQoIm9ubG9hZCIsIGluaXQpOwogIH0sCgogIGhpZGVfc2xpZGVzOiBmdW5jdGlvbiAoKSB7CiAgICBpZiAoZG9jdW1lbnQuYm9keSAmJiAhdzNjX3NsaWR5LmluaXRpYWxpemVkKQogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnZpc2liaWxpdHkgPSAiaGlkZGVuIjsKICAgIGVsc2UKICAgICAgc2V0VGltZW91dCh3M2Nfc2xpZHkuaGlkZV9zbGlkZXMsIDUwKTsKICB9LAoKICAvLyBoYWNrIHRvIHBlcnN1YWRlIElFIHRvIGNvbXB1dGUgY29ycmVjdCBkb2N1bWVudCBoZWlnaHQKICAvLyBhcyBuZWVkZWQgZm9yIHNpbXVsYXRpbmcgZml4ZWQgcG9zaXRpb25pbmcgb2YgdG9vbGJhcgogIGllX2hhY2s6IGZ1bmN0aW9uICgpIHsKICAgIHdpbmRvdy5yZXNpemVCeSgwLC0xKTsKICAgIHdpbmRvdy5yZXNpemVCeSgwLCAxKTsKICB9LAoKICBpbml0OiBmdW5jdGlvbiAoKSB7CiAgICAvL2FsZXJ0KCJzbGlkeSBzdGFydGluZyB0ZXN0IDEwIik7CiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnZpc2liaWxpdHkgPSAidmlzaWJsZSI7CiAgICB0aGlzLmluaXRfbG9jYWxpemF0aW9uKCk7CiAgICB0aGlzLmFkZF90b29sYmFyKCk7CiAgICB0aGlzLndyYXBfaW1wbGljaXRfc2xpZGVzKCk7CiAgICB0aGlzLmNvbGxlY3Rfc2xpZGVzKCk7CiAgICB0aGlzLmNvbGxlY3Rfbm90ZXMoKTsKICAgIHRoaXMuY29sbGVjdF9iYWNrZ3JvdW5kcygpOwogICAgdGhpcy5vYmplY3RzID0gZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZSgib2JqZWN0Iik7CiAgICB0aGlzLnBhdGNoX2FuY2hvcnMoKTsKICAgIHRoaXMuc2xpZGVfbnVtYmVyID0gdGhpcy5maW5kX3NsaWRlX251bWJlcihsb2NhdGlvbi5ocmVmKTsKICAgIHdpbmRvdy5vZmZzY3JlZW5idWZmZXJpbmcgPSB0cnVlOwogICAgdGhpcy5zaXplX2FkanVzdG1lbnQgPSB0aGlzLmZpbmRfc2l6ZV9hZGp1c3QoKTsKICAgIHRoaXMudGltZV9sZWZ0ID0gdGhpcy5maW5kX2R1cmF0aW9uKCk7CiAgICB0aGlzLmhpZGVfaW1hZ2VfdG9vbGJhcigpOyAgLy8gc3VwcHJlc3MgSUUgaW1hZ2UgdG9vbGJhciBwb3B1cAogICAgdGhpcy5pbml0X291dGxpbmVyKCk7ICAvLyBhY3RpdmF0ZSBmb2xkL3VuZm9sZCBzdXBwb3J0CiAgICB0aGlzLnRpdGxlID0gZG9jdW1lbnQudGl0bGU7CiAgICB0aGlzLmtleWJvYXJkbGVzcyA9ICh0aGlzLmlwYWR8fHRoaXMuaXBob25lfHx0aGlzLmFuZHJvaWQpOwoKICAgIGlmICh0aGlzLmtleWJvYXJkbGVzcykKICAgIHsKICAgICAgdzNjX3NsaWR5LnJlbW92ZV9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpCiAgICAgIHRoaXMud2FudF90b29sYmFyID0gMDsKICAgIH0KCiAgICAvLyB3b3JrIGFyb3VuZCBmb3Igb3BlcmEgYnVnCiAgICB0aGlzLmlzX3hodG1sID0gKGRvY3VtZW50LmJvZHkudGFnTmFtZSA9PSAiQk9EWSIgPyBmYWxzZSA6IHRydWUpOwoKICAgIGlmICh0aGlzLnNsaWRlcy5sZW5ndGggPiAwKQogICAgewogICAgICB2YXIgc2xpZGUgPSB0aGlzLnNsaWRlc1t0aGlzLnNsaWRlX251bWJlcl07CiAgIAogICAgICBpZiAodGhpcy5zbGlkZV9udW1iZXIgPiAwKQogICAgICB7CiAgICAgICAgdGhpcy5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoInZpc2libGUiKTsKICAgICAgICB0aGlzLmxhc3Rfc2hvd24gPSB0aGlzLnByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW0obnVsbCk7CiAgICAgICAgdGhpcy5zZXRfZW9zX3N0YXR1cyh0cnVlKTsKICAgICAgfQogICAgICBlbHNlCiAgICAgIHsKICAgICAgICB0aGlzLmxhc3Rfc2hvd24gPSBudWxsOwogICAgICAgIHRoaXMuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJoaWRkZW4iKTsKICAgICAgICB0aGlzLnNldF9lb3Nfc3RhdHVzKCF0aGlzLm5leHRfaW5jcmVtZW50YWxfaXRlbSh0aGlzLmxhc3Rfc2hvd24pKTsKICAgICAgfQoKICAgICAgdGhpcy5zZXRfbG9jYXRpb24oKTsKICAgICAgdGhpcy5hZGRfY2xhc3ModGhpcy5zbGlkZXNbMF0sICJmaXJzdC1zbGlkZSIpOwogICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZShzbGlkZSk7CiAgICB9CgogICAgdGhpcy50b2MgPSB0aGlzLnRhYmxlX29mX2NvbnRlbnRzKCk7CgogICAgdGhpcy5hZGRfaW5pdGlhbF9wcm9tcHQoKTsKCiAgICAvLyBiaW5kIGV2ZW50IGhhbmRsZXJzIHdpdGhvdXQgaW50ZXJmZXJpbmcgd2l0aCBjdXN0b20gcGFnZSBzY3JpcHRzCiAgICAvLyBUYXAgZXZlbnRzIGJlaGF2ZSB0b28gd2VpcmRseSB0byBzdXBwb3J0IGNsaWNrcyByZWxpYWJseSBvbgogICAgLy8gaVBob25lIGFuZCBpUGFkLCBzbyBleGNsdWRlIHRoZXNlIGZyb20gY2xpY2sgaGFuZGxlcgoKICAgIGlmICghdGhpcy5rZXlib2FyZGxlc3MpCiAgICB7CiAgICAgIHRoaXMuYWRkX2xpc3RlbmVyKGRvY3VtZW50LmJvZHksICJjbGljayIsIHRoaXMubW91c2VfYnV0dG9uX2NsaWNrKTsKICAgICAgdGhpcy5hZGRfbGlzdGVuZXIoZG9jdW1lbnQuYm9keSwgIm1vdXNlZG93biIsIHRoaXMubW91c2VfYnV0dG9uX2Rvd24pOwogICAgfQoKICAgIHRoaXMuYWRkX2xpc3RlbmVyKGRvY3VtZW50LCAia2V5ZG93biIsIHRoaXMua2V5X2Rvd24pOwogICAgdGhpcy5hZGRfbGlzdGVuZXIoZG9jdW1lbnQsICJrZXlwcmVzcyIsIHRoaXMua2V5X3ByZXNzKTsKICAgIHRoaXMuYWRkX2xpc3RlbmVyKHdpbmRvdywgInJlc2l6ZSIsIHRoaXMucmVzaXplZCk7CiAgICB0aGlzLmFkZF9saXN0ZW5lcih3aW5kb3csICJzY3JvbGwiLCB0aGlzLnNjcm9sbGVkKTsKICAgIHRoaXMuYWRkX2xpc3RlbmVyKHdpbmRvdywgInVubG9hZCIsIHRoaXMudW5sb2FkZWQpOwoKICAgIHRoaXMuYWRkX2xpc3RlbmVyKGRvY3VtZW50LCAiZ2VzdHVyZWNoYW5nZSIsIGZ1bmN0aW9uICgpCiAgICB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0pOwoKICAgIHRoaXMuYXR0YWNoX3RvdWNoX2hhbmRlcnModGhpcy5zbGlkZXMpOwoKICAgIC8vIHRoaXMgc2VlbXMgdG8gYmUgYSBkZWJ1Z2dpbmcgaGFjawogICAgLy9pZiAoIWRvY3VtZW50LmJvZHkub25jbGljaykKICAgIC8vICBkb2N1bWVudC5ib2R5Lm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7IH07CgogICAgdGhpcy5zaW5nbGVfc2xpZGVfdmlldygpOwoKICAgIC8vdGhpcy5zZXRfbG9jYXRpb24oKTsKCiAgICB0aGlzLnJlc2l6ZWQoKTsKCiAgICBpZiAodGhpcy5pZTcpCiAgICAgIHNldFRpbWVvdXQodzNjX3NsaWR5LmllX2hhY2ssIDEwMCk7CgogICAgdGhpcy5zaG93X3Rvb2xiYXIoKTsKCiAgICAvLyBmb3IgYmFjayBidXR0b24gZGV0ZWN0aW9uCiAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7IHczY19zbGlkeS5jaGVja19sb2NhdGlvbigpOyB9LCAyMDApOwogICAgdzNjX3NsaWR5LmluaXRpYWxpemVkID0gdHJ1ZTsKICB9LAoKICAvLyBjcmVhdGUgZGl2IGVsZW1lbnQgd2l0aCBsaW5rcyB0byBlYWNoIHNsaWRlCiAgdGFibGVfb2ZfY29udGVudHM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0b2MgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJkaXYiKTsKICAgIHRoaXMuYWRkX2NsYXNzKHRvYywgInNsaWR5X3RvYyBoaWRkZW4iKTsKICAgIC8vdG9jLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCAiMCIpOwoKICAgIHZhciBoZWFkaW5nID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiZGl2Iik7CiAgICB0aGlzLmFkZF9jbGFzcyhoZWFkaW5nLCAidG9jLWhlYWRpbmciKTsKICAgIGhlYWRpbmcuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgiVGFibGUgb2YgQ29udGVudHMiKTsKCiAgICB0b2MuYXBwZW5kQ2hpbGQoaGVhZGluZyk7CiAgICB2YXIgcHJldmlvdXMgPSBudWxsOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zbGlkZXMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIHZhciB0aXRsZSA9IHRoaXMuaGFzX2NsYXNzKHRoaXMuc2xpZGVzW2ldLCAidGl0bGUiKTsKICAgICAgdmFyIG51bSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKChpICsgMSkgKyAiLiAiKTsKCiAgICAgIHRvYy5hcHBlbmRDaGlsZChudW0pOwoKICAgICAgdmFyIGEgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJhIik7CiAgICAgIGEuc2V0QXR0cmlidXRlKCJocmVmIiwgIiMoIiArIChpKzEpICsgIikiKTsKCiAgICAgIGlmICh0aXRsZSkKICAgICAgICB0aGlzLmFkZF9jbGFzcyhhLCAidGl0bGVzbGlkZSIpOwoKICAgICAgdmFyIG5hbWUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLnNsaWRlX25hbWUoaSkpOwogICAgICBhLmFwcGVuZENoaWxkKG5hbWUpOwogICAgICBhLm9uY2xpY2sgPSB3M2Nfc2xpZHkudG9jX2NsaWNrOwogICAgICBhLm9ua2V5ZG93biA9IHczY19zbGlkeS50b2Nfa2V5X2Rvd247CiAgICAgIGEucHJldmlvdXMgPSBwcmV2aW91czsKCiAgICAgIGlmIChwcmV2aW91cykKICAgICAgICBwcmV2aW91cy5uZXh0ID0gYTsKCiAgICAgIHRvYy5hcHBlbmRDaGlsZChhKTsKCiAgICAgIGlmIChpID09IDApCiAgICAgICAgdG9jLmZpcnN0ID0gYTsKCiAgICAgIGlmIChpIDwgdGhpcy5zbGlkZXMubGVuZ3RoIC0gMSkKICAgICAgewogICAgICAgIHZhciBiciA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImJyIik7CiAgICAgICAgdG9jLmFwcGVuZENoaWxkKGJyKTsKICAgICAgfQoKICAgICAgcHJldmlvdXMgPSBhOwogICAgfQoKICAgIHRvYy5mb2N1cyA9IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHRoaXMuZmlyc3QpCiAgICAgICAgdGhpcy5maXJzdC5mb2N1cygpOwogICAgfQoKICAgIHRvYy5vbm1vdXNldXAgPSB3M2Nfc2xpZHkubW91c2VfYnV0dG9uX3VwOwoKICAgIHRvYy5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHsKICAgICAgZXx8KGU9d2luZG93LmV2ZW50KTsKCiAgICAgIGlmICh3M2Nfc2xpZHkuc2VsZWN0ZWRfdGV4dF9sZW4gPD0gMCkKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfdGFibGVfb2ZfY29udGVudHModHJ1ZSk7CgogICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihlKTsKICAgIAogICAgICBpZiAoZS5jYW5jZWwgIT0gdW5kZWZpbmVkKQogICAgICAgIGUuY2FuY2VsID0gdHJ1ZTsKICAgICAgCiAgICAgIGlmIChlLnJldHVyblZhbHVlICE9IHVuZGVmaW5lZCkKICAgICAgICBlLnJldHVyblZhbHVlID0gZmFsc2U7CiAgICAgIAogICAgICByZXR1cm4gZmFsc2U7CiAgICB9OwoKICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKHRvYywgZG9jdW1lbnQuYm9keS5maXJzdENoaWxkKTsKICAgIHJldHVybiB0b2M7CiAgfSwKCiAgaXNfc2hvd25fdG9jOiBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gIXczY19zbGlkeS5oYXNfY2xhc3ModzNjX3NsaWR5LnRvYywgImhpZGRlbiIpOwogIH0sCgogIHNob3dfdGFibGVfb2ZfY29udGVudHM6IGZ1bmN0aW9uICgpIHsKICAgIHczY19zbGlkeS5yZW1vdmVfY2xhc3ModzNjX3NsaWR5LnRvYywgImhpZGRlbiIpOwogICAgdmFyIHRvYyA9IHczY19zbGlkeS50b2M7CiAgICB0b2MuZm9jdXMoKTsKCiAgICBpZiAodzNjX3NsaWR5LmllNyAmJiB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID09IDApCiAgICAgIHNldFRpbWVvdXQodzNjX3NsaWR5LmllX2hhY2ssIDEwMCk7CiAgfSwKCiAgaGlkZV90YWJsZV9vZl9jb250ZW50czogZnVuY3Rpb24gKGZvY3VzKSB7CiAgICB3M2Nfc2xpZHkuYWRkX2NsYXNzKHczY19zbGlkeS50b2MsICJoaWRkZW4iKTsKCiAgICBpZiAoZm9jdXMgJiYgIXczY19zbGlkeS5vcGVyYSAmJgogICAgICAgICF3M2Nfc2xpZHkuaGFzX2NsYXNzKHczY19zbGlkeS50b2MsICJoaWRkZW4iKSkKICAgICAgdzNjX3NsaWR5LnNldF9mb2N1cygpOwogIH0sCgogIHRvZ2dsZV90YWJsZV9vZl9jb250ZW50czogZnVuY3Rpb24gKCkgewogICAgaWYgKHczY19zbGlkeS5pc19zaG93bl90b2MoKSkKICAgICAgdzNjX3NsaWR5LmhpZGVfdGFibGVfb2ZfY29udGVudHModHJ1ZSk7CiAgICBlbHNlCiAgICAgIHczY19zbGlkeS5zaG93X3RhYmxlX29mX2NvbnRlbnRzKCk7CiAgfSwKCiAgLy8gY2FsbGVkIG9uIGNsaWNraW5nIHRvYyBlbnRyeQogIHRvY19jbGljazogZnVuY3Rpb24gKGUpIHsKICAgIGlmICghZSkKICAgICAgZSA9IHdpbmRvdy5ldmVudDsKCiAgICB2YXIgdGFyZ2V0ID0gdzNjX3NsaWR5LmdldF90YXJnZXQoZSk7CgogICAgaWYgKHRhcmdldCAmJiB0YXJnZXQubm9kZVR5cGUgPT0gMSkKICAgIHsKICAgICAgdmFyIHVyaSA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoImhyZWYiKTsKCiAgICAgIGlmICh1cmkpCiAgICAgIHsKICAgICAgICAvL2FsZXJ0KCJnb2luZyB0byAiICsgdXJpKTsKICAgICAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgIHczY19zbGlkeS5oaWRlX3NsaWRlKHNsaWRlKTsKICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID0gdzNjX3NsaWR5LmZpbmRfc2xpZGVfbnVtYmVyKHVyaSk7CiAgICAgICAgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgIHczY19zbGlkeS5sYXN0X3Nob3duID0gbnVsbDsKICAgICAgICB3M2Nfc2xpZHkuc2V0X2xvY2F0aW9uKCk7CiAgICAgICAgdzNjX3NsaWR5LnNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbCgiaGlkZGVuIik7CiAgICAgICAgdzNjX3NsaWR5LnNldF9lb3Nfc3RhdHVzKCF3M2Nfc2xpZHkubmV4dF9pbmNyZW1lbnRhbF9pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKSk7CiAgICAgICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgICAgIC8vdGFyZ2V0LmZvY3VzKCk7CgogICAgICAgIHRyeQogICAgICAgIHsKICAgICAgICAgIGlmICghdzNjX3NsaWR5Lm9wZXJhKQogICAgICAgICAgICB3M2Nfc2xpZHkuc2V0X2ZvY3VzKCk7CiAgICAgICAgfQogICAgICAgIGNhdGNoIChlKQogICAgICAgIHsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICB3M2Nfc2xpZHkuaGlkZV90YWJsZV9vZl9jb250ZW50cyh0cnVlKTsKICAgIGlmICh3M2Nfc2xpZHkuaWU3KSB3M2Nfc2xpZHkuaWVfaGFjaygpOwogICAgdzNjX3NsaWR5LnN0b3BfcHJvcGFnYXRpb24oZSk7CiAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChlKTsKICB9LAoKICAvLyBjYWxsZWQgb25rZXlkb3duIGZvciB0b2MgZW50cnkKICB0b2Nfa2V5X2Rvd246IGZ1bmN0aW9uIChldmVudCkgewogICAgdmFyIGtleTsKCiAgICBpZiAoIWV2ZW50KQogICAgICB2YXIgZXZlbnQgPSB3aW5kb3cuZXZlbnQ7CgogICAgLy8ga2x1ZGdlIGFyb3VuZCBOUy9JRSBkaWZmZXJlbmNlcyAKICAgIGlmICh3aW5kb3cuZXZlbnQpCiAgICAgIGtleSA9IHdpbmRvdy5ldmVudC5rZXlDb2RlOwogICAgZWxzZSBpZiAoZXZlbnQud2hpY2gpCiAgICAgIGtleSA9IGV2ZW50LndoaWNoOwogICAgZWxzZQogICAgICByZXR1cm4gdHJ1ZTsgLy8gWWlrZXMhIHVua25vd24gYnJvd3NlcgoKICAgIC8vIGlnbm9yZSBldmVudCBpZiBrZXkgdmFsdWUgaXMgemVybwogICAgLy8gYXMgZm9yIGFsdCBvbiBPcGVyYSBhbmQgS29ucXVlcm9yCiAgICBpZiAoIWtleSkKICAgICAgcmV0dXJuIHRydWU7CgogICAgLy8gY2hlY2sgZm9yIGNvbmN1cnJlbnQgY29udHJvbC9jb21tYW5kL2FsdCBrZXkKICAgIC8vIGJ1dCBhcmUgdGhlc2Ugb25seSBwcmVzZW50IG9uIG1vdXNlIGV2ZW50cz8KCiAgICBpZiAoZXZlbnQuY3RybEtleSB8fCBldmVudC5hbHRLZXkpCiAgICAgIHJldHVybiB0cnVlOwoKICAgIGlmIChrZXkgPT0gMTMpCiAgICB7CiAgICAgIHZhciB1cmkgPSB0aGlzLmdldEF0dHJpYnV0ZSgiaHJlZiIpOwoKICAgICAgaWYgKHVyaSkKICAgICAgewogICAgICAgIC8vYWxlcnQoImdvaW5nIHRvICIgKyB1cmkpOwogICAgICAgdmFyIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICB3M2Nfc2xpZHkuaGlkZV9zbGlkZShzbGlkZSk7CiAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IHczY19zbGlkeS5maW5kX3NsaWRlX251bWJlcih1cmkpOwogICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IG51bGw7CiAgICAgICAgdzNjX3NsaWR5LnNldF9sb2NhdGlvbigpOwogICAgICAgIHczY19zbGlkeS5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoImhpZGRlbiIpOwogICAgICAgIHczY19zbGlkeS5zZXRfZW9zX3N0YXR1cyghdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbSh3M2Nfc2xpZHkubGFzdF9zaG93bikpOwogICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgICAvL3RhcmdldC5mb2N1cygpOwoKICAgICAgICB0cnkKICAgICAgICB7CiAgICAgICAgICBpZiAoIXczY19zbGlkeS5vcGVyYSkKICAgICAgICAgICAgdzNjX3NsaWR5LnNldF9mb2N1cygpOwogICAgICAgIH0KICAgICAgICBjYXRjaCAoZSkKICAgICAgICB7CiAgICAgICAgfQogICAgICB9CgogICAgICB3M2Nfc2xpZHkuaGlkZV90YWJsZV9vZl9jb250ZW50cyh0cnVlKTsKCiAgICAgIGlmIChzZWxmLmllNykKICAgICAgIHczY19zbGlkeS5pZV9oYWNrKCk7CgogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CgogICAgaWYgKGtleSA9PSA0MCAmJiB0aGlzLm5leHQpCiAgICB7CiAgICAgIHRoaXMubmV4dC5mb2N1cygpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CgogICAgaWYgKGtleSA9PSAzOCAmJiB0aGlzLnByZXZpb3VzKQogICAgewogICAgICB0aGlzLnByZXZpb3VzLmZvY3VzKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9LAoKICB0b3VjaHN0YXJ0OiBmdW5jdGlvbiAoZSkKICB7CiAgICAvLyBhIGRvdWJsZSB0b3VjaCBvZnRlbiBzdGFydHMgd2l0aCBhCiAgICAvLyBzaW5nbGUgdG91Y2ggZHVlIHRvIGZpbmdlcnMgdG91Y2hpbmcKICAgIC8vIGRvd24gYXQgc2xpZ2h0bHkgZGlmZmVyZW50IHRpbWVzCiAgICAvLyB0aHVzIGF2b2lkIGNhbGxpbmcgcHJldmVudERlZmF1bHQgaGVyZQogICAgdGhpcy5wcmV2X3RhcCA9IHRoaXMubGFzdF90YXA7CiAgICB0aGlzLmxhc3RfdGFwID0gKG5ldyBEYXRlKS5nZXRUaW1lKCk7CgogICAgdmFyIHRhcF9kZWxheSA9IHRoaXMubGFzdF90YXAgLSB0aGlzLnByZXZfdGFwOwoKICAgIGlmICh0YXBfZGVsYXkgPD0gMjAwKQogICAgewogICAgICAvLyBkb3VibGUgdGFwCiAgICB9CgogICAgdmFyIHRvdWNoID0gZS50b3VjaGVzWzBdOwoKICAgIHRoaXMucGFnZVggPSB0b3VjaC5wYWdlWDsKICAgIHRoaXMucGFnZVkgPSB0b3VjaC5wYWdlWTsKICAgIHRoaXMuc2NyZWVuWCA9IHRvdWNoLnNjcmVlblg7CiAgICB0aGlzLnNjcmVlblkgPSB0b3VjaC5zY3JlZW5ZOwogICAgdGhpcy5jbGllbnRYID0gdG91Y2guY2xpZW50WDsKICAgIHRoaXMuY2xpZW50WSA9IHRvdWNoLmNsaWVudFk7CgogICAgdGhpcy5kZWx0YV94ID0gdGhpcy5kZWx0YV95ID0gMDsKICB9LAoKICB0b3VjaG1vdmU6IGZ1bmN0aW9uIChlKQogIHsKICAgIC8vIG92ZXJyaWRlIG5hdGl2ZSBnZXN0dXJlcyBmb3Igc2luZ2xlIHRvdWNoCiAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA+IDEpCiAgICAgIHJldHVybjsKCiAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICB2YXIgdG91Y2ggPSBlLnRvdWNoZXNbMF07CiAgICB0aGlzLmRlbHRhX3ggPSB0b3VjaC5wYWdlWCAtIHRoaXMucGFnZVg7CiAgICB0aGlzLmRlbHRhX3kgPSB0b3VjaC5wYWdlWSAtIHRoaXMucGFnZVk7CiAgfSwKCiAgdG91Y2hlbmQ6IGZ1bmN0aW9uIChlKQogIHsKICAgIC8vIGRlZmF1bHQgYmVoYXZpb3IgZm9yIG11bHRpLXRvdWNoCiAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA+IDEpCiAgICAgIHJldHVybjsKCiAgICB2YXIgZGVsYXkgPSAobmV3IERhdGUpLmdldFRpbWUoKSAtIHRoaXMubGFzdF90YXA7CiAgICB2YXIgZHggPSB0aGlzLmRlbHRhX3g7CiAgICB2YXIgZHkgPSB0aGlzLmRlbHRhX3k7CiAgICB2YXIgYWJzX2R4ID0gTWF0aC5hYnMoZHgpOwogICAgdmFyIGFic19keSA9IE1hdGguYWJzKGR5KTsKCiAgICBpZiAoZGVsYXkgPCA1MDAgJiYgKGFic19keCA+IDEwMCB8fCBhYnNfZHkgPiAxMDApKQogICAgewogICAgICBpZiAoYWJzX2R4ID4gMC41ICogYWJzX2R5KQogICAgICB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICBpZiAoZHggPCAwKQogICAgICAgICAgdzNjX3NsaWR5Lm5leHRfc2xpZGUodHJ1ZSk7CiAgICAgICAgZWxzZQogICAgICAgICAgdzNjX3NsaWR5LnByZXZpb3VzX3NsaWRlKHRydWUpOwogICAgICB9CiAgICAgIGVsc2UgaWYgKGFic19keSA+IDIgKiBhYnNfZHgpCiAgICAgIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgdzNjX3NsaWR5LnRvZ2dsZV90YWJsZV9vZl9jb250ZW50cygpOwogICAgICB9CiAgICB9CiAgfSwKCiAgLy8gIyMjIE9CU09MRVRFICMjIwogIGJlZm9yZV9wcmludDogZnVuY3Rpb24gKCkgewogICAgdGhpcy5zaG93X2FsbF9zbGlkZXMoKTsKICAgIHRoaXMuaGlkZV90b29sYmFyKCk7CiAgICBhbGVydCgiYmVmb3JlIHByaW50Iik7CiAgfSwKCiAgLy8gIyMjIE9CU09MRVRFICMjIwogIGFmdGVyX3ByaW50OiBmdW5jdGlvbiAoKSB7CiAgICBpZiAoIXRoaXMudmlld19hbGwpCiAgICB7CiAgICAgIHRoaXMuc2luZ2xlX3NsaWRlX3ZpZXcoKTsKICAgICAgdGhpcy5zaG93X3Rvb2xiYXIoKTsKICAgIH0KICAgIGFsZXJ0KCJhZnRlciBwcmludCIpOwogIH0sCgogIC8vICMjIyBPQlNPTEVURSAjIyMKICBwcmludF9zbGlkZXM6IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuYmVmb3JlX3ByaW50KCk7CiAgICB3aW5kb3cucHJpbnQoKTsKICAgIHRoaXMuYWZ0ZXJfcHJpbnQoKTsKICB9LAoKICAvLyAjIyMgT0JTT0xFVEUgPz8gIyMjCiAgdG9nZ2xlX3ZpZXc6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh0aGlzLnZpZXdfYWxsKQogICAgewogICAgICB0aGlzLnNpbmdsZV9zbGlkZV92aWV3KCk7CiAgICAgIHRoaXMuc2hvd190b29sYmFyKCk7CiAgICAgIHRoaXMudmlld19hbGwgPSAwOwogICAgfQogICAgZWxzZQogICAgewogICAgICB0aGlzLnNob3dfYWxsX3NsaWRlcygpOwogICAgICB0aGlzLmhpZGVfdG9vbGJhcigpOwogICAgICB0aGlzLnZpZXdfYWxsID0gMTsKICAgIH0KICB9LAoKICAvLyBwcmVwYXJlIGZvciBwcmludGluZyAgIyMjIE9CU09MRVRFICMjIwogIHNob3dfYWxsX3NsaWRlczogZnVuY3Rpb24gKCkgewogICAgdGhpcy5yZW1vdmVfY2xhc3MoZG9jdW1lbnQuYm9keSwgInNpbmdsZV9zbGlkZSIpOwogICAgdGhpcy5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoInZpc2libGUiKTsKICB9LAoKICAvLyByZXN0b3JlIGFmdGVyIHByaW50aW5nICAjIyMgT0JTT0xFVEUgIyMjCiAgc2luZ2xlX3NsaWRlX3ZpZXc6IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuYWRkX2NsYXNzKGRvY3VtZW50LmJvZHksICJzaW5nbGVfc2xpZGUiKTsKICAgIHRoaXMuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJ2aXNpYmxlIik7CiAgICB0aGlzLmxhc3Rfc2hvd24gPSB0aGlzLnByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW0obnVsbCk7CiAgfSwKCiAgLy8gc3VwcHJlc3MgSUUncyBpbWFnZSB0b29sYmFyIHBvcCB1cAogIGhpZGVfaW1hZ2VfdG9vbGJhcjogZnVuY3Rpb24gKCkgewogICAgaWYgKCF0aGlzLm5zX3BvcykKICAgIHsKICAgICAgdmFyIGltYWdlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJJTUciKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1hZ2VzLmxlbmd0aDsgKytpKQogICAgICAgIGltYWdlc1tpXS5zZXRBdHRyaWJ1dGUoImdhbGxlcnlpbWciLCAibm8iKTsKICAgIH0KICB9LAoKICB1bmxvYWRlZDogZnVuY3Rpb24gKGUpIHsKICAgIC8vYWxlcnQoInVubG9hZGVkIik7CiAgfSwKCiAgLy8gU2FmYXJpIGFuZCBLb25xdWVyb3IgZG9uJ3QgeWV0IHN1cHBvcnQgZ2V0Q29tcHV0ZWRTdHlsZSgpCiAgLy8gYW5kIHRoZXkgYWx3YXlzIHJlbG9hZCBwYWdlIHdoZW4gbG9jYXRpb24uaHJlZiBpcyB1cGRhdGVkCiAgaXNfS0hUTUw6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBhZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7CiAgICByZXR1cm4gKGFnZW50LmluZGV4T2YoIktIVE1MIikgPj0gMCA/IHRydWUgOiBmYWxzZSk7CiAgfSwKCiAgLy8gZmluZCBzbGlkZSBuYW1lIGZyb20gZmlyc3QgaDEgZWxlbWVudAogIC8vIGRlZmF1bHQgdG8gZG9jdW1lbnQgdGl0bGUgKyBzbGlkZSBudW1iZXIKICBzbGlkZV9uYW1lOiBmdW5jdGlvbiAoaW5kZXgpIHsKICAgIHZhciBuYW1lID0gbnVsbDsKICAgIHZhciBzbGlkZSA9IHRoaXMuc2xpZGVzW2luZGV4XTsKCiAgICB2YXIgaGVhZGluZyA9IHRoaXMuZmluZF9oZWFkaW5nKHNsaWRlKTsKCiAgICBpZiAoaGVhZGluZykKICAgICAgbmFtZSA9IHRoaXMuZXh0cmFjdF90ZXh0KGhlYWRpbmcpOwoKICAgIGlmICghbmFtZSkKICAgICAgbmFtZSA9IHRoaXMudGl0bGUgKyAiKCIgKyAoaW5kZXggKyAxKSArICIpIjsKCiAgICBuYW1lLnJlcGxhY2UoL1wmL2csICImYW1wOyIpOwogICAgbmFtZS5yZXBsYWNlKC9cPC9nLCAiJmx0OyIpOwogICAgbmFtZS5yZXBsYWNlKC9cPi9nLCAiJmd0OyIpOwoKICAgIHJldHVybiBuYW1lOwogIH0sCgogIC8vIGZpbmQgZmlyc3QgaDEgZWxlbWVudCBpbiBET00gdHJlZQogIGZpbmRfaGVhZGluZzogZnVuY3Rpb24gKG5vZGUpIHsKICAgIGlmICghbm9kZSB8fCBub2RlLm5vZGVUeXBlICE9IDEpCiAgICAgIHJldHVybiBudWxsOwoKICAgIGlmIChub2RlLm5vZGVOYW1lID09ICJIMSIgfHwgbm9kZS5ub2RlTmFtZSA9PSAiaDEiKQogICAgICByZXR1cm4gbm9kZTsKCiAgICB2YXIgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7CgogICAgd2hpbGUgKGNoaWxkKQogICAgewogICAgICBub2RlID0gdGhpcy5maW5kX2hlYWRpbmcoY2hpbGQpOwoKICAgICAgaWYgKG5vZGUpCiAgICAgICAgcmV0dXJuIG5vZGU7CgogICAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nOwogICAgfQoKICAgIHJldHVybiBudWxsOwogIH0sCgogIC8vIHJlY3Vyc2l2ZWx5IGV4dHJhY3QgdGV4dCBmcm9tIERPTSB0cmVlCiAgZXh0cmFjdF90ZXh0OiBmdW5jdGlvbiAobm9kZSkgewogICAgaWYgKCFub2RlKQogICAgICByZXR1cm4gIiI7CgogICAgLy8gdGV4dCBub2RlcwogICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMykKICAgICAgcmV0dXJuIG5vZGUubm9kZVZhbHVlOwoKICAgIC8vIGVsZW1lbnRzCiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKQogICAgewogICAgICBub2RlID0gbm9kZS5maXJzdENoaWxkOwogICAgICB2YXIgdGV4dCA9ICIiOwoKICAgICAgd2hpbGUgKG5vZGUpCiAgICAgIHsKICAgICAgICB0ZXh0ID0gdGV4dCArIHRoaXMuZXh0cmFjdF90ZXh0KG5vZGUpOwogICAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nOwogICAgICB9CgogICAgICByZXR1cm4gdGV4dDsKICAgIH0KCiAgICByZXR1cm4gIiI7CiAgfSwKCiAgLy8gZmluZCBjb3B5cmlnaHQgdGV4dCBmcm9tIG1ldGEgZWxlbWVudAogIGZpbmRfY29weXJpZ2h0OiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgbmFtZSwgY29udGVudDsKICAgIHZhciBtZXRhID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIm1ldGEiKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1ldGEubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIG5hbWUgPSBtZXRhW2ldLmdldEF0dHJpYnV0ZSgibmFtZSIpOwogICAgICBjb250ZW50ID0gbWV0YVtpXS5nZXRBdHRyaWJ1dGUoImNvbnRlbnQiKTsKCiAgICAgIGlmIChuYW1lID09ICJjb3B5cmlnaHQiKQogICAgICAgIHJldHVybiBjb250ZW50OwogICAgfQoKICAgIHJldHVybiBudWxsOwogIH0sCgogIGZpbmRfc2l6ZV9hZGp1c3Q6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBuYW1lLCBjb250ZW50LCBvZmZzZXQ7CiAgICB2YXIgbWV0YSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJtZXRhIik7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRhLmxlbmd0aDsgKytpKQogICAgewogICAgICBuYW1lID0gbWV0YVtpXS5nZXRBdHRyaWJ1dGUoIm5hbWUiKTsKICAgICAgY29udGVudCA9IG1ldGFbaV0uZ2V0QXR0cmlidXRlKCJjb250ZW50Iik7CgogICAgICBpZiAobmFtZSA9PSAiZm9udC1zaXplLWFkanVzdG1lbnQiKQogICAgICAgIHJldHVybiAxICogY29udGVudDsKICAgIH0KCiAgICByZXR1cm4gMTsKICB9LAoKICAvLyA8bWV0YSBuYW1lPSJkdXJhdGlvbiIgY29udGVudD0iMjAiIC8+ICBmb3IgMjAgbWludXRlcwogIGZpbmRfZHVyYXRpb246IGZ1bmN0aW9uICgpIHsKICAgIHZhciBuYW1lLCBjb250ZW50LCBvZmZzZXQ7CiAgICB2YXIgbWV0YSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJtZXRhIik7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRhLmxlbmd0aDsgKytpKQogICAgewogICAgICBuYW1lID0gbWV0YVtpXS5nZXRBdHRyaWJ1dGUoIm5hbWUiKTsKICAgICAgY29udGVudCA9IG1ldGFbaV0uZ2V0QXR0cmlidXRlKCJjb250ZW50Iik7CgogICAgICBpZiAobmFtZSA9PSAiZHVyYXRpb24iKQogICAgICAgIHJldHVybiA2MDAwMCAqIGNvbnRlbnQ7CiAgICB9CgogICAgcmV0dXJuIG51bGw7CiAgfSwKCiAgcmVwbGFjZV9ieV9ub25fYnJlYWtpbmdfc3BhY2U6IGZ1bmN0aW9uIChzdHIpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKQogICAgICBzdHJbaV0gPSAxNjA7CiAgfSwKCiAgLy8gIyMjIENIRUNLIE1FICMjIyBpcyB1c2Ugb2YgImxpIiBva2F5IGZvciB0ZXh0L2h0bWw/CiAgLy8gZm9yIFhIVE1MIGRvIHdlIGFsc28gbmVlZCB0byBzcGVjaWZ5IG5hbWVzcGFjZT8KICBpbml0X291dGxpbmVyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgaXRlbXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGkiKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgKytpKQogICAgewogICAgICB2YXIgdGFyZ2V0ID0gaXRlbXNbaV07CgogICAgICBpZiAoIXRoaXMuaGFzX2NsYXNzKHRhcmdldC5wYXJlbnROb2RlLCAib3V0bGluZSIpKQogICAgICAgIGNvbnRpbnVlOwoKICAgICAgdGFyZ2V0Lm9uY2xpY2sgPSB0aGlzLm91dGxpbmVfY2xpY2s7Ci8qICMjIyBtb3JlIHdvcmsgbmVlZGVkIGZvciBJRTYKICAgICAgaWYgKCF0aGlzLm5zX3BvcykKICAgICAgewogICAgICAgIHRhcmdldC5vbm1vdXNlb3ZlciA9IHRoaXMuaG92ZXJfb3V0bGluZTsKICAgICAgICB0YXJnZXQub25tb3VzZW91dCA9IHRoaXMudW5ob3Zlcl9vdXRsaW5lOwogICAgICB9CiovCiAgICAgIGlmICh0aGlzLmZvbGRhYmxlKHRhcmdldCkpCiAgICAgIHsKICAgICAgICB0YXJnZXQuZm9sZGFibGUgPSB0cnVlOwogICAgICAgIHRhcmdldC5vbmZvY3VzID0gZnVuY3Rpb24gKCkge3czY19zbGlkeS5vdXRsaW5lID0gdGhpczt9OwogICAgICAgIHRhcmdldC5vbmJsdXIgPSBmdW5jdGlvbiAoKSB7dzNjX3NsaWR5Lm91dGxpbmUgPSBudWxsO307CgogICAgICAgIGlmICghdGFyZ2V0LmdldEF0dHJpYnV0ZSgidGFiaW5kZXgiKSkKICAgICAgICAgIHRhcmdldC5zZXRBdHRyaWJ1dGUoInRhYmluZGV4IiwgIjAiKTsKCiAgICAgICAgaWYgKHRoaXMuaGFzX2NsYXNzKHRhcmdldCwgImV4cGFuZCIpKQogICAgICAgICAgdGhpcy51bmZvbGQodGFyZ2V0KTsKICAgICAgICBlbHNlCiAgICAgICAgICB0aGlzLmZvbGQodGFyZ2V0KTsKICAgICAgfQogICAgICBlbHNlCiAgICAgIHsKICAgICAgICB0aGlzLmFkZF9jbGFzcyh0YXJnZXQsICJub2ZvbGQiKTsKICAgICAgICB0YXJnZXQudmlzaWJsZSA9IHRydWU7CiAgICAgICAgdGFyZ2V0LmZvbGRhYmxlID0gZmFsc2U7CiAgICAgIH0KICAgIH0KICB9LAoKICBmb2xkYWJsZTogZnVuY3Rpb24gKGl0ZW0pIHsKICAgIGlmICghaXRlbSB8fCBpdGVtLm5vZGVUeXBlICE9IDEpCiAgICAgIHJldHVybiBmYWxzZTsKCiAgICB2YXIgbm9kZSA9IGl0ZW0uZmlyc3RDaGlsZDsKCiAgICB3aGlsZSAobm9kZSkKICAgIHsKICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiB0aGlzLmlzX2Jsb2NrKG5vZGUpKQogICAgICAgIHJldHVybiB0cnVlOwoKICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0sCgogIC8vICMjIyBDSEVDSyBNRSAjIyMgc3dpdGNoIHRvIGFkZC9yZW1vdmUgImhpZGRlbiIgY2xhc3MKICBmb2xkOiBmdW5jdGlvbiAoaXRlbSkgewogICAgaWYgKGl0ZW0pCiAgICB7CiAgICAgIHRoaXMucmVtb3ZlX2NsYXNzKGl0ZW0sICJ1bmZvbGRlZCIpOwogICAgICB0aGlzLmFkZF9jbGFzcyhpdGVtLCAiZm9sZGVkIik7CiAgICB9CgogICAgdmFyIG5vZGUgPSBpdGVtID8gaXRlbS5maXJzdENoaWxkIDogbnVsbDsKCiAgICB3aGlsZSAobm9kZSkKICAgIHsKICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiB0aGlzLmlzX2Jsb2NrKG5vZGUpKSAvLyBlbGVtZW50CiAgICAgIHsKICAgICAgICAgdzNjX3NsaWR5LmFkZF9jbGFzcyhub2RlLCAiaGlkZGVuIik7CiAgICAgIH0KCiAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nOwogICAgfQoKICAgIGl0ZW0udmlzaWJsZSA9IGZhbHNlOwogIH0sCgogIC8vICMjIyBDSEVDSyBNRSAjIyMgc3dpdGNoIHRvIGFkZC9yZW1vdmUgImhpZGRlbiIgY2xhc3MKICB1bmZvbGQ6IGZ1bmN0aW9uIChpdGVtKSB7CiAgICBpZiAoaXRlbSkKICAgIHsKICAgICAgdGhpcy5hZGRfY2xhc3MoaXRlbSwgInVuZm9sZGVkIik7CiAgICAgIHRoaXMucmVtb3ZlX2NsYXNzKGl0ZW0sICJmb2xkZWQiKTsKICAgIH0KCiAgICB2YXIgbm9kZSA9IGl0ZW0gPyBpdGVtLmZpcnN0Q2hpbGQgOiBudWxsOwoKICAgIHdoaWxlIChub2RlKQogICAgewogICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxICYmIHRoaXMuaXNfYmxvY2sobm9kZSkpIC8vIGVsZW1lbnQKICAgICAgewogICAgICAgIHczY19zbGlkeS5yZW1vdmVfY2xhc3Mobm9kZSwgImhpZGRlbiIpOwogICAgICB9CgogICAgICBub2RlID0gbm9kZS5uZXh0U2libGluZzsKICAgIH0KCiAgICBpdGVtLnZpc2libGUgPSB0cnVlOwogIH0sCgogIG91dGxpbmVfY2xpY2s6IGZ1bmN0aW9uIChlKSB7CiAgICBpZiAoIWUpCiAgICAgIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgdmFyIHJpZ2h0Y2xpY2sgPSBmYWxzZTsKICAgIHZhciB0YXJnZXQgPSB3M2Nfc2xpZHkuZ2V0X3RhcmdldChlKTsKCiAgICB3aGlsZSAodGFyZ2V0ICYmIHRhcmdldC52aXNpYmxlID09IHVuZGVmaW5lZCkKICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CgogICAgaWYgKCF0YXJnZXQpCiAgICAgIHJldHVybiB0cnVlOwoKICAgIGlmIChlLndoaWNoKQogICAgICByaWdodGNsaWNrID0gKGUud2hpY2ggPT0gMyk7CiAgICBlbHNlIGlmIChlLmJ1dHRvbikKICAgICAgcmlnaHRjbGljayA9IChlLmJ1dHRvbiA9PSAyKTsKCiAgICBpZiAoIXJpZ2h0Y2xpY2sgJiYgdGFyZ2V0LnZpc2libGUgIT0gdW5kZWZpbmVkKQogICAgewogICAgICBpZiAodGFyZ2V0LmZvbGRhYmxlKQogICAgICB7CiAgICAgICAgaWYgKHRhcmdldC52aXNpYmxlKQogICAgICAgICAgdzNjX3NsaWR5LmZvbGQodGFyZ2V0KTsKICAgICAgICBlbHNlCiAgICAgICAgICB3M2Nfc2xpZHkudW5mb2xkKHRhcmdldCk7CiAgICAgIH0KCiAgICAgIHczY19zbGlkeS5zdG9wX3Byb3BhZ2F0aW9uKGUpOwogICAgICBlLmNhbmNlbCA9IHRydWU7CiAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gZmFsc2U7CiAgfSwKCiAgYWRkX2luaXRpYWxfcHJvbXB0OiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgcHJvbXB0ID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiZGl2Iik7CiAgICBwcm9tcHQuc2V0QXR0cmlidXRlKCJjbGFzcyIsICJpbml0aWFsX3Byb21wdCIpOwoKICAgIHZhciBwMSA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoInAiKTsKICAgIHByb21wdC5hcHBlbmRDaGlsZChwMSk7CiAgICBwMS5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgImhlbHAiKTsKCiAgICBpZiAodGhpcy5rZXlib2FyZGxlc3MpCiAgICAgIHAxLmlubmVySFRNTCA9ICJzd2lwZSBsZWZ0IHRvIG1vdmUgdG8gbmV4dCBzbGlkZSI7CiAgICBlbHNlCiAgICAgIHAxLmlubmVySFRNTCA9ICJTcGFjZSwgUmlnaHQgQXJyb3cgb3Igc3dpcGUgbGVmdCB0byBtb3ZlIHRvICIgKwogICAgICAgICAgICAgICAgICAgICAibmV4dCBzbGlkZSwgY2xpY2sgaGVscCBiZWxvdyBmb3IgbW9yZSBkZXRhaWxzIjsKCiAgICB0aGlzLmFkZF9saXN0ZW5lcihwcm9tcHQsICJjbGljayIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQocHJvbXB0KTsKICAgICAgdzNjX3NsaWR5LnN0b3BfcHJvcGFnYXRpb24oZSk7CiAgICAKICAgICAgaWYgKGUuY2FuY2VsICE9IHVuZGVmaW5lZCkKICAgICAgICBlLmNhbmNlbCA9IHRydWU7CiAgICAgIAogICAgICBpZiAoZS5yZXR1cm5WYWx1ZSAhPSB1bmRlZmluZWQpCiAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlOwogICAgICAKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSk7CgogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwcm9tcHQpOwogICAgdGhpcy5pbml0aWFsX3Byb21wdCA9IHByb21wdDsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChwcm9tcHQpO30sIDUwMDApOwogIH0sCgogIGFkZF90b29sYmFyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgY291bnRlciwgcGFnZTsKCiAgICAgdGhpcy50b29sYmFyID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiZGl2Iik7CiAgICAgdGhpcy50b29sYmFyLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCAidG9vbGJhciIpOwoKICAgICAvLyBhIHJlYXNvbmFibHkgYmVoYXZlZCBicm93c2VyCiAgICAgaWYgKHRoaXMubnNfcG9zIHx8ICF0aGlzLmllNikKICAgICB7CiAgICAgICB2YXIgcmlnaHQgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJkaXYiKTsKICAgICAgIHJpZ2h0LnNldEF0dHJpYnV0ZSgic3R5bGUiLCAiZmxvYXQ6IHJpZ2h0OyB0ZXh0LWFsaWduOiByaWdodCIpOwoKICAgICAgIGNvdW50ZXIgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIikKICAgICAgIGNvdW50ZXIuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgic2xpZGUiKSArICIgbi9tIjsKICAgICAgIHJpZ2h0LmFwcGVuZENoaWxkKGNvdW50ZXIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKHJpZ2h0KTsKCiAgICAgICB2YXIgbGVmdCA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImRpdiIpOwogICAgICAgbGVmdC5zZXRBdHRyaWJ1dGUoInN0eWxlIiwgInRleHQtYWxpZ246IGxlZnQiKTsKCiAgICAgICAvLyBnbG9iYWwgZW5kIG9mIHNsaWRlIGluZGljYXRvcgogICAgICAgdGhpcy5lb3MgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIik7CiAgICAgICB0aGlzLmVvcy5pbm5lckhUTUwgPSAiKiAiOwogICAgICAgbGVmdC5hcHBlbmRDaGlsZCh0aGlzLmVvcyk7CgogICAgICAgdmFyIGhlbHAgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJhIik7CiAgICAgICBoZWxwLnNldEF0dHJpYnV0ZSgiaHJlZiIsIHRoaXMuaGVscF9wYWdlKTsKICAgICAgIGhlbHAuc2V0QXR0cmlidXRlKCJ0aXRsZSIsIHRoaXMubG9jYWxpemUodGhpcy5oZWxwX3RleHQpKTsKICAgICAgIGhlbHAuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgiaGVscD8iKTsKICAgICAgIGxlZnQuYXBwZW5kQ2hpbGQoaGVscCk7CiAgICAgICBoZWxwLnN0eWxlLmRpc3BsYXk9Im5vbmUiOyAKICAgICAgIHRoaXMuaGVscF9hbmNob3IgPSBoZWxwOyAgLy8gc2F2ZSBmb3IgZm9jdXMgaGFjawoKICAgICAgIHZhciBnYXAxID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiAiKTsKICAgICAgIGxlZnQuYXBwZW5kQ2hpbGQoZ2FwMSk7CgogICAgICAgdmFyIGNvbnRlbnRzID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiYSIpOwogICAgICAgY29udGVudHMuc2V0QXR0cmlidXRlKCJocmVmIiwgImphdmFzY3JpcHQ6dzNjX3NsaWR5LnRvZ2dsZV90YWJsZV9vZl9jb250ZW50cygpIik7CiAgICAgICBjb250ZW50cy5zZXRBdHRyaWJ1dGUoInRpdGxlIiwgdGhpcy5sb2NhbGl6ZSgidGFibGUgb2YgY29udGVudHMiKSk7CiAgICAgICBjb250ZW50cy5pbm5lckhUTUwgPSB0aGlzLmxvY2FsaXplKCJDb250ZW50cyIpOwogICAgICAgbGVmdC5hcHBlbmRDaGlsZChjb250ZW50cyk7CgogICAgICAgdmFyIGdhcDIgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICIpOwogICAgICAgbGVmdC5hcHBlbmRDaGlsZChnYXAyKTsKCiAgICAgICB2YXIgY29weXJpZ2h0ID0gdGhpcy5maW5kX2NvcHlyaWdodCgpOwoKICAgICAgIGlmIChjb3B5cmlnaHQpCiAgICAgICB7CiAgICAgICAgIHZhciBzcGFuID0gdGhpcy5jcmVhdGVfZWxlbWVudCgic3BhbiIpOwogICAgICAgICBzcGFuLmNsYXNzTmFtZSA9ICJjb3B5cmlnaHQiOwogICAgICAgICBzcGFuLmlubmVySFRNTCA9IGNvcHlyaWdodDsKICAgICAgICAgbGVmdC5hcHBlbmRDaGlsZChzcGFuKTsKICAgICAgIH0KCiAgICAgICB0aGlzLnRvb2xiYXIuc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsICIwIik7CiAgICAgICB0aGlzLnRvb2xiYXIuYXBwZW5kQ2hpbGQobGVmdCk7CiAgICAgfQogICAgIGVsc2UgLy8gSUU2IHNvIG5lZWQgdG8gd29yayBhcm91bmQgaXRzIHBvb3IgQ1NTIHN1cHBvcnQKICAgICB7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUucG9zaXRpb24gPSAodGhpcy5pZTcgPyAiZml4ZWQiIDogImFic29sdXRlIik7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUuekluZGV4ID0gIjIwMCI7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUud2lkdGggPSAiOTkuOSUiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLmhlaWdodCA9ICIxLjJlbSI7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUudG9wID0gImF1dG8iOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLmJvdHRvbSA9ICIwIjsKICAgICAgIHRoaXMudG9vbGJhci5zdHlsZS5sZWZ0ID0gIjAiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLnJpZ2h0ID0gIjAiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLnRleHRBbGlnbiA9ICJsZWZ0IjsKICAgICAgIHRoaXMudG9vbGJhci5zdHlsZS5mb250U2l6ZSA9ICI2MCUiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLmNvbG9yID0gInJlZCI7CiAgICAgICB0aGlzLnRvb2xiYXIuYm9yZGVyV2lkdGggPSAwOwogICAgICAgdGhpcy50b29sYmFyLmNsYXNzTmFtZSA9ICJ0b29sYmFyIjsKICAgICAgIHRoaXMudG9vbGJhci5zdHlsZS5iYWNrZ3JvdW5kID0gInJnYigyNDAsMjQwLDI0MCkiOwoKICAgICAgIC8vIHdvdWxkIGxpa2UgdG8gaGF2ZSBoZWxwIHRleHQgbGVmdCBhbGlnbmVkCiAgICAgICAvLyBhbmQgcGFnZSBjb3VudGVyIHJpZ2h0IGFsaWduZWQsIGZsb2F0aW5nCiAgICAgICAvLyBkaXYncyBkb24ndCB3b3JrLCBzbyBpbnN0ZWFkIHVzZSBuZXN0ZWQKICAgICAgIC8vIGFic29sdXRlbHkgcG9zaXRpb25lZCBkaXYncy4KCiAgICAgICB2YXIgc3AgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIik7CiAgICAgICBzcC5pbm5lckhUTUwgPSAiJm5ic3A7Jm5ic3A7KiZuYnNwOyI7CiAgICAgICB0aGlzLnRvb2xiYXIuYXBwZW5kQ2hpbGQoc3ApOwogICAgICAgdGhpcy5lb3MgPSBzcDsgIC8vIGVuZCBvZiBzbGlkZSBpbmRpY2F0b3IKCiAgICAgICB2YXIgaGVscCA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImEiKTsKICAgICAgIGhlbHAuc2V0QXR0cmlidXRlKCJocmVmIiwgdGhpcy5oZWxwX3BhZ2UpOwogICAgICAgaGVscC5zZXRBdHRyaWJ1dGUoInRpdGxlIiwgdGhpcy5sb2NhbGl6ZSh0aGlzLmhlbHBfdGV4dCkpOwogICAgICAgaGVscC5pbm5lckhUTUwgPSB0aGlzLmxvY2FsaXplKCJoZWxwPyIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGhlbHApOwogICAgICAgdGhpcy5oZWxwX2FuY2hvciA9IGhlbHA7ICAvLyBzYXZlIGZvciBmb2N1cyBoYWNrCgogICAgICAgdmFyIGdhcDEgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGdhcDEpOwoKICAgICAgIHZhciBjb250ZW50cyA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImEiKTsKICAgICAgIGNvbnRlbnRzLnNldEF0dHJpYnV0ZSgiaHJlZiIsICJqYXZhc2NyaXB0OnRvZ2dsZVRhYmxlT2ZDb250ZW50cygpIik7CiAgICAgICBjb250ZW50cy5zZXRBdHRyaWJ1dGUoInRpdGxlIiwgdGhpcy5sb2NhbGl6ZSgidGFibGUgb2YgY29udGVudHMiLmxvY2FsaXplKSk7CiAgICAgICBjb250ZW50cy5pbm5lckhUTUwgPSB0aGlzLmxvY2FsaXplKCJjb250ZW50cz8iKTsKICAgICAgIHRoaXMudG9vbGJhci5hcHBlbmRDaGlsZChjb250ZW50cyk7CgogICAgICAgdmFyIGdhcDIgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGdhcDIpOwoKICAgICAgIHZhciBjb3B5cmlnaHQgPSB0aGlzLmZpbmRfY29weXJpZ2h0KCk7CgogICAgICAgaWYgKGNvcHlyaWdodCkKICAgICAgIHsKICAgICAgICAgdmFyIHNwYW4gPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIik7CiAgICAgICAgIHNwYW4uaW5uZXJIVE1MID0gY29weXJpZ2h0OwogICAgICAgICBzcGFuLnN0eWxlLmNvbG9yID0gImJsYWNrIjsKICAgICAgICAgc3Bhbi5zdHlsZS5tYXJnaW5MZWZ0ID0gIjAuNWVtIjsKICAgICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKHNwYW4pOwogICAgICAgfQoKICAgICAgIGNvdW50ZXIgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJkaXYiKQogICAgICAgY291bnRlci5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CiAgICAgICBjb3VudGVyLnN0eWxlLndpZHRoID0gImF1dG8iOyAvLyIyMCUiOwogICAgICAgY291bnRlci5zdHlsZS5oZWlnaHQgPSAiMS4yZW0iOwogICAgICAgY291bnRlci5zdHlsZS50b3AgPSAiYXV0byI7CiAgICAgICBjb3VudGVyLnN0eWxlLmJvdHRvbSA9IDA7CiAgICAgICBjb3VudGVyLnN0eWxlLnJpZ2h0ID0gIjAiOwogICAgICAgY291bnRlci5zdHlsZS50ZXh0QWxpZ24gPSAicmlnaHQiOwogICAgICAgY291bnRlci5zdHlsZS5jb2xvciA9ICJyZWQiOwogICAgICAgY291bnRlci5zdHlsZS5iYWNrZ3JvdW5kID0gInJnYigyNDAsMjQwLDI0MCkiOwoKICAgICAgIGNvdW50ZXIuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgic2xpZGUiKSArICIgbi9tIjsKICAgICAgIHRoaXMudG9vbGJhci5hcHBlbmRDaGlsZChjb3VudGVyKTsKICAgICB9CgogICAgIC8vIGVuc3VyZSB0aGF0IGNsaWNrIGlzbid0IHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwYWdlCiAgICAgdGhpcy50b29sYmFyLm9uY2xpY2sgPQogICAgICAgICBmdW5jdGlvbiAoZSkgewogICAgICAgICAgIGlmICghZSkKICAgICAgICAgICAgIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDsKCiAgICAgICAgICAgaWYgKCF0YXJnZXQgJiYgZS5zcmNFbGVtZW50KQogICAgICAgICAgICAgdGFyZ2V0ID0gZS5zcmNFbGVtZW50OwoKICAgICAgICAgICAvLyB3b3JrIGFyb3VuZCBTYWZhcmkgYnVnCiAgICAgICAgICAgaWYgKHRhcmdldCAmJiB0YXJnZXQubm9kZVR5cGUgPT0gMykKICAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlOwoKICAgICAgICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihlKTsKCiAgICAgICAgICAgaWYgKHRhcmdldCAmJiB0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPSAiYSIpCiAgICAgICAgICAgICB3M2Nfc2xpZHkubW91c2VfYnV0dG9uX2NsaWNrKGUpOwogICAgICAgICB9OwoKICAgICB0aGlzLnNsaWRlX251bWJlcl9lbGVtZW50ID0gY291bnRlcjsKICAgICB0aGlzLnNldF9lb3Nfc3RhdHVzKGZhbHNlKTsKICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMudG9vbGJhcik7CiAgfSwKCiAgLy8gd3lzaXd5ZyBlZGl0b3JzIG1ha2UgaXQgaGFyZCB0byB1c2UgZGl2IGVsZW1lbnRzCiAgLy8gZS5nLiBhbWF5YSBsb3NlcyB0aGUgZGl2IHdoZW4geW91IGNvcHkgYW5kIHBhc3RlCiAgLy8gdGhpcyBmdW5jdGlvbiB3cmFwcyBkaXYgZWxlbWVudHMgYXJvdW5kIGltcGxpY2l0CiAgLy8gc2xpZGVzIHdoaWNoIHN0YXJ0IHdpdGggYW4gaDEgZWxlbWVudCBhbmQgY29udGludWUKICAvLyB1cCB0byB0aGUgbmV4dCBoZWFkaW5nIG9yIGRpdiBlbGVtZW50CiAgd3JhcF9pbXBsaWNpdF9zbGlkZXM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBpLCBoZWFkaW5nLCBub2RlLCBuZXh0LCBkaXY7CiAgICB2YXIgaGVhZGluZ3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaDEiKTsKCiAgICBpZiAoIWhlYWRpbmdzKQogICAgICByZXR1cm47CgogICAgZm9yIChpID0gMDsgaSA8IGhlYWRpbmdzLmxlbmd0aDsgKytpKQogICAgewogICAgICBoZWFkaW5nID0gaGVhZGluZ3NbaV07CgogICAgICBpZiAoaGVhZGluZy5wYXJlbnROb2RlICE9IGRvY3VtZW50LmJvZHkpCiAgICAgICAgY29udGludWU7CgogICAgICBub2RlID0gaGVhZGluZy5uZXh0U2libGluZzsKCiAgICAgIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICB0aGlzLmFkZF9jbGFzcyhkaXYsICJzbGlkZSIpOwogICAgICBkb2N1bWVudC5ib2R5LnJlcGxhY2VDaGlsZChkaXYsIGhlYWRpbmcpOwogICAgICBkaXYuYXBwZW5kQ2hpbGQoaGVhZGluZyk7CgogICAgICB3aGlsZSAobm9kZSkKICAgICAgewogICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEpIC8vIGFuIGVsZW1lbnQKICAgICAgICB7CiAgICAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gIkgxIiB8fCBub2RlLm5vZGVOYW1lID09ICJoMSIpCiAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gIkRJViIgfHwgbm9kZS5ub2RlTmFtZSA9PSAiZGl2IikKICAgICAgICAgICB7CiAgICAgICAgICAgICBpZiAodGhpcy5oYXNfY2xhc3Mobm9kZSwgInNsaWRlIikpCiAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgIGlmICh0aGlzLmhhc19jbGFzcyhub2RlLCAiaGFuZG91dCIpKQogICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBuZXh0ID0gbm9kZS5uZXh0U2libGluZzsKICAgICAgICBub2RlID0gZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChub2RlKTsKICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobm9kZSk7CiAgICAgICAgbm9kZSA9IG5leHQ7CiAgICAgIH0gCiAgICB9CiAgfSwKCiAgYXR0YWNoX3RvdWNoX2hhbmRlcnM6IGZ1bmN0aW9uKHNsaWRlcykKICB7CiAgICB2YXIgaSwgc2xpZGU7CgogICAgZm9yIChpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgc2xpZGUgPSBzbGlkZXNbaV07CiAgICAgIHRoaXMuYWRkX2xpc3RlbmVyKHNsaWRlLCAidG91Y2hzdGFydCIsIHRoaXMudG91Y2hzdGFydCk7CiAgICAgIHRoaXMuYWRkX2xpc3RlbmVyKHNsaWRlLCAidG91Y2htb3ZlIiwgdGhpcy50b3VjaG1vdmUpOwogICAgICB0aGlzLmFkZF9saXN0ZW5lcihzbGlkZSwgInRvdWNoZW5kIiwgdGhpcy50b3VjaGVuZCk7CiAgICB9CiAgfSwKCi8vIHJldHVybiBuZXcgYXJyYXkgb2YgYWxsIHNsaWRlcwogIGNvbGxlY3Rfc2xpZGVzOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc2xpZGVzID0gbmV3IEFycmF5KCk7CiAgICB2YXIgZGl2cyA9IGRvY3VtZW50LmJvZHkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGl2cy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgZGl2ID0gZGl2cy5pdGVtKGkpOwoKICAgICAgaWYgKHRoaXMuaGFzX2NsYXNzKGRpdiwgInNsaWRlIikpCiAgICAgIHsKICAgICAgICAvLyBhZGQgc2xpZGUgdG8gY29sbGVjdGlvbgogICAgICAgIHNsaWRlc1tzbGlkZXMubGVuZ3RoXSA9IGRpdjsKCiAgICAgICAgLy8gaGlkZSBlYWNoIHNsaWRlIGFzIGl0IGlzIGZvdW5kCiAgICAgICAgdGhpcy5hZGRfY2xhc3MoZGl2LCAiaGlkZGVuIik7CgogICAgICAgIC8vIGFkZCBkdW1teSA8YnIvPiBhdCBlbmQgZm9yIHNjcm9sbGluZyBoYWNrCiAgICAgICAgdmFyIG5vZGUxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnIiKTsKICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobm9kZTEpOwogICAgICAgIHZhciBub2RlMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJyIik7CiAgICAgICAgZGl2LmFwcGVuZENoaWxkKG5vZGUyKTsKICAgICAgfQogICAgICBlbHNlIGlmICh0aGlzLmhhc19jbGFzcyhkaXYsICJiYWNrZ3JvdW5kIikpCiAgICAgIHsgIC8vIHdvcmsgYXJvdW5kIGZvciBGaXJlZm94IFNWRyByZWxvYWQgYnVnCiAgICAgICAgLy8gd2hpY2ggb3RoZXJ3aXNlIHJlcGxhY2VzIDFzdCBTVkcgZ3JhcGhpYyB3aXRoIDJuZAogICAgICAgIGRpdi5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgfQogICAgfQoKICAgIHRoaXMuc2xpZGVzID0gc2xpZGVzOwogIH0sCgogIC8vIHJldHVybiBuZXcgYXJyYXkgb2YgYWxsIDxkaXYgY2xhc3M9ImhhbmRvdXQiPgogIGNvbGxlY3Rfbm90ZXM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBub3RlcyA9IG5ldyBBcnJheSgpOwogICAgdmFyIGRpdnMgPSBkb2N1bWVudC5ib2R5LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpdnMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIGRpdiA9IGRpdnMuaXRlbShpKTsKCiAgICAgIGlmICh0aGlzLmhhc19jbGFzcyhkaXYsICJoYW5kb3V0IikpCiAgICAgIHsKICAgICAgICAvLyBhZGQgbm90ZSB0byBjb2xsZWN0aW9uCiAgICAgICAgbm90ZXNbbm90ZXMubGVuZ3RoXSA9IGRpdjsKCiAgICAgICAgLy8gYW5kIGhpZGUgaXQKICAgICAgICB0aGlzLmFkZF9jbGFzcyhkaXYsICJoaWRkZW4iKTsKICAgICAgfQogICAgfQoKICAgIHRoaXMubm90ZXMgPSBub3RlczsKICB9LAoKICAvLyByZXR1cm4gbmV3IGFycmF5IG9mIGFsbCA8ZGl2IGNsYXNzPSJiYWNrZ3JvdW5kIj4KICAvLyBpbmNsdWRpbmcgbmFtZWQgYmFja2dyb3VuZHMgZS5nLiBjbGFzcz0iYmFja2dyb3VuZCB0aXRsZXBhZ2UiCiAgY29sbGVjdF9iYWNrZ3JvdW5kczogZnVuY3Rpb24gKCkgewogICAgdmFyIGJhY2tncm91bmRzID0gbmV3IEFycmF5KCk7CiAgICB2YXIgZGl2cyA9IGRvY3VtZW50LmJvZHkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGl2cy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgZGl2ID0gZGl2cy5pdGVtKGkpOwoKICAgICAgaWYgKHRoaXMuaGFzX2NsYXNzKGRpdiwgImJhY2tncm91bmQiKSkKICAgICAgewogICAgICAgIC8vIGFkZCBiYWNrZ3JvdW5kIHRvIGNvbGxlY3Rpb24KICAgICAgICBiYWNrZ3JvdW5kc1tiYWNrZ3JvdW5kcy5sZW5ndGhdID0gZGl2OwoKICAgICAgICAvLyBhbmQgaGlkZSBpdAogICAgICAgIHRoaXMuYWRkX2NsYXNzKGRpdiwgImhpZGRlbiIpOwogICAgICB9CiAgICB9CgogICAgdGhpcy5iYWNrZ3JvdW5kcyA9IGJhY2tncm91bmRzOwogIH0sCgogIC8vIHNldCBjbGljayBoYW5kbGVycyBvbiBhbGwgYW5jaG9ycwogIHBhdGNoX2FuY2hvcnM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBzZWxmID0gdzNjX3NsaWR5OwogICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgLy8gY29tcGFyZSB0aGlzLmhyZWYgd2l0aCBsb2NhdGlvbi5ocmVmCiAgICAgIC8vIGZvciBsaW5rIHRvIGFub3RoZXIgc2xpZGUgaW4gdGhpcyBkb2MKCiAgICAgIGlmIChzZWxmLnBhZ2VfYWRkcmVzcyh0aGlzLmhyZWYpID09IHNlbGYucGFnZV9hZGRyZXNzKGxvY2F0aW9uLmhyZWYpKQogICAgICB7CiAgICAgICAgLy8geWVzLCBzbyBmaW5kIG5ldyBzbGlkZSBudW1iZXIKICAgICAgICB2YXIgbmV3c2xpZGVudW0gPSBzZWxmLmZpbmRfc2xpZGVfbnVtYmVyKHRoaXMuaHJlZik7CgogICAgICAgIGlmIChuZXdzbGlkZW51bSAhPSBzZWxmLnNsaWRlX251bWJlcikKICAgICAgICB7CiAgICAgICAgICB2YXIgc2xpZGUgPSBzZWxmLnNsaWRlc1tzZWxmLnNsaWRlX251bWJlcl07CiAgICAgICAgICBzZWxmLmhpZGVfc2xpZGUoc2xpZGUpOwogICAgICAgICAgc2VsZi5zbGlkZV9udW1iZXIgPSBuZXdzbGlkZW51bTsKICAgICAgICAgIHNsaWRlID0gc2VsZi5zbGlkZXNbc2VsZi5zbGlkZV9udW1iZXJdOwogICAgICAgICAgc2VsZi5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgICAgIHNlbGYuc2V0X2xvY2F0aW9uKCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGVsc2UKICAgICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihldmVudCk7CgovLyAgICAgIGVsc2UgaWYgKHRoaXMudGFyZ2V0ID09IG51bGwpCi8vICAgICAgICBsb2NhdGlvbi5ocmVmID0gdGhpcy5ocmVmOwoKICAgICAgdGhpcy5ibHVyKCk7CiAgICAgIHNlbGYuZGlzYWJsZV9zbGlkZV9jbGljayA9IHRydWU7CiAgICB9OwoKICAgIHZhciBhbmNob3JzID0gZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5jaG9ycy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKQogICAgICAgIGFuY2hvcnNbaV0uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBoYW5kbGVyLCBmYWxzZSk7CiAgICAgIGVsc2UKICAgICAgICBhbmNob3JzW2ldLmF0dGFjaEV2ZW50KCJvbmNsaWNrIiwgaGFuZGxlcik7CiAgICB9CiAgfSwKCiAgLy8gIyMjIENIRUNLIE1FICMjIyBzZWUgd2hpY2ggZnVuY3Rpb25zIGFyZSBpbnZva2VkIHZpYSBzZXRUaW1lb3V0CiAgLy8gZWl0aGVyIGRpcmVjdGx5IG9yIGluZGlyZWN0bHkgZm9yIHVzZSBvZiB3M2Nfc2xpZHkgdnMgdGhpcwogIHNob3dfc2xpZGVfbnVtYmVyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdGltZXIgPSB3M2Nfc2xpZHkuZ2V0X3RpbWVyKCk7CiAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyX2VsZW1lbnQuaW5uZXJIVE1MID0gdGltZXIgKyB3M2Nfc2xpZHkubG9jYWxpemUoInNsaWRlIikgKyAiICIgKwogICAgICAgICAgICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyICsgMSkgKyAiLyIgKyB3M2Nfc2xpZHkuc2xpZGVzLmxlbmd0aDsKICB9LAoKICAvLyBldmVyeSAyMDBtUyBjaGVjayBpZiB0aGUgbG9jYXRpb24gaGFzIGJlZW4gY2hhbmdlZCBhcyBhCiAgLy8gcmVzdWx0IG9mIHRoZSB1c2VyIGFjdGl2YXRpbmcgdGhlIEJhY2sgYnV0dG9uL21lbnUgaXRlbQogIC8vIGRvZXNuJ3Qgd29yayBmb3IgT3BlcmEgPCA5LjUKICBjaGVja19sb2NhdGlvbjogZnVuY3Rpb24gKCkgewogICAgdmFyIGhhc2ggPSBsb2NhdGlvbi5oYXNoOwoKICAgIGlmICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID4gMCAmJiAoaGFzaCA9PSAiIiB8fCBoYXNoID09ICIjIikpCiAgICAgIHczY19zbGlkeS5nb3RvX3NsaWRlKDApOwogICAgZWxzZSBpZiAoaGFzaC5sZW5ndGggPiAyICYmIGhhc2ggIT0gIiMoIisodzNjX3NsaWR5LnNsaWRlX251bWJlcisxKSsiKSIpCiAgICB7CiAgICAgIHZhciBudW0gPSBwYXJzZUludChsb2NhdGlvbi5oYXNoLnN1YnN0cigyKSk7CgogICAgICBpZiAoIWlzTmFOKG51bSkpCiAgICAgICAgdzNjX3NsaWR5LmdvdG9fc2xpZGUobnVtLTEpOwogICAgfQoKICAgIGlmICh3M2Nfc2xpZHkudGltZV9sZWZ0ICYmIHczY19zbGlkeS5zbGlkZV9udW1iZXIgPiAwKQogICAgewogICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZV9udW1iZXIoKTsKCiAgICAgIGlmICh3M2Nfc2xpZHkudGltZV9sZWZ0ID4gMCkKICAgICAgICB3M2Nfc2xpZHkudGltZV9sZWZ0IC09IDIwMDsKICAgIH0gCiAgfSwKCiAgZ2V0X3RpbWVyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdGltZXIgPSAiIjsKICAgIGlmICh3M2Nfc2xpZHkudGltZV9sZWZ0KQogICAgewogICAgICB2YXIgbWlucywgc2VjczsKICAgICAgc2VjcyA9IE1hdGguZmxvb3IodzNjX3NsaWR5LnRpbWVfbGVmdC8xMDAwKTsKICAgICAgbWlucyA9IE1hdGguZmxvb3Ioc2VjcyAvIDYwKTsKICAgICAgc2VjcyA9IHNlY3MgJSA2MDsKICAgICAgdGltZXIgPSAobWlucyA/IG1pbnMrIm0iIDogIiIpICsgc2VjcyArICJzICI7CiAgICB9CgogICAgcmV0dXJuIHRpbWVyOwogIH0sCgogIC8vIHRoaXMgZG9lc24ndCBwdXNoIGxvY2F0aW9uIG9udG8gaGlzdG9yeSBzdGFjayBmb3IgSUUKICAvLyBmb3Igd2hpY2ggYSBoaWRkZW4gaWZyYW1lIGhhY2sgaXMgbmVlZGVkOiBsb2FkIHBhZ2UgaW50bwogIC8vIHRoZSBpZnJhbWUgd2l0aCBzY3JpcHQgdGhhdCBzZXQncyBwYXJlbnQncyBsb2NhdGlvbi5oYXNoCiAgLy8gYnV0IHRoYXQgd29uJ3Qgd29yayBmb3Igc3RhbmRhbG9uZSB1c2UgdW5sZXNzIHdlIGNhbgogIC8vIGNyZWF0ZSB0aGUgcGFnZSBkeW5hbWljYWxseSB2aWEgYSBqYXZhc2NyaXB0OiBVUkwKICAvLyAjIyMgdXNlIGhpc3RvcnkucHVzaFN0YXRlIGlmIGF2YWlsYWJsZQogIHNldF9sb2NhdGlvbjogZnVuY3Rpb24gKCkgewogICAgIHZhciB1cmkgPSB3M2Nfc2xpZHkucGFnZV9hZGRyZXNzKGxvY2F0aW9uLmhyZWYpOwogICAgIHZhciBoYXNoID0gIiMoIiArICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyKzEpICsgIikiOwoKICAgICBpZiAodzNjX3NsaWR5LnNsaWRlX251bWJlciA+PSAwKQogICAgICAgdXJpID0gdXJpICsgaGFzaDsKCiAgICAgaWYgKHR5cGVvZihoaXN0b3J5LnB1c2hTdGF0ZSkgIT0gInVuZGVmaW5lZCIgJiYgbG9jYXRpb24ucHJvdG9jb2wgIT09ICJmaWxlOiIpCiAgICAgewogICAgICAgZG9jdW1lbnQudGl0bGUgPSB3M2Nfc2xpZHkudGl0bGUgKyAiICgiICsgKHczY19zbGlkeS5zbGlkZV9udW1iZXIrMSkgKyAiKSI7CiAgICAgICBoaXN0b3J5LnB1c2hTdGF0ZSgwLCBkb2N1bWVudC50aXRsZSwgaGFzaCk7CiAgICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZV9udW1iZXIoKTsKICAgICAgIHczY19zbGlkeS5ub3RpZnlfb2JzZXJ2ZXJzKCk7CiAgICAgICByZXR1cm47CiAgICAgfQoKICAgICBpZiAodzNjX3NsaWR5LmllICYmICh3M2Nfc2xpZHkuaWU2IHx8IHczY19zbGlkeS5pZTcpKQogICAgICAgdzNjX3NsaWR5LnB1c2hfaGFzaChoYXNoKTsKCiAgICAgaWYgKHVyaSAhPSBsb2NhdGlvbi5ocmVmKSAvLyAmJiAha2h0bWwKICAgICAgICBsb2NhdGlvbi5ocmVmID0gdXJpOwoKICAgICBpZiAodGhpcy5raHRtbCkKICAgICAgICBoYXNoID0gIigiICsgKHczY19zbGlkeS5zbGlkZV9udW1iZXIrMSkgKyAiKSI7CgogICAgIGlmICghdGhpcy5pZSAmJiBsb2NhdGlvbi5oYXNoICE9IGhhc2ggJiYgbG9jYXRpb24uaGFzaCAhPSAiIikKICAgICAgIGxvY2F0aW9uLmhhc2ggPSBoYXNoOwoKICAgICBkb2N1bWVudC50aXRsZSA9IHczY19zbGlkeS50aXRsZSArICIgKCIgKyAodzNjX3NsaWR5LnNsaWRlX251bWJlcisxKSArICIpIjsKICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZV9udW1iZXIoKTsKICAgICB3M2Nfc2xpZHkubm90aWZ5X29ic2VydmVycygpOwogIH0sCgogIG5vdGlmeV9vYnNlcnZlcnM6IGZ1bmN0aW9uICgpCiAgewogICAgdmFyIHNsaWRlID0gdGhpcy5zbGlkZXNbdGhpcy5zbGlkZV9udW1iZXJdOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5vYnNlcnZlcnMubGVuZ3RoOyArK2kpCiAgICAgIHRoaXMub2JzZXJ2ZXJzW2ldKHRoaXMuc2xpZGVfbnVtYmVyKzEsIHRoaXMuZmluZF9oZWFkaW5nKHNsaWRlKS5pbm5lclRleHQsIGxvY2F0aW9uLmhyZWYpOwogIH0sCgogIGFkZF9vYnNlcnZlcjogZnVuY3Rpb24gKG9ic2VydmVyKQogIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5vYnNlcnZlcnMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIGlmIChvYnNlcnZlciA9PSB0aGlzLm9ic2VydmVyc1tpXSkKICAgICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5vYnNlcnZlcnMucHVzaChvYnNlcnZlcik7CiAgfSwKCiAgcmVtb3ZlX29ic2VydmVyOiBmdW5jdGlvbiAobykKICB7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub2JzZXJ2ZXJzLmxlbmd0aDsgKytpKQogICAgewogICAgICBpZiAob2JzZXJ2ZXIgPT0gdGhpcy5vYnNlcnZlcnNbaV0pCiAgICAgIHsKICAgICAgICB0aGlzLm9ic2VydmVycy5zcGxpY2UoaSwxKTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0sCgogIHBhZ2VfYWRkcmVzczogZnVuY3Rpb24gKHVyaSkgewogICAgdmFyIGkgPSB1cmkuaW5kZXhPZigiIyIpOwoKICAgIGlmIChpIDwgMCkKICAgICAgaSA9IHVyaS5pbmRleE9mKCIlMjMiKTsKCiAgICAvLyBjaGVjayBpZiBhbmNob3IgaXMgZW50aXJlIHBhZ2UKCiAgICBpZiAoaSA8IDApCiAgICAgIHJldHVybiB1cmk7ICAvLyB5ZXMKCiAgICByZXR1cm4gdXJpLnN1YnN0cigwLCBpKTsKICB9LAoKICAvLyBvbmx5IHVzZWQgZm9yIElFNiBhbmQgSUU3CiAgb25fZnJhbWVfbG9hZGVkOiBmdW5jdGlvbiAoaGFzaCkgewogICAgbG9jYXRpb24uaGFzaCA9IGhhc2g7CiAgICB2YXIgdXJpID0gdzNjX3NsaWR5LnBhZ2VfYWRkcmVzcyhsb2NhdGlvbi5ocmVmKTsKICAgIGxvY2F0aW9uLmhyZWYgPSB1cmkgKyBoYXNoOwogIH0sCgogIC8vIGhpc3RvcnkgaGFjayB3aXRoIHRoYW5rcyB0byBCZXJ0cmFuZCBMZSBSb3kKICBwdXNoX2hhc2g6IGZ1bmN0aW9uIChoYXNoKSB7CiAgICBpZiAoaGFzaCA9PSAiIikgaGFzaCA9ICIjKDEpIjsKICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBoYXNoOwoKICAgIHZhciBkb2MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaGlzdG9yeUZyYW1lIikuY29udGVudFdpbmRvdy5kb2N1bWVudDsKICAgIGRvYy5vcGVuKCJqYXZhc2NyaXB0Oic8aHRtbD48L2h0bWw+JyIpOwogICAgZG9jLndyaXRlKCI8aHRtbD48aGVhZD48c2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj53aW5kb3cucGFyZW50LnczY19zbGlkeS5vbl9mcmFtZV9sb2FkZWQoJyIrCiAgICAgIChoYXNoKSArICInKTs8L3NjcmlwdD48L2hlYWQ+PGJvZHk+aGVsbG8gbXVtPC9ib2R5PjwvaHRtbD4iKTsKICAgICAgZG9jLmNsb3NlKCk7CiAgfSwKCiAgLy8gZmluZCBjdXJyZW50IHNsaWRlIGJhc2VkIHVwb24gbG9jYXRpb24KICAvLyBmaXJzdCBmaW5kIHRhcmdldCBhbmNob3IgYW5kIHRoZW4gbG9vawogIC8vIGZvciBhc3NvY2lhdGVkIGRpdiBlbGVtZW50IGVuY2xvc2luZyBpdAogIC8vIGZpbmFsbHkgbWFwIHRoYXQgdG8gc2xpZGUgbnVtYmVyCiAgZmluZF9zbGlkZV9udW1iZXI6IGZ1bmN0aW9uICh1cmkpIHsKICAgIC8vIGZpcnN0IGdldCBhbmNob3IgZnJvbSBwYWdlIGxvY2F0aW9uCgogICAgdmFyIGkgPSB1cmkuaW5kZXhPZigiIyIpOwoKICAgIC8vIGNoZWNrIGlmIGFuY2hvciBpcyBlbnRpcmUgcGFnZQogICAgaWYgKGkgPCAwKQogICAgICByZXR1cm4gMDsgIC8vIHllcwoKICAgIHZhciBhbmNob3IgPSB1bmVzY2FwZSh1cmkuc3Vic3RyKGkrMSkpOwoKICAgIC8vIG5vdyB1c2UgYW5jaG9yIGFzIFhNTCBJRCB0byBmaW5kIHRhcmdldAogICAgdmFyIHRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFuY2hvcik7CgogICAgaWYgKCF0YXJnZXQpCiAgICB7CiAgICAgIC8vIGRvZXMgYW5jaG9yIGxvb2sgbGlrZSAiKDIpIiBmb3Igc2xpZGUgMiA/PwogICAgICAvLyB3aGVyZSBmaXJzdCBzbGlkZSBpcyAoMSkKICAgICAgdmFyIHJlID0gL1woKFxkKStcKS87CgogICAgICBpZiAoYW5jaG9yLm1hdGNoKHJlKSkKICAgICAgewogICAgICAgIHZhciBudW0gPSBwYXJzZUludChhbmNob3Iuc3Vic3RyaW5nKDEsIGFuY2hvci5sZW5ndGgtMSkpOwoKICAgICAgICBpZiAobnVtID4gdGhpcy5zbGlkZXMubGVuZ3RoKQogICAgICAgICAgbnVtID0gMTsKCiAgICAgICAgaWYgKC0tbnVtIDwgMCkKICAgICAgICAgIG51bSA9IDA7CgogICAgICAgIHJldHVybiBudW07CiAgICAgIH0KCiAgICAgIC8vIGFjY2VwdCBbMl0gZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5CiAgICAgIHJlID0gL1xbKFxkKStcXS87CgogICAgICBpZiAoYW5jaG9yLm1hdGNoKHJlKSkKICAgICAgewogICAgICAgICB2YXIgbnVtID0gcGFyc2VJbnQoYW5jaG9yLnN1YnN0cmluZygxLCBhbmNob3IubGVuZ3RoLTEpKTsKCiAgICAgICAgIGlmIChudW0gPiB0aGlzLnNsaWRlcy5sZW5ndGgpCiAgICAgICAgICAgIG51bSA9IDE7CgogICAgICAgICBpZiAoLS1udW0gPCAwKQogICAgICAgICAgICBudW0gPSAwOwoKICAgICAgICAgcmV0dXJuIG51bTsKICAgICAgfQoKICAgICAgLy8gb2ggZGVhciB1bmtub3duIGFuY2hvcgogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICAvLyBzZWFyY2ggZm9yIGVuY2xvc2luZyBzbGlkZQoKICAgIHdoaWxlICh0cnVlKQogICAgewogICAgICAvLyBicm93c2VyIGNvZXJjZXMgaHRtbCBlbGVtZW50cyB0byB1cHBlcmNhc2UhCiAgICAgIGlmICh0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PSAiZGl2IiAmJgogICAgICAgICAgICB0aGlzLmhhc19jbGFzcyh0YXJnZXQsICJzbGlkZSIpKQogICAgICB7CiAgICAgICAgLy8gZm91bmQgdGhlIHNsaWRlIGVsZW1lbnQKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgLy8gb3RoZXJ3aXNlIHRyeSBwYXJlbnQgZWxlbWVudCBpZiBhbnkKCiAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlOwoKICAgICAgaWYgKCF0YXJnZXQpCiAgICAgIHsKICAgICAgICByZXR1cm4gMDsgICAvLyBubyBsdWNrIQogICAgICB9CiAgICB9OwoKICAgIGZvciAoaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIGlmIChzbGlkZXNbaV0gPT0gdGFyZ2V0KQogICAgICAgIHJldHVybiBpOyAgLy8gc3VjY2VzcwogICAgfQoKICAgIC8vIG9oIGRlYXIgc3RpbGwgbm8gbHVjawogICAgcmV0dXJuIDA7CiAgfSwKCiAgcHJldmlvdXNfc2xpZGU6IGZ1bmN0aW9uIChpbmNyZW1lbnRhbCkgewogICAgaWYgKCF3M2Nfc2xpZHkudmlld19hbGwpCiAgICB7CiAgICAgIHZhciBzbGlkZTsKCiAgICAgIGlmICgoaW5jcmVtZW50YWwgfHwgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9PSAwKSAmJiB3M2Nfc2xpZHkubGFzdF9zaG93biAhPSBudWxsKQogICAgICB7CiAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSB3M2Nfc2xpZHkuaGlkZV9wcmV2aW91c19pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKTsKICAgICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXMoZmFsc2UpOwogICAgICB9CiAgICAgIGVsc2UgaWYgKHczY19zbGlkeS5zbGlkZV9udW1iZXIgPiAwKQogICAgICB7CiAgICAgICAgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgIHczY19zbGlkeS5oaWRlX3NsaWRlKHNsaWRlKTsKCiAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IHczY19zbGlkeS5zbGlkZV9udW1iZXIgLSAxOwogICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICB3M2Nfc2xpZHkuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJ2aXNpYmxlIik7CiAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSB3M2Nfc2xpZHkucHJldmlvdXNfaW5jcmVtZW50YWxfaXRlbShudWxsKTsKICAgICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXModHJ1ZSk7CiAgICAgICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgICB9CgogICAgICB3M2Nfc2xpZHkuc2V0X2xvY2F0aW9uKCk7CgogICAgICBpZiAoIXczY19zbGlkeS5uc19wb3MpCiAgICAgICAgdzNjX3NsaWR5LnJlZnJlc2hfdG9vbGJhcigyMDApOwogICAgfQogIH0sCgogIG5leHRfc2xpZGU6IGZ1bmN0aW9uIChpbmNyZW1lbnRhbCkgewogICAgaWYgKCF3M2Nfc2xpZHkudmlld19hbGwpCiAgICB7CiAgICAgIHZhciBzbGlkZSwgbGFzdCA9IHczY19zbGlkeS5sYXN0X3Nob3duOwoKICAgICAgaWYgKGluY3JlbWVudGFsIHx8IHczY19zbGlkeS5zbGlkZV9udW1iZXIgPT0gdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxKQogICAgICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IHczY19zbGlkeS5yZXZlYWxfbmV4dF9pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKTsKCiAgICAgIGlmICgoIWluY3JlbWVudGFsIHx8IHczY19zbGlkeS5sYXN0X3Nob3duID09IG51bGwpICYmCiAgICAgICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyIDwgdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxKQogICAgICB7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwoKICAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IHczY19zbGlkeS5zbGlkZV9udW1iZXIgKyAxOwogICAgICAgICBzbGlkZSA9IHczY19zbGlkeS5zbGlkZXNbdzNjX3NsaWR5LnNsaWRlX251bWJlcl07CiAgICAgICAgIHczY19zbGlkeS5sYXN0X3Nob3duID0gbnVsbDsKICAgICAgICAgdzNjX3NsaWR5LnNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbCgiaGlkZGVuIik7CiAgICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgfQogICAgICBlbHNlIGlmICghdzNjX3NsaWR5Lmxhc3Rfc2hvd24pCiAgICAgIHsKICAgICAgICAgaWYgKGxhc3QgJiYgaW5jcmVtZW50YWwpCiAgICAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSBsYXN0OwogICAgICB9CgogICAgICB3M2Nfc2xpZHkuc2V0X2xvY2F0aW9uKCk7CgogICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXMoIXczY19zbGlkeS5uZXh0X2luY3JlbWVudGFsX2l0ZW0odzNjX3NsaWR5Lmxhc3Rfc2hvd24pKTsKCiAgICAgIGlmICghdzNjX3NsaWR5Lm5zX3BvcykKICAgICAgICAgdzNjX3NsaWR5LnJlZnJlc2hfdG9vbGJhcigyMDApOwogICAgIH0KICB9LAoKICAvLyB0byBmaXJzdCBzbGlkZSB3aXRoIG5vdGhpbmcgcmV2ZWFsZWQKICAvLyBpLmUuIHN0YXRlIGF0IHN0YXJ0IG9mIHByZXNlbnRhdGlvbgogIGZpcnN0X3NsaWRlOiBmdW5jdGlvbiAoKSB7CiAgICAgaWYgKCF3M2Nfc2xpZHkudmlld19hbGwpCiAgICAgewogICAgICAgdmFyIHNsaWRlOwoKICAgICAgIGlmICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyICE9IDApCiAgICAgICB7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwoKICAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IDA7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSBudWxsOwogICAgICAgICB3M2Nfc2xpZHkuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJoaWRkZW4iKTsKICAgICAgICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgICAgfQoKICAgICAgIHczY19zbGlkeS5zZXRfZW9zX3N0YXR1cygKICAgICAgICAgIXczY19zbGlkeS5uZXh0X2luY3JlbWVudGFsX2l0ZW0odzNjX3NsaWR5Lmxhc3Rfc2hvd24pKTsKICAgICAgIHczY19zbGlkeS5zZXRfbG9jYXRpb24oKTsKICAgICB9CiAgfSwKCiAgLy8gZ290byBsYXN0IHNsaWRlIHdpdGggZXZlcnl0aGluZyByZXZlYWxlZAogIC8vIGkuZS4gc3RhdGUgYXQgZW5kIG9mIHByZXNlbnRhdGlvbgogIGxhc3Rfc2xpZGU6IGZ1bmN0aW9uICgpIHsKICAgIGlmICghdzNjX3NsaWR5LnZpZXdfYWxsKQogICAgewogICAgICB2YXIgc2xpZGU7CgogICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IG51bGw7IC8vcmV2ZWFsTmV4dEl0ZW0obGFzdFNob3duKTsKCiAgICAgIGlmICh3M2Nfc2xpZHkubGFzdF9zaG93biA9PSBudWxsICYmCiAgICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyIDwgdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxKQogICAgICB7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID0gdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxOwogICAgICAgICBzbGlkZSA9IHczY19zbGlkeS5zbGlkZXNbdzNjX3NsaWR5LnNsaWRlX251bWJlcl07CiAgICAgICAgIHczY19zbGlkeS5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoInZpc2libGUiKTsKICAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSB3M2Nfc2xpZHkucHJldmlvdXNfaW5jcmVtZW50YWxfaXRlbShudWxsKTsKCiAgICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgfQogICAgICBlbHNlCiAgICAgIHsKICAgICAgICAgdzNjX3NsaWR5LnNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbCgidmlzaWJsZSIpOwogICAgICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IHczY19zbGlkeS5wcmV2aW91c19pbmNyZW1lbnRhbF9pdGVtKG51bGwpOwogICAgICB9CgogICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXModHJ1ZSk7CiAgICAgIHczY19zbGlkeS5zZXRfbG9jYXRpb24oKTsKICAgIH0KICB9LAoKCiAgLy8gIyMjIGNoZWNrIHRoaXMgYW5kIGNvbnNpZGVyIGFkZC9yZW1vdmUgY2xhc3MKICBzZXRfZW9zX3N0YXR1czogZnVuY3Rpb24gKHN0YXRlKSB7CiAgICBpZiAodGhpcy5lb3MpCiAgICAgIHRoaXMuZW9zLnN0eWxlLmNvbG9yID0gKHN0YXRlID8gInJnYigyNDAsMjQwLDI0MCkiIDogInJlZCIpOwogIH0sCgogIC8vIGZpcnN0IHNsaWRlIGlzIDAKICBnb3RvX3NsaWRlOiBmdW5jdGlvbiAobnVtKSB7CiAgICAvL2FsZXJ0KCJnb2luZyB0byBzbGlkZSAiICsgKG51bSsxKSk7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IG51bTsKICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgIHczY19zbGlkeS5sYXN0X3Nob3duID0gbnVsbDsKICAgIHczY19zbGlkeS5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoImhpZGRlbiIpOwogICAgdzNjX3NsaWR5LnNldF9lb3Nfc3RhdHVzKCF3M2Nfc2xpZHkubmV4dF9pbmNyZW1lbnRhbF9pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKSk7CiAgICBkb2N1bWVudC50aXRsZSA9IHczY19zbGlkeS50aXRsZSArICIgKCIgKyAodzNjX3NsaWR5LnNsaWRlX251bWJlcisxKSArICIpIjsKICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgIHczY19zbGlkeS5zaG93X3NsaWRlX251bWJlcigpOwogIH0sCgoKICBzaG93X3NsaWRlOiBmdW5jdGlvbiAoc2xpZGUpIHsKICAgIHRoaXMuc3luY19iYWNrZ3JvdW5kKHNsaWRlKTsKICAgIHRoaXMucmVtb3ZlX2NsYXNzKHNsaWRlLCAiaGlkZGVuIik7CgogICAgLy8gd29yayBhcm91bmQgSUU5IG9iamVjdCByZW5kZXJpbmcgYnVnCiAgICBzZXRUaW1lb3V0KCJ3aW5kb3cuc2Nyb2xsVG8oMCwwKTsiLCAxKTsKICB9LAoKICBoaWRlX3NsaWRlOiBmdW5jdGlvbiAoc2xpZGUpIHsKICAgIHRoaXMuYWRkX2NsYXNzKHNsaWRlLCAiaGlkZGVuIik7CiAgfSwKCiAgc2V0X2ZvY3VzOiBmdW5jdGlvbiAoZWxlbWVudCkKICB7CiAgICBpZiAoZWxlbWVudCkKICAgICAgZWxlbWVudC5mb2N1cygpOwogICAgZWxzZQogICAgewogICAgICB3M2Nfc2xpZHkuaGVscF9hbmNob3IuZm9jdXMoKTsKCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgdzNjX3NsaWR5LmhlbHBfYW5jaG9yLmJsdXIoKTsKICAgICAgfSwgMSk7CiAgICB9CiAgfSwKCiAgLy8gc2hvdyBqdXN0IHRoZSBiYWNrZ3JvdW5kcyBwZXJ0aW5lbnQgdG8gdGhpcyBzbGlkZQogIC8vIHdoZW4gc2xpZGUgYmFja2dyb3VuZC1jb2xvciBpcyB0cmFuc3BhcmVudAogIC8vIHRoaXMgc2hvdWxkIG5vdyB3b3JrIHdpdGggcmdiYSBjb2xvciB2YWx1ZXMKICBzeW5jX2JhY2tncm91bmQ6IGZ1bmN0aW9uIChzbGlkZSkgewogICAgdmFyIGJhY2tncm91bmQ7CiAgICB2YXIgYmdDb2xvcjsKCiAgICBpZiAoc2xpZGUuY3VycmVudFN0eWxlKQogICAgICBiZ0NvbG9yID0gc2xpZGUuY3VycmVudFN0eWxlWyJiYWNrZ3JvdW5kQ29sb3IiXTsKICAgIGVsc2UgaWYgKGRvY3VtZW50LmRlZmF1bHRWaWV3KQogICAgewogICAgICB2YXIgc3R5bGVzID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShzbGlkZSxudWxsKTsKCiAgICAgIGlmIChzdHlsZXMpCiAgICAgICAgYmdDb2xvciA9IHN0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKCJiYWNrZ3JvdW5kLWNvbG9yIik7CiAgICAgIGVsc2UgLy8gYnJva2VuIGltcGxlbWVudGF0aW9uIHByb2JhYmx5IGR1ZSBTYWZhcmkgb3IgS29ucXVlcm9yCiAgICAgIHsKICAgICAgICAvL2FsZXJ0KCJkZWZlY3RpdmUgaW1wbGVtZW50YXRpb24gb2YgZ2V0Q29tcHV0ZWRTdHlsZSgpIik7CiAgICAgICAgYmdDb2xvciA9ICJ0cmFuc3BhcmVudCI7CiAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgICAgYmdDb2xvciA9PSAidHJhbnNwYXJlbnQiOwoKICAgIGlmIChiZ0NvbG9yID09ICJ0cmFuc3BhcmVudCIgfHwKICAgICAgICBiZ0NvbG9yLmluZGV4T2YoInJnYmEiKSA+PSAwIHx8CiAgICAgICAgYmdDb2xvci5pbmRleE9mKCJvcGFjaXR5IikgPj0gMCkKICAgIHsKICAgICAgdmFyIHNsaWRlQ2xhc3MgPSB0aGlzLmdldF9jbGFzc19saXN0KHNsaWRlKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYWNrZ3JvdW5kcy5sZW5ndGg7IGkrKykKICAgICAgewogICAgICAgIGJhY2tncm91bmQgPSB0aGlzLmJhY2tncm91bmRzW2ldOwoKICAgICAgICB2YXIgYmdDbGFzcyA9IHRoaXMuZ2V0X2NsYXNzX2xpc3QoYmFja2dyb3VuZCk7CgogICAgICAgIGlmICh0aGlzLm1hdGNoaW5nX2JhY2tncm91bmQoc2xpZGVDbGFzcywgYmdDbGFzcykpCiAgICAgICAgICB0aGlzLnJlbW92ZV9jbGFzcyhiYWNrZ3JvdW5kLCAiaGlkZGVuIik7CiAgICAgICAgZWxzZQogICAgICAgICAgdGhpcy5hZGRfY2xhc3MoYmFja2dyb3VuZCwgImhpZGRlbiIpOwogICAgICB9CiAgICB9CiAgICBlbHNlIC8vIGZvcmNpYmx5IGhpZGUgYWxsIGJhY2tncm91bmRzCiAgICAgIHRoaXMuaGlkZV9iYWNrZ3JvdW5kcygpOwogIH0sCgogIGhpZGVfYmFja2dyb3VuZHM6IGZ1bmN0aW9uICgpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYWNrZ3JvdW5kcy5sZW5ndGg7IGkrKykKICAgIHsKICAgICAgYmFja2dyb3VuZCA9IHRoaXMuYmFja2dyb3VuZHNbaV07CiAgICAgIHRoaXMuYWRkX2NsYXNzKGJhY2tncm91bmQsICJoaWRkZW4iKTsKICAgIH0KICB9LAoKICAvLyBjb21wYXJlIGNsYXNzZXMgZm9yIHNsaWRlIGFuZCBiYWNrZ3JvdW5kCiAgbWF0Y2hpbmdfYmFja2dyb3VuZDogZnVuY3Rpb24gKHNsaWRlQ2xhc3MsIGJnQ2xhc3MpIHsKICAgIHZhciBpLCBjb3VudCwgcGF0dGVybiwgcmVzdWx0OwoKICAgIC8vIGRlZmluZSBwYXR0ZXJuIGFzIHJlZ3VsYXIgZXhwcmVzc2lvbgogICAgcGF0dGVybiA9IC9cdysvZzsKCiAgICAvLyBjaGVjayBiYWNrZ3JvdW5kIGNsYXNzIG5hbWVzCiAgICByZXN1bHQgPSBiZ0NsYXNzLm1hdGNoKHBhdHRlcm4pOwoKICAgIGZvciAoaSA9IGNvdW50ID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7IGkrKykKICAgIHsKICAgICAgaWYgKHJlc3VsdFtpXSA9PSAiaGlkZGVuIikKICAgICAgICBjb250aW51ZTsKCiAgICAgIGlmIChyZXN1bHRbaV0gPT0gImJhY2tncm91bmQiKQoJY29udGludWU7CgogICAgICArK2NvdW50OwogICAgfQoKICAgIGlmIChjb3VudCA9PSAwKSAgLy8gZGVmYXVsdCBtYXRjaAogICAgICByZXR1cm4gdHJ1ZTsKCiAgICAvLyBjaGVjayBmb3IgbWF0Y2hlcyBhbmQgcGxhY2UgcmVzdWx0IGluIGFycmF5CiAgICByZXN1bHQgPSBzbGlkZUNsYXNzLm1hdGNoKHBhdHRlcm4pOwoKICAgIC8vIG5vdyBjaGVjayBpZiBkZXNpcmVkIG5hbWUgaXMgcHJlc2VudCBmb3IgYmFja2dyb3VuZAogICAgZm9yIChpID0gY291bnQgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKQogICAgewogICAgICBpZiAocmVzdWx0W2ldID09ICJoaWRkZW4iKQogICAgICAgIGNvbnRpbnVlOwoKICAgICAgaWYgKHRoaXMuaGFzX3Rva2VuKGJnQ2xhc3MsIHJlc3VsdFtpXSkpCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0sCgogIHJlc2l6ZWQ6IGZ1bmN0aW9uICgpIHsKICAgICB2YXIgd2lkdGggPSAwOwoKICAgICBpZiAoIHR5cGVvZiggd2luZG93LmlubmVyV2lkdGggKSA9PSAnbnVtYmVyJyApCiAgICAgICB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOyAgLy8gTm9uIElFIGJyb3dzZXIKICAgICBlbHNlIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKQogICAgICAgd2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7ICAvLyBJRTYKICAgICBlbHNlIGlmIChkb2N1bWVudC5ib2R5ICYmIGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgpCiAgICAgICB3aWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7IC8vIElFNAoKICAgICB2YXIgaGVpZ2h0ID0gMDsKCiAgICAgaWYgKCB0eXBlb2YoIHdpbmRvdy5pbm5lckhlaWdodCApID09ICdudW1iZXInICkKICAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsgIC8vIE5vbiBJRSBicm93c2VyCiAgICAgZWxzZSBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpCiAgICAgICBoZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OyAgLy8gSUU2CiAgICAgZWxzZSBpZiAoZG9jdW1lbnQuYm9keSAmJiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCkKICAgICAgIGhlaWdodCA9IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0OyAvLyBJRTQKCiAgICAgaWYgKGhlaWdodCAmJiAod2lkdGgvaGVpZ2h0ID4gMS4wNSoxMDI0Lzc2OCkpCiAgICAgewogICAgICAgd2lkdGggPSBoZWlnaHQgKiAxMDI0LjAvNzY4OwogICAgIH0KCiAgICAgLy8gSUUgZmlyZXMgb25yZXNpemUgZXZlbiB3aGVuIG9ubHkgZm9udCBzaXplIGlzIGNoYW5nZWQhCiAgICAgLy8gc28gd2UgZG8gYSBjaGVjayB0byBhdm9pZCBibG9ja2luZyA8IGFuZCA+IGFjdGlvbnMKICAgICBpZiAod2lkdGggIT0gdzNjX3NsaWR5Lmxhc3Rfd2lkdGggfHwgaGVpZ2h0ICE9IHczY19zbGlkeS5sYXN0X2hlaWdodCkKICAgICB7CiAgICAgICBpZiAod2lkdGggPj0gMTEwMCkKICAgICAgICAgdzNjX3NsaWR5LnNpemVfaW5kZXggPSA1OyAgICAvLyA0CiAgICAgICBlbHNlIGlmICh3aWR0aCA+PSAxMDAwKQogICAgICAgICB3M2Nfc2xpZHkuc2l6ZV9pbmRleCA9IDQ7ICAgIC8vIDMKICAgICAgIGVsc2UgaWYgKHdpZHRoID49IDgwMCkKICAgICAgICAgdzNjX3NsaWR5LnNpemVfaW5kZXggPSAzOyAgICAvLyAyCiAgICAgICBlbHNlIGlmICh3aWR0aCA+PSA2MDApCiAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ID0gMjsgICAgLy8gMQogICAgICAgZWxzZSBpZiAod2lkdGgpCiAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ID0gMDsKCiAgICAgICAvLyBhZGQgaW4gZm9udCBzaXplIGFkanVzdG1lbnQgZnJvbSBtZXRhIGVsZW1lbnQgZS5nLgogICAgICAgLy8gPG1ldGEgbmFtZT0iZm9udC1zaXplLWFkanVzdG1lbnQiIGNvbnRlbnQ9Ii0yIiAvPgogICAgICAgLy8gdXNlZnVsIHdoZW4gc2xpZGVzIGhhdmUgdG9vIG11Y2ggY29udGVudCA7LSkKCiAgICAgICBpZiAoMCA8PSB3M2Nfc2xpZHkuc2l6ZV9pbmRleCArIHczY19zbGlkeS5zaXplX2FkanVzdG1lbnQgJiYKICAgICAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ICsgdzNjX3NsaWR5LnNpemVfYWRqdXN0bWVudCA8IHczY19zbGlkeS5zaXplcy5sZW5ndGgpCiAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ID0gdzNjX3NsaWR5LnNpemVfaW5kZXggKyB3M2Nfc2xpZHkuc2l6ZV9hZGp1c3RtZW50OwoKICAgICAgIC8vIGVuYWJsZXMgY3Jvc3MgYnJvd3NlciB1c2Ugb2YgcmVsYXRpdmUgd2lkdGgvaGVpZ2h0CiAgICAgICAvLyBvbiBvYmplY3QgZWxlbWVudHMgZm9yIHVzZSB3aXRoIFNWRyBhbmQgRmxhc2ggbWVkaWEKICAgICAgIHczY19zbGlkeS5hZGp1c3Rfb2JqZWN0X2RpbWVuc2lvbnMod2lkdGgsIGhlaWdodCk7CgogICAgICAgaWYgKGRvY3VtZW50LmJvZHkuc3R5bGUuZm9udFNpemUgIT0gdzNjX3NsaWR5LnNpemVzW3czY19zbGlkeS5zaXplX2luZGV4XSkKICAgICAgIHsKICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5mb250U2l6ZSA9IHczY19zbGlkeS5zaXplc1t3M2Nfc2xpZHkuc2l6ZV9pbmRleF07CiAgICAgICB9CgogICAgICAgdzNjX3NsaWR5Lmxhc3Rfd2lkdGggPSB3aWR0aDsKICAgICAgIHczY19zbGlkeS5sYXN0X2hlaWdodCA9IGhlaWdodDsKCiAgICAgICAvLyBmb3JjZSByZWZsb3cgdG8gd29yayBhcm91bmQgTW96aWxsYSBidWcKICAgICAgIGlmICh3M2Nfc2xpZHkubnNfcG9zKQogICAgICAgewogICAgICAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgICB3M2Nfc2xpZHkuaGlkZV9zbGlkZShzbGlkZSk7CiAgICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgIH0KCiAgICAgICAvLyBmb3JjZSBjb3JyZWN0IHBvc2l0aW9uaW5nIG9mIHRvb2xiYXIKICAgICAgIHczY19zbGlkeS5yZWZyZXNoX3Rvb2xiYXIoMjAwKTsKICAgICB9CiAgfSwKCiAgc2Nyb2xsZWQ6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3M2Nfc2xpZHkudG9vbGJhciAmJiAhdzNjX3NsaWR5Lm5zX3BvcyAmJiAhdzNjX3NsaWR5LmllNykKICAgIHsKICAgICAgdzNjX3NsaWR5LmhhY2tfb2Zmc2V0ID0gdzNjX3NsaWR5LnNjcm9sbF94X29mZnNldCgpOwogICAgICAvLyBoaWRlIHRvb2xiYXIKICAgICAgdzNjX3NsaWR5LnRvb2xiYXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKCiAgICAgIC8vIG1ha2UgaXQgcmVhcHBlYXIgbGF0ZXIKICAgICAgaWYgKHczY19zbGlkeS5zY3JvbGxoYWNrID09IDAgJiYgIXczY19zbGlkeS52aWV3X2FsbCkKICAgICAgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge3czY19zbGlkeS5zaG93X3Rvb2xiYXIoKTsgfSwgMTAwMCk7CiAgICAgICAgdzNjX3NsaWR5LnNjcm9sbGhhY2sgPSAxOwogICAgICB9CiAgICB9CiAgfSwKCiAgaGlkZV90b29sYmFyOiBmdW5jdGlvbiAoKSB7CiAgICB3M2Nfc2xpZHkuYWRkX2NsYXNzKHczY19zbGlkeS50b29sYmFyLCAiaGlkZGVuIik7CiAgICB3aW5kb3cuZm9jdXMoKTsKICB9LAoKICAvLyB1c2VkIHRvIGVuc3VyZSBJRSByZWZyZXNoZXMgdG9vbGJhciBpbiBjb3JyZWN0IHBvc2l0aW9uCiAgcmVmcmVzaF90b29sYmFyOiBmdW5jdGlvbiAoaW50ZXJ2YWwpIHsKICAgIGlmICghdzNjX3NsaWR5Lm5zX3BvcyAmJiAhdzNjX3NsaWR5LmllNykKICAgIHsKICAgICAgdzNjX3NsaWR5LmhpZGVfdG9vbGJhcigpOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHt3M2Nfc2xpZHkuc2hvd190b29sYmFyKCk7fSwgaW50ZXJ2YWwpOwogICAgfQogIH0sCgogIC8vIHJlc3RvcmVzIHRvb2xiYXIgYWZ0ZXIgc2hvcnQgZGVsYXkKICBzaG93X3Rvb2xiYXI6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3M2Nfc2xpZHkud2FudF90b29sYmFyKQogICAgewogICAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKCiAgICAgIGlmICghdzNjX3NsaWR5Lm5zX3BvcykKICAgICAgewogICAgICAgIC8vIGFkanVzdCBwb3NpdGlvbiB0byBhbGxvdyBmb3Igc2Nyb2xsaW5nCiAgICAgICAgdmFyIHhvZmZzZXQgPSB3M2Nfc2xpZHkuc2Nyb2xsX3hfb2Zmc2V0KCk7CiAgICAgICAgdzNjX3NsaWR5LnRvb2xiYXIuc3R5bGUubGVmdCA9IHhvZmZzZXQ7CiAgICAgICAgdzNjX3NsaWR5LnRvb2xiYXIuc3R5bGUucmlnaHQgPSB4b2Zmc2V0OwoKICAgICAgICAvLyBkZXRlcm1pbmUgdmVydGljYWwgc2Nyb2xsIG9mZnNldAogICAgICAgIC8vdmFyIHlvZmZzZXQgPSBzY3JvbGxZT2Zmc2V0KCk7CgogICAgICAgIC8vIGJvdHRvbSBpcyBkb2MgaGVpZ2h0IC0gd2luZG93IGhlaWdodCAtIHNjcm9sbCBvZmZzZXQKICAgICAgICAvL3ZhciBib3R0b20gPSBkb2N1bWVudEhlaWdodCgpIC0gbGFzdEhlaWdodCAtIHlvZmZzZXQKCiAgICAgICAgLy9pZiAoeW9mZnNldCA+IDAgfHwgZG9jdW1lbnRIZWlnaHQoKSA+IGxhc3RIZWlnaHQpCiAgICAgICAgLy8gICBib3R0b20gKz0gMTY7ICAvLyBhbGxvdyBmb3IgaGVpZ2h0IG9mIHNjcm9sbGJhcgoKICAgICAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5ib3R0b20gPSAwOyAvL2JvdHRvbTsKICAgICAgfQoKICAgICAgdzNjX3NsaWR5LnJlbW92ZV9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpOwogICAgfQoKICAgIHczY19zbGlkeS5zY3JvbGxoYWNrID0gMDsKCgogICAgLy8gc2V0IHRoZSBrZXlib2FyZCBmb2N1cyB0byB0aGUgaGVscCBsaW5rIG9uIHRoZQogICAgLy8gdG9vbGJhciB0byBlbnN1cmUgdGhhdCBkb2N1bWVudCBoYXMgdGhlIGZvY3VzCiAgICAvLyBJRSBkb2Vzbid0IGFsd2F5cyB3b3JrIHdpdGggd2luZG93LmZvY3VzKCkKICAgIC8vIGFuZCB0aGlzIGhhY2sgaGFzIGJlbmVmaXQgb2YgRW50ZXIgZm9yIGhlbHAKCiAgICB0cnkKICAgIHsKICAgICAgaWYgKCF3M2Nfc2xpZHkub3BlcmEpCiAgICAgICAgdzNjX3NsaWR5LnNldF9mb2N1cygpOwogICAgfQogICAgY2F0Y2ggKGUpCiAgICB7CiAgICB9CiAgfSwKCi8vIGludm9rZWQgdmlhIEYga2V5CiAgdG9nZ2xlX3Rvb2xiYXI6IGZ1bmN0aW9uICgpIHsKICAgIGlmICghdzNjX3NsaWR5LnZpZXdfYWxsKQogICAgewogICAgICBpZiAodzNjX3NsaWR5Lmhhc19jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpKQogICAgICB7CiAgICAgICAgdzNjX3NsaWR5LnJlbW92ZV9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpCiAgICAgICAgdzNjX3NsaWR5LndhbnRfdG9vbGJhciA9IDE7CiAgICAgIH0KICAgICAgZWxzZQogICAgICB7CiAgICAgICAgdzNjX3NsaWR5LmFkZF9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpCiAgICAgICAgdzNjX3NsaWR5LndhbnRfdG9vbGJhciA9IDA7CiAgICAgIH0KICAgIH0KICB9LAoKICBzY3JvbGxfeF9vZmZzZXQ6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3aW5kb3cucGFnZVhPZmZzZXQpCiAgICAgIHJldHVybiBzZWxmLnBhZ2VYT2Zmc2V0OwoKICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgCiAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCkKICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0OwoKICAgIGlmIChkb2N1bWVudC5ib2R5KQogICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0OwoKICAgIHJldHVybiAwOwogIH0sCgogIHNjcm9sbF95X29mZnNldDogZnVuY3Rpb24gKCkgewogICAgaWYgKHdpbmRvdy5wYWdlWU9mZnNldCkKICAgICAgcmV0dXJuIHNlbGYucGFnZVlPZmZzZXQ7CgogICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiAKICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApCiAgICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOwoKICAgIGlmIChkb2N1bWVudC5ib2R5KQogICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7CgogICAgcmV0dXJuIDA7CiAgfSwKCiAgLy8gbG9va2luZyBmb3IgYSB3YXkgdG8gZGV0ZXJtaW5lIGhlaWdodCBvZiBzbGlkZSBjb250ZW50CiAgLy8gdGhlIHNsaWRlIGl0c2VsZiBpcyBzZXQgdG8gdGhlIGhlaWdodCBvZiB0aGUgd2luZG93CiAgb3B0aW1pemVfZm9udF9zaXplOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwoKICAgIC8vdmFyIGRoID0gZG9jdW1lbnRIZWlnaHQoKTsgLy9nZXREb2NIZWlnaHQoZG9jdW1lbnQpOwogICAgdmFyIGRoID0gc2xpZGUuc2Nyb2xsSGVpZ2h0OwogICAgdmFyIHdoID0gZ2V0V2luZG93SGVpZ2h0KCk7CiAgICB2YXIgdSA9IDEwMCAqIGRoIC8gd2g7CgogICAgYWxlcnQoIndpbmRvdyB1dGlsaXphdGlvbiA9ICIgKyB1ICsgIiUgKGRvYyAiCiAgICAgICsgZGggKyAiIHdpbiAiICsgd2ggKyAiKSIpOwogIH0sCgogIC8vIGZyb20gZG9jdW1lbnQgb2JqZWN0CiAgZ2V0X2RvY19oZWlnaHQ6IGZ1bmN0aW9uIChkb2MpIHsKICAgIGlmICghZG9jKQogICAgICBkb2MgPSBkb2N1bWVudDsKCiAgICBpZiAoZG9jICYmIGRvYy5ib2R5ICYmIGRvYy5ib2R5Lm9mZnNldEhlaWdodCkKICAgICAgcmV0dXJuIGRvYy5ib2R5Lm9mZnNldEhlaWdodDsgIC8vIG5zL2dlY2tvIHN5bnRheAoKICAgIGlmIChkb2MgJiYgZG9jLmJvZHkgJiYgZG9jLmJvZHkuc2Nyb2xsSGVpZ2h0KQogICAgICByZXR1cm4gZG9jLmJvZHkuc2Nyb2xsSGVpZ2h0OwoKICAgIGFsZXJ0KCJjb3VsZG4ndCBkZXRlcm1pbmUgZG9jdW1lbnQgaGVpZ2h0Iik7CiAgfSwKCiAgZ2V0X3dpbmRvd19oZWlnaHQ6IGZ1bmN0aW9uICgpIHsKICAgIGlmICggdHlwZW9mKCB3aW5kb3cuaW5uZXJIZWlnaHQgKSA9PSAnbnVtYmVyJyApCiAgICAgIHJldHVybiB3aW5kb3cuaW5uZXJIZWlnaHQ7ICAvLyBOb24gSUUgYnJvd3NlcgoKICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkKICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7ICAvLyBJRTYKCiAgICBpZiAoZG9jdW1lbnQuYm9keSAmJiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCkKICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0OyAvLyBJRTQKICB9LAoKICBkb2N1bWVudF9oZWlnaHQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBzaCwgb2g7CgogICAgc2ggPSBkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodDsKICAgIG9oID0gZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQ7CgogICAgaWYgKHNoICYmIG9oKQogICAgewogICAgICByZXR1cm4gKHNoID4gb2ggPyBzaCA6IG9oKTsKICAgIH0KCiAgICAvLyBubyBpZGVhIQogICAgcmV0dXJuIDA7CiAgfSwKCiAgc21hbGxlcjogZnVuY3Rpb24gKCkgewogICAgaWYgKHczY19zbGlkeS5zaXplX2luZGV4ID4gMCkKICAgIHsKICAgICAgLS13M2Nfc2xpZHkuc2l6ZV9pbmRleDsKICAgIH0KCiAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5mb250U2l6ZSA9IHczY19zbGlkeS5zaXplc1t3M2Nfc2xpZHkuc2l6ZV9pbmRleF07CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7dzNjX3NsaWR5LnNob3dfdG9vbGJhcigpOyB9LCA1MCk7CiAgfSwKCiAgYmlnZ2VyOiBmdW5jdGlvbiAoKSB7CiAgICBpZiAodzNjX3NsaWR5LnNpemVfaW5kZXggPCB3M2Nfc2xpZHkuc2l6ZXMubGVuZ3RoIC0gMSkKICAgIHsKICAgICAgKyt3M2Nfc2xpZHkuc2l6ZV9pbmRleDsKICAgIH0KCiAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5mb250U2l6ZSA9IHczY19zbGlkeS5zaXplc1t3M2Nfc2xpZHkuc2l6ZV9pbmRleF07CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7dzNjX3NsaWR5LnNob3dfdG9vbGJhcigpOyB9LCA1MCk7CiAgfSwKCiAgLy8gZW5hYmxlcyBjcm9zcyBicm93c2VyIHVzZSBvZiByZWxhdGl2ZSB3aWR0aC9oZWlnaHQKICAvLyBvbiBvYmplY3QgZWxlbWVudHMgZm9yIHVzZSB3aXRoIFNWRyBhbmQgRmxhc2ggbWVkaWEKICAvLyB3aXRoIHRoYW5rcyB0byBJdmFuIEhlcm1hbiBmb3IgdGhlIHN1Z2dlc3Rpb24KICBhZGp1c3Rfb2JqZWN0X2RpbWVuc2lvbnM6IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7CiAgICBmb3IoIHZhciBpID0gMDsgaSA8IHczY19zbGlkeS5vYmplY3RzLmxlbmd0aDsgaSsrICkKICAgIHsKICAgICAgdmFyIG9iaiA9IHRoaXMub2JqZWN0c1tpXTsKICAgICAgdmFyIG1pbWVUeXBlID0gb2JqLmdldEF0dHJpYnV0ZSgidHlwZSIpOwoKICAgICAgaWYgKG1pbWVUeXBlID09ICJpbWFnZS9zdmcreG1sIiB8fCBtaW1lVHlwZSA9PSAiYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2giKQogICAgICB7CiAgICAgICAgaWYgKCAhb2JqLmluaXRpYWxXaWR0aCApIAogICAgICAgICAgb2JqLmluaXRpYWxXaWR0aCA9IG9iai5nZXRBdHRyaWJ1dGUoIndpZHRoIik7CgogICAgICAgIGlmICggIW9iai5pbml0aWFsSGVpZ2h0ICkgCiAgICAgICAgICBvYmouaW5pdGlhbEhlaWdodCA9IG9iai5nZXRBdHRyaWJ1dGUoImhlaWdodCIpOwoKICAgICAgICBpZiAoIG9iai5pbml0aWFsV2lkdGggJiYgb2JqLmluaXRpYWxXaWR0aC5jaGFyQXQob2JqLmluaXRpYWxXaWR0aC5sZW5ndGgtMSkgPT0gIiUiICkKICAgICAgICB7CiAgICAgICAgICB2YXIgdyA9IHBhcnNlSW50KG9iai5pbml0aWFsV2lkdGguc2xpY2UoMCwgb2JqLmluaXRpYWxXaWR0aC5sZW5ndGgtMSkpOwogICAgICAgICAgdmFyIG5ld1cgPSB3aWR0aCAqICh3LzEwMC4wKTsKICAgICAgICAgIG9iai5zZXRBdHRyaWJ1dGUoIndpZHRoIixuZXdXKTsKICAgICAgICB9CgogICAgICAgIGlmICggb2JqLmluaXRpYWxIZWlnaHQgJiYKICAgICAgICAgICAgIG9iai5pbml0aWFsSGVpZ2h0LmNoYXJBdChvYmouaW5pdGlhbEhlaWdodC5sZW5ndGgtMSkgPT0gIiUiICkKICAgICAgICB7CiAgICAgICAgICB2YXIgaCA9IHBhcnNlSW50KG9iai5pbml0aWFsSGVpZ2h0LnNsaWNlKDAsIG9iai5pbml0aWFsSGVpZ2h0Lmxlbmd0aC0xKSk7CiAgICAgICAgICB2YXIgbmV3SCA9IGhlaWdodCAqIChoLzEwMC4wKTsKICAgICAgICAgIG9iai5zZXRBdHRyaWJ1dGUoImhlaWdodCIsIG5ld0gpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCgogIC8vIG5lZWRlZCBmb3IgT3BlcmEgdG8gaW5oaWJpdCBkZWZhdWx0IGJlaGF2aW9yCiAgLy8gc2luY2UgT3BlcmEgZGVsaXZlcnMga2V5UHJlc3MgZXZlbiBpZiBrZXlEb3duCiAgLy8gd2FzIGNhbmNlbGxlZAogIGtleV9wcmVzczogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoIWV2ZW50KQogICAgICBldmVudCA9IHdpbmRvdy5ldmVudDsKCiAgICBpZiAoIXczY19zbGlkeS5rZXlfd2FudGVkKQogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CgogICAgcmV0dXJuIHRydWU7CiAgfSwKCiAgLy8gIFNlZSBlLmcuIGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvanMvZXZlbnRzL2tleXMuaHRtbCBmb3Iga2V5Y29kZXMKICBrZXlfZG93bjogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICB2YXIga2V5LCB0YXJnZXQsIHRhZzsKCiAgICB3M2Nfc2xpZHkua2V5X3dhbnRlZCA9IHRydWU7CgogICAgaWYgKCFldmVudCkKICAgICAgZXZlbnQgPSB3aW5kb3cuZXZlbnQ7CgogICAgLy8ga2x1ZGdlIGFyb3VuZCBOUy9JRSBkaWZmZXJlbmNlcyAKICAgIGlmICh3aW5kb3cuZXZlbnQpCiAgICB7CiAgICAgIGtleSA9IHdpbmRvdy5ldmVudC5rZXlDb2RlOwogICAgICB0YXJnZXQgPSB3aW5kb3cuZXZlbnQuc3JjRWxlbWVudDsKICAgIH0KICAgIGVsc2UgaWYgKGV2ZW50LndoaWNoKQogICAgewogICAgICBrZXkgPSBldmVudC53aGljaDsKICAgICAgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0OwogICAgfQogICAgZWxzZQogICAgICByZXR1cm4gdHJ1ZTsgLy8gWWlrZXMhIHVua25vd24gYnJvd3NlcgoKICAgIC8vIGlnbm9yZSBldmVudCBpZiBrZXkgdmFsdWUgaXMgemVybwogICAgLy8gYXMgZm9yIGFsdCBvbiBPcGVyYSBhbmQgS29ucXVlcm9yCiAgICBpZiAoIWtleSkKICAgICAgIHJldHVybiB0cnVlOwoKICAgIC8vIGF2b2lkIGludGVyZmVyaW5nIHdpdGgga2V5c3Ryb2tlCiAgICAvLyBiZWhhdmlvciBmb3Igbm9uLXNsaWR5IGNocm9tZSBlbGVtZW50cwogICAgaWYgKCF3M2Nfc2xpZHkuc2xpZHlfY2hyb21lKHRhcmdldCkgJiYKICAgICAgICB3M2Nfc2xpZHkuc3BlY2lhbF9lbGVtZW50KHRhcmdldCkpCiAgICAgIHJldHVybiB0cnVlOwoKICAgIC8vIGNoZWNrIGZvciBjb25jdXJyZW50IGNvbnRyb2wvY29tbWFuZC9hbHQga2V5CiAgICAvLyBidXQgYXJlIHRoZXNlIG9ubHkgcHJlc2VudCBvbiBtb3VzZSBldmVudHM/CgogICAgaWYgKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuYWx0S2V5IHx8IGV2ZW50Lm1ldGFLZXkpCiAgICAgICByZXR1cm4gdHJ1ZTsKCiAgICAvLyBkaXNtaXNzIHRhYmxlIG9mIGNvbnRlbnRzIGlmIHZpc2libGUKICAgIGlmICh3M2Nfc2xpZHkuaXNfc2hvd25fdG9jKCkgJiYga2V5ICE9IDkgJiYga2V5ICE9IDE2ICYmIGtleSAhPSAzOCAmJiBrZXkgIT0gNDApCiAgICB7CiAgICAgIHczY19zbGlkeS5oaWRlX3RhYmxlX29mX2NvbnRlbnRzKHRydWUpOwoKICAgICAgaWYgKGtleSA9PSAyNyB8fCBrZXkgPT0gODQgfHwga2V5ID09IDY3KQogICAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KCiAgICBpZiAoa2V5ID09IDM0KSAvLyBQYWdlIERvd24KICAgIHsKICAgICAgaWYgKHczY19zbGlkeS52aWV3X2FsbCkKICAgICAgICByZXR1cm4gdHJ1ZTsKCiAgICAgIHczY19zbGlkeS5uZXh0X3NsaWRlKGZhbHNlKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDMzKSAvLyBQYWdlIFVwCiAgICB7CiAgICAgIGlmICh3M2Nfc2xpZHkudmlld19hbGwpCiAgICAgICAgcmV0dXJuIHRydWU7CgogICAgICB3M2Nfc2xpZHkucHJldmlvdXNfc2xpZGUoZmFsc2UpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMzIpIC8vIHNwYWNlIGJhcgogICAgewogICAgICB3M2Nfc2xpZHkubmV4dF9zbGlkZSh0cnVlKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDM3KSAvLyBMZWZ0IGFycm93CiAgICB7CiAgICAgIHczY19zbGlkeS5wcmV2aW91c19zbGlkZSghZXZlbnQuc2hpZnRLZXkpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMzYpIC8vIEhvbWUKICAgIHsKICAgICAgdzNjX3NsaWR5LmZpcnN0X3NsaWRlKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSAzNSkgLy8gRW5kCiAgICB7CiAgICAgIHczY19zbGlkeS5sYXN0X3NsaWRlKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSAzOSkgLy8gUmlnaHQgYXJyb3cKICAgIHsKICAgICAgdzNjX3NsaWR5Lm5leHRfc2xpZGUoIWV2ZW50LnNoaWZ0S2V5KTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDEzKSAvLyBFbnRlcgogICAgewogICAgICBpZiAodzNjX3NsaWR5Lm91dGxpbmUpCiAgICAgIHsKICAgICAgICBpZiAodzNjX3NsaWR5Lm91dGxpbmUudmlzaWJsZSkKICAgICAgICAgIHczY19zbGlkeS5mb2xkKHczY19zbGlkeS5vdXRsaW5lKTsKICAgICAgICBlbHNlCiAgICAgICAgICB3M2Nfc2xpZHkudW5mb2xkKHczY19zbGlkeS5vdXRsaW5lKTsKICAgICAgICAgIAogICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgICB9CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMTg4KSAgLy8gPCBmb3Igc21hbGxlciBmb250cwogICAgewogICAgICB3M2Nfc2xpZHkuc21hbGxlcigpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMTkwKSAgLy8gPiBmb3IgbGFyZ2VyIGZvbnRzCiAgICB7CiAgICAgIHczY19zbGlkeS5iaWdnZXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDE4OSB8fCBrZXkgPT0gMTA5KSAgLy8gLSBmb3Igc21hbGxlciBmb250cwogICAgewogICAgICB3M2Nfc2xpZHkuc21hbGxlcigpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMTg3IHx8IGtleSA9PSAxOTEgfHwga2V5ID09IDEwNykgIC8vID0gKyAgZm9yIGxhcmdlciBmb250cwogICAgewogICAgICB3M2Nfc2xpZHkuYmlnZ2VyKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA4MykgIC8vIFMgZm9yIHNtYWxsZXIgZm9udHMKICAgIHsKICAgICAgdzNjX3NsaWR5LnNtYWxsZXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDY2KSAgLy8gQiBmb3IgbGFyZ2VyIGZvbnRzCiAgICB7CiAgICAgIHczY19zbGlkeS5iaWdnZXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDkwKSAgLy8gWiBmb3IgbGFzdCBzbGlkZQogICAgewogICAgICB3M2Nfc2xpZHkubGFzdF9zbGlkZSgpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gNzApICAvLyBGIGZvciB0b2dnbGUgdG9vbGJhcgogICAgewogICAgICB3M2Nfc2xpZHkudG9nZ2xlX3Rvb2xiYXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDY1KSAgLy8gQSBmb3IgdG9nZ2xlIHZpZXcgc2luZ2xlL2FsbCBzbGlkZXMKICAgIHsKICAgICAgdzNjX3NsaWR5LnRvZ2dsZV92aWV3KCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA3NSkgIC8vIHRvZ2dsZSBhY3Rpb24gb2YgbGVmdCBjbGljayBmb3IgbmV4dCBwYWdlCiAgICB7CiAgICAgIHczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkID0gIXczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkOwogICAgICB2YXIgYWxlcnRfbXNnID0gKHczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkID8KICAgICAgICAgICAgICAgICJlbmFibGVkIiA6ICJkaXNhYmxlZCIpICsgICIgbW91c2UgY2xpY2sgYWR2YW5jZSI7CgogICAgICBhbGVydCh3M2Nfc2xpZHkubG9jYWxpemUoYWxlcnRfbXNnKSk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA4NCB8fCBrZXkgPT0gNjcpICAvLyBUIG9yIEMgZm9yIHRhYmxlIG9mIGNvbnRlbnRzCiAgICB7CiAgICAgIGlmICh3M2Nfc2xpZHkudG9jKQogICAgICAgIHczY19zbGlkeS50b2dnbGVfdGFibGVfb2ZfY29udGVudHMoKTsKCiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA3MikgLy8gSCBmb3IgaGVscAogICAgewogICAgICB3aW5kb3cubG9jYXRpb24gPSB3M2Nfc2xpZHkuaGVscF9wYWdlOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICAvL2Vsc2UgYWxlcnQoImtleSBjb2RlIGlzICIrIGtleSk7CgogICAgcmV0dXJuIHRydWU7CiAgfSwKCiAgLy8gc2FmZSBmb3IgYm90aCB0ZXh0L2h0bWwgYW5kIGFwcGxpY2F0aW9uL3hodG1sK3htbAogIGNyZWF0ZV9lbGVtZW50OiBmdW5jdGlvbiAobmFtZSkgewogICAgaWYgKHRoaXMueGh0bWwgJiYgKHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMgIT0gJ3VuZGVmaW5lZCcpKQogICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiwgbmFtZSkKCiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lKTsKICB9LAoKICBnZXRfZWxlbWVudF9zdHlsZTogZnVuY3Rpb24gKGVsZW0sIElFU3R5bGVQcm9wLCBDU1NTdHlsZVByb3ApIHsKICAgIGlmIChlbGVtLmN1cnJlbnRTdHlsZSkKICAgIHsKICAgICAgcmV0dXJuIGVsZW0uY3VycmVudFN0eWxlW0lFU3R5bGVQcm9wXTsKICAgIH0KICAgIGVsc2UgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKQogICAgewogICAgICB2YXIgY29tcFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbSwgIiIpOwogICAgICByZXR1cm4gY29tcFN0eWxlLmdldFByb3BlcnR5VmFsdWUoQ1NTU3R5bGVQcm9wKTsKICAgIH0KICAgIHJldHVybiAiIjsKICB9LAoKICAvLyB0aGUgc3RyaW5nIHN0ciBpcyBhIHdoaXRlc3BhY2Ugc2VwYXJhdGVkIGxpc3Qgb2YgdG9rZW5zCiAgLy8gdGVzdCBpZiBzdHIgY29udGFpbnMgYSBwYXJ0aWN1bGFyIHRva2VuLCBlLmcuICJzbGlkZSIKICBoYXNfdG9rZW46IGZ1bmN0aW9uIChzdHIsIHRva2VuKSB7CiAgICBpZiAoc3RyKQogICAgewogICAgICAvLyBkZWZpbmUgcGF0dGVybiBhcyByZWd1bGFyIGV4cHJlc3Npb24KICAgICAgdmFyIHBhdHRlcm4gPSAvXHcrL2c7CgogICAgICAvLyBjaGVjayBmb3IgbWF0Y2hlcwogICAgICAvLyBwbGFjZSByZXN1bHQgaW4gYXJyYXkKICAgICAgdmFyIHJlc3VsdCA9IHN0ci5tYXRjaChwYXR0ZXJuKTsKCiAgICAgIC8vIG5vdyBjaGVjayBpZiBkZXNpcmVkIHRva2VuIGlzIHByZXNlbnQKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspCiAgICAgIHsKICAgICAgICBpZiAocmVzdWx0W2ldID09IHRva2VuKQogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZmFsc2U7CiAgfSwKCiAgZ2V0X2NsYXNzX2xpc3Q6IGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICBpZiAodHlwZW9mIGVsZW1lbnQuY2xhc3NOYW1lICE9ICd1bmRlZmluZWQnKQogICAgICByZXR1cm4gZWxlbWVudC5jbGFzc05hbWU7CgogICAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCJjbGFzcyIpOwogIH0sCgogIGhhc19jbGFzczogZnVuY3Rpb24gKGVsZW1lbnQsIG5hbWUpIHsKICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlICE9IDEpCiAgICAgIHJldHVybiBmYWxzZTsKCiAgICB2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cCgiKF58ICkiICsgbmFtZSArICJcVyoiKTsKCiAgICBpZiAodHlwZW9mIGVsZW1lbnQuY2xhc3NOYW1lICE9ICd1bmRlZmluZWQnKQogICAgICByZXR1cm4gcmVnZXhwLnRlc3QoZWxlbWVudC5jbGFzc05hbWUpOwoKICAgIHJldHVybiByZWdleHAudGVzdChlbGVtZW50LmdldEF0dHJpYnV0ZSgiY2xhc3MiKSk7CiAgfSwKCiAgcmVtb3ZlX2NsYXNzOiBmdW5jdGlvbiAoZWxlbWVudCwgbmFtZSkgewogICAgdmFyIHJlZ2V4cCA9IG5ldyBSZWdFeHAoIihefCApIiArIG5hbWUgKyAiXFcqIik7CiAgICB2YXIgY2xzdmFsID0gIiI7CgogICAgaWYgKHR5cGVvZiBlbGVtZW50LmNsYXNzTmFtZSAhPSAndW5kZWZpbmVkJykKICAgIHsKICAgICAgY2xzdmFsID0gZWxlbWVudC5jbGFzc05hbWU7CgogICAgICBpZiAoY2xzdmFsKQogICAgICB7CiAgICAgICAgY2xzdmFsID0gY2xzdmFsLnJlcGxhY2UocmVnZXhwLCAiIik7CiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBjbHN2YWw7CiAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgY2xzdmFsID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoImNsYXNzIik7CgogICAgICBpZiAoY2xzdmFsKQogICAgICB7CiAgICAgICAgY2xzdmFsID0gY2xzdmFsLnJlcGxhY2UocmVnZXhwLCAiIik7CiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgY2xzdmFsKTsKICAgICAgfQogICAgfQogIH0sCgogIGFkZF9jbGFzczogZnVuY3Rpb24gKGVsZW1lbnQsIG5hbWUpIHsKICAgIGlmICghdGhpcy5oYXNfY2xhc3MoZWxlbWVudCwgbmFtZSkpCiAgICB7CiAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5jbGFzc05hbWUgIT0gJ3VuZGVmaW5lZCcpCiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgKz0gIiAiICsgbmFtZTsKICAgICAgZWxzZQogICAgICB7CiAgICAgICAgdmFyIGNsc3ZhbCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCJjbGFzcyIpOwogICAgICAgIGNsc3ZhbCA9IGNsc3ZhbCA/IGNsc3ZhbCArICIgIiArIG5hbWUgOiBuYW1lOwogICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCJjbGFzcyIsIGNsc3ZhbCk7CiAgICAgIH0KICAgIH0KICB9LAoKICAvLyBIVE1MIGVsZW1lbnRzIHRoYXQgY2FuIGJlIHVzZWQgd2l0aCBjbGFzcz0iaW5jcmVtZW50YWwiCiAgLy8gbm90ZSB0aGF0IHlvdSBjYW4gYWxzbyBwdXQgdGhlIGNsYXNzIG9uIGNvbnRhaW5lcnMgbGlrZQogIC8vIHVwLCBvbCwgZGwsIGFuZCBkaXYgdG8gbWFrZSB0aGVpciBjb250ZW50cyBhcHBlYXIKICAvLyBpbmNyZW1lbnRhbGx5LiBVcHBlciBjYXNlIGlzIHVzZWQgc2luY2UgdGhpcyBpcyB3aGF0CiAgLy8gYnJvd3NlcnMgcmVwb3J0IGZvciBIVE1MIG5vZGUgbmFtZXMgKHRleHQvaHRtbCkuCiAgaW5jcmVtZW50YWxfZWxlbWVudHM6IG51bGwsCiAgb2theV9mb3JfaW5jcmVtZW50YWw6IGZ1bmN0aW9uIChuYW1lKSB7CiAgICBpZiAoIXRoaXMuaW5jcmVtZW50YWxfZWxlbWVudHMpCiAgICB7CiAgICAgIHZhciBpbmNsaXN0ID0gbmV3IEFycmF5KCk7CiAgICAgIGluY2xpc3RbInAiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbInByZSJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsibGkiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImJsb2NrcXVvdGUiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImR0Il0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJkZCJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsiaDIiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImgzIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJoNCJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsiaDUiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImg2Il0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJzcGFuIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJhZGRyZXNzIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJ0YWJsZSJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsidHIiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbInRoIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJ0ZCJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsiaW1nIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJvYmplY3QiXSA9IHRydWU7CiAgICAgIHRoaXMuaW5jcmVtZW50YWxfZWxlbWVudHMgPSBpbmNsaXN0OwogICAgfQogICAgcmV0dXJuIHRoaXMuaW5jcmVtZW50YWxfZWxlbWVudHNbbmFtZS50b0xvd2VyQ2FzZSgpXTsKICB9LAoKICBuZXh0X2luY3JlbWVudGFsX2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICB2YXIgYnIgPSB0aGlzLmlzX3hodG1sID8gImJyIiA6ICJCUiI7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwoKICAgIGZvciAoOzspCiAgICB7CiAgICAgIG5vZGUgPSB3M2Nfc2xpZHkubmV4dF9ub2RlKHNsaWRlLCBub2RlKTsKCiAgICAgIGlmIChub2RlID09IG51bGwgfHwgbm9kZS5wYXJlbnROb2RlID09IG51bGwpCiAgICAgICAgYnJlYWs7CgogICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSAgLy8gRUxFTUVOVAogICAgICB7CiAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gYnIpCiAgICAgICAgICBjb250aW51ZTsKCiAgICAgICAgaWYgKHczY19zbGlkeS5oYXNfY2xhc3Mobm9kZSwgImluY3JlbWVudGFsIikKICAgICAgICAgICAgICYmIHczY19zbGlkeS5va2F5X2Zvcl9pbmNyZW1lbnRhbChub2RlLm5vZGVOYW1lKSkKICAgICAgICAgIHJldHVybiBub2RlOwoKICAgICAgICBpZiAodzNjX3NsaWR5Lmhhc19jbGFzcyhub2RlLnBhcmVudE5vZGUsICJpbmNyZW1lbnRhbCIpCiAgICAgICAgICAgICAmJiAhdzNjX3NsaWR5Lmhhc19jbGFzcyhub2RlLCAibm9uLWluY3JlbWVudGFsIikpCiAgICAgICAgICByZXR1cm4gbm9kZTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBub2RlOwogIH0sCgogIHByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICB2YXIgYnIgPSB0aGlzLmlzX3hodG1sID8gImJyIiA6ICJCUiI7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwoKICAgIGZvciAoOzspCiAgICB7CiAgICAgIG5vZGUgPSB3M2Nfc2xpZHkucHJldmlvdXNfbm9kZShzbGlkZSwgbm9kZSk7CgogICAgICBpZiAobm9kZSA9PSBudWxsIHx8IG5vZGUucGFyZW50Tm9kZSA9PSBudWxsKQogICAgICAgIGJyZWFrOwoKICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkKICAgICAgewogICAgICAgIGlmIChub2RlLm5vZGVOYW1lID09IGJyKQogICAgICAgICAgY29udGludWU7CgogICAgICAgIGlmICh3M2Nfc2xpZHkuaGFzX2NsYXNzKG5vZGUsICJpbmNyZW1lbnRhbCIpCiAgICAgICAgICAgICAmJiB3M2Nfc2xpZHkub2theV9mb3JfaW5jcmVtZW50YWwobm9kZS5ub2RlTmFtZSkpCiAgICAgICAgICByZXR1cm4gbm9kZTsKCiAgICAgICAgaWYgKHczY19zbGlkeS5oYXNfY2xhc3Mobm9kZS5wYXJlbnROb2RlLCAiaW5jcmVtZW50YWwiKQogICAgICAgICAgICAgJiYgIXczY19zbGlkeS5oYXNfY2xhc3Mobm9kZSwgIm5vbi1pbmNyZW1lbnRhbCIpKQogICAgICAgICAgcmV0dXJuIG5vZGU7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbm9kZTsKICB9LAoKICAvLyBzZXQgdmlzaWJpbGl0eSBmb3IgYWxsIGVsZW1lbnRzIG9uIGN1cnJlbnQgc2xpZGUgd2l0aAogIC8vIGEgcGFyZW50IGVsZW1lbnQgd2l0aCBhdHRyaWJ1dGUgY2xhc3M9ImluY3JlbWVudGFsIgogIHNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbDogZnVuY3Rpb24gKHZhbHVlKSB7CiAgICB2YXIgbm9kZSA9IHRoaXMubmV4dF9pbmNyZW1lbnRhbF9pdGVtKG51bGwpOwoKICAgIGlmICh2YWx1ZSA9PSAiaGlkZGVuIikKICAgIHsKICAgICAgd2hpbGUgKG5vZGUpCiAgICAgIHsKICAgICAgICB3M2Nfc2xpZHkuYWRkX2NsYXNzKG5vZGUsICJpbnZpc2libGUiKTsKICAgICAgICBub2RlID0gdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbShub2RlKTsKICAgICAgfQogICAgfQogICAgZWxzZSAvLyB2YWx1ZSA9PSAidmlzaWJsZSIKICAgIHsKICAgICAgd2hpbGUgKG5vZGUpCiAgICAgIHsKICAgICAgICB3M2Nfc2xpZHkucmVtb3ZlX2NsYXNzKG5vZGUsICJpbnZpc2libGUiKTsKICAgICAgICBub2RlID0gdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbShub2RlKTsKICAgICAgfQogICAgfQogIH0sCgogIC8vIHJldmVhbCB0aGUgbmV4dCBoaWRkZW4gaXRlbSBvbiB0aGUgc2xpZGUKICAvLyBub2RlIGlzIG51bGwgb3IgdGhlIG5vZGUgdGhhdCB3YXMgbGFzdCByZXZlYWxlZAogIHJldmVhbF9uZXh0X2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICBub2RlID0gdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbShub2RlKTsKCiAgICBpZiAobm9kZSAmJiBub2RlLm5vZGVUeXBlID09IDEpICAvLyBhbiBlbGVtZW50CiAgICAgIHczY19zbGlkeS5yZW1vdmVfY2xhc3Mobm9kZSwgImludmlzaWJsZSIpOwoKICAgIHJldHVybiBub2RlOwogIH0sCgogIC8vIGV4YWN0IGludmVyc2Ugb2YgcmV2ZWFsTmV4dEl0ZW0obm9kZSkKICBoaWRlX3ByZXZpb3VzX2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICBpZiAobm9kZSAmJiBub2RlLm5vZGVUeXBlID09IDEpICAvLyBhbiBlbGVtZW50CiAgICAgIHczY19zbGlkeS5hZGRfY2xhc3Mobm9kZSwgImludmlzaWJsZSIpOwoKICAgIHJldHVybiB0aGlzLnByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW0obm9kZSk7CiAgfSwKCiAgLy8gbGVmdCB0byByaWdodCB0cmF2ZXJzYWwgb2Ygcm9vdCdzIGNvbnRlbnQKICBuZXh0X25vZGU6IGZ1bmN0aW9uIChyb290LCBub2RlKSB7CiAgICBpZiAobm9kZSA9PSBudWxsKQogICAgICByZXR1cm4gcm9vdC5maXJzdENoaWxkOwoKICAgIGlmIChub2RlLmZpcnN0Q2hpbGQpCiAgICAgIHJldHVybiBub2RlLmZpcnN0Q2hpbGQ7CgogICAgaWYgKG5vZGUubmV4dFNpYmxpbmcpCiAgICAgIHJldHVybiBub2RlLm5leHRTaWJsaW5nOwoKICAgIGZvciAoOzspCiAgICB7CiAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7CgogICAgICBpZiAoIW5vZGUgfHwgbm9kZSA9PSByb290KQogICAgICAgIGJyZWFrOwoKICAgICAgaWYgKG5vZGUgJiYgbm9kZS5uZXh0U2libGluZykKICAgICAgICByZXR1cm4gbm9kZS5uZXh0U2libGluZzsKICAgIH0KCiAgICByZXR1cm4gbnVsbDsKICB9LAoKICAvLyByaWdodCB0byBsZWZ0IHRyYXZlcnNhbCBvZiByb290J3MgY29udGVudAogIHByZXZpb3VzX25vZGU6IGZ1bmN0aW9uIChyb290LCBub2RlKSB7CiAgICBpZiAobm9kZSA9PSBudWxsKQogICAgewogICAgICBub2RlID0gcm9vdC5sYXN0Q2hpbGQ7CgogICAgICBpZiAobm9kZSkKICAgICAgewogICAgICAgIHdoaWxlIChub2RlLmxhc3RDaGlsZCkKICAgICAgICAgIG5vZGUgPSBub2RlLmxhc3RDaGlsZDsKICAgICAgfQoKICAgICAgcmV0dXJuIG5vZGU7CiAgICB9CgogICAgaWYgKG5vZGUucHJldmlvdXNTaWJsaW5nKQogICAgewogICAgICBub2RlID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7CgogICAgICB3aGlsZSAobm9kZS5sYXN0Q2hpbGQpCiAgICAgICAgbm9kZSA9IG5vZGUubGFzdENoaWxkOwoKICAgICAgcmV0dXJuIG5vZGU7CiAgICB9CgogICAgaWYgKG5vZGUucGFyZW50Tm9kZSAhPSByb290KQogICAgICByZXR1cm4gbm9kZS5wYXJlbnROb2RlOwoKICAgIHJldHVybiBudWxsOwogIH0sCgogIHByZXZpb3VzX3NpYmxpbmdfZWxlbWVudDogZnVuY3Rpb24gKGVsKSB7CiAgICBlbCA9IGVsLnByZXZpb3VzU2libGluZzsKCiAgICB3aGlsZSAoZWwgJiYgZWwubm9kZVR5cGUgIT0gMSkKICAgICAgZWwgPSBlbC5wcmV2aW91c1NpYmxpbmc7CgogICAgcmV0dXJuIGVsOwogIH0sCgogIG5leHRfc2libGluZ19lbGVtZW50OiBmdW5jdGlvbiAoZWwpIHsKICAgIGVsID0gZWwubmV4dFNpYmxpbmc7CgogICAgd2hpbGUgKGVsICYmIGVsLm5vZGVUeXBlICE9IDEpCiAgICAgIGVsID0gZWwubmV4dFNpYmxpbmc7CgogICAgcmV0dXJuIGVsOwogIH0sCgogIGZpcnN0X2NoaWxkX2VsZW1lbnQ6IGZ1bmN0aW9uIChlbCkgewogICAgdmFyIG5vZGU7CgogICAgZm9yIChub2RlID0gZWwuZmlyc3RDaGlsZDsgbm9kZTsgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmcpCiAgICB7CiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEpCiAgICAgICAgYnJlYWs7CiAgICB9CgogICAgcmV0dXJuIG5vZGU7CiAgfSwKCiAgZmlyc3RfdGFnOiBmdW5jdGlvbiAoZWxlbWVudCwgdGFnKSB7CiAgICB2YXIgbm9kZTsKCiAgICBpZiAoIXRoaXMuaXNfeGh0bWwpCiAgICAgIHRhZyA9IHRhZy50b1VwcGVyQ2FzZSgpOwoKICAgIGZvciAobm9kZSA9IGVsZW1lbnQuZmlyc3RDaGlsZDsgbm9kZTsgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmcpCiAgICB7CiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEgJiYgbm9kZS5ub2RlTmFtZSA9PSB0YWcpCiAgICAgICAgYnJlYWs7CiAgICB9CgogICAgcmV0dXJuIG5vZGU7CiAgfSwKCiAgaGlkZV9zZWxlY3Rpb246IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSAvLyBGaXJlZm94LCBDaHJvbWl1bSwgU2FmYXJpLCBPcGVyYQogICAgewogICAgICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpOwoKICAgICAgaWYgKHNlbGVjdGlvbi5yYW5nZUNvdW50ID4gMCkKICAgICAgewogICAgICAgIHZhciByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApOwogICAgICAgIHJhbmdlLmNvbGxhcHNlIChmYWxzZSk7CiAgICAgIH0KICAgIH0KICAgIGVsc2UgLy8gSW50ZXJuZXQgRXhwbG9yZXIKICAgIHsKICAgICAgdmFyIHRleHRSYW5nZSA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSAoKTsKICAgICAgdGV4dFJhbmdlLmNvbGxhcHNlIChmYWxzZSk7CiAgICB9CiAgfSwKCiAgZ2V0X3NlbGVjdGVkX3RleHQ6IGZ1bmN0aW9uICgpIHsKICAgIHRyeQogICAgewogICAgICBpZiAod2luZG93LmdldFNlbGVjdGlvbikKICAgICAgICByZXR1cm4gd2luZG93LmdldFNlbGVjdGlvbigpLnRvU3RyaW5nKCk7CgogICAgICBpZiAoZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKQogICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKS50b1N0cmluZygpOwoKICAgICAgaWYgKGRvY3VtZW50LnNlbGVjdGlvbikKICAgICAgICByZXR1cm4gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkudGV4dDsKICAgIH0KICAgIGNhdGNoIChlKQogICAgewogICAgfQoKICAgIHJldHVybiAiIjsKICB9LAoKICAvLyBtYWtlIG5vdGUgb2YgbGVuZ3RoIG9mIHNlbGVjdGVkIHRleHQKICAvLyBhcyB0aGlzIGV2YWx1YXRlcyB0byB6ZXJvIGluIGNsaWNrIGV2ZW50CiAgbW91c2VfYnV0dG9uX3VwOiBmdW5jdGlvbiAoZSkgewogICAgdzNjX3NsaWR5LnNlbGVjdGVkX3RleHRfbGVuID0gdzNjX3NsaWR5LmdldF9zZWxlY3RlZF90ZXh0KCkubGVuZ3RoOwogIH0sCgogIG1vdXNlX2J1dHRvbl9kb3duOiBmdW5jdGlvbiAoZSkgewogICAgdzNjX3NsaWR5LnNlbGVjdGVkX3RleHRfbGVuID0gdzNjX3NsaWR5LmdldF9zZWxlY3RlZF90ZXh0KCkubGVuZ3RoOwogICAgdzNjX3NsaWR5Lm1vdXNlX3ggPSBlLmNsaWVudFg7CiAgICB3M2Nfc2xpZHkubW91c2VfeSA9IGUuY2xpZW50WTsKICB9LAoKICAvLyByaWdodCBtb3VzZSBidXR0b24gY2xpY2sgaXMgcmVzZXJ2ZWQgZm9yIGNvbnRleHQgbWVudXMKICAvLyBpdCBpcyBtb3JlIHJlbGlhYmxlIHRvIGRldGVjdCByaWdodGNsaWNrIHRoYW4gbGVmdGNsaWNrCiAgbW91c2VfYnV0dG9uX2NsaWNrOiBmdW5jdGlvbiAoZSkgewogICAgaWYgKCFlKQogICAgICB2YXIgZSA9IHdpbmRvdy5ldmVudDsKCiAgICBpZiAoTWF0aC5hYnMoZS5jbGllbnRYIC13M2Nfc2xpZHkubW91c2VfeCkgKwogICAgICAgIE1hdGguYWJzKGUuY2xpZW50WSAtdzNjX3NsaWR5Lm1vdXNlX3kpID4gMTApCiAgICAgIHJldHVybiB0cnVlOwoKICAgIGlmICh3M2Nfc2xpZHkuc2VsZWN0ZWRfdGV4dF9sZW4gPiAwKQogICAgICByZXR1cm4gdHJ1ZTsKCiAgICB2YXIgcmlnaHRjbGljayA9IGZhbHNlOwogICAgdmFyIGxlZnRjbGljayA9IGZhbHNlOwogICAgdmFyIG1pZGRsZWNsaWNrID0gZmFsc2U7CiAgICB2YXIgdGFyZ2V0OwoKICAgIGlmICghZSkKICAgICAgdmFyIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgaWYgKGUudGFyZ2V0KQogICAgICB0YXJnZXQgPSBlLnRhcmdldDsKICAgIGVsc2UgaWYgKGUuc3JjRWxlbWVudCkKICAgICAgdGFyZ2V0ID0gZS5zcmNFbGVtZW50OwoKICAgIC8vIHdvcmsgYXJvdW5kIFNhZmFyaSBidWcKICAgIGlmICh0YXJnZXQubm9kZVR5cGUgPT0gMykKICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CgogICAgaWYgKGUud2hpY2gpIC8vIGFsbCBicm93c2VycyBleGNlcHQgSUUKICAgIHsKICAgICAgbGVmdGNsaWNrID0gKGUud2hpY2ggPT0gMSk7CiAgICAgIG1pZGRsZWNsaWNrID0gKGUud2hpY2ggPT0gMik7CiAgICAgIHJpZ2h0Y2xpY2sgPSAoZS53aGljaCA9PSAzKTsKICAgIH0KICAgIGVsc2UgaWYgKGUuYnV0dG9uKQogICAgewogICAgICAvLyBLb25xdWVyb3IgZ2l2ZXMgMSBmb3IgbGVmdCwgNCBmb3IgbWlkZGxlCiAgICAgIC8vIElFNiBnaXZlcyAwIGZvciBsZWZ0IGFuZCBub3QgMSBhcyBJIGV4cGVjdGVkCgogICAgICBpZiAoZS5idXR0b24gPT0gNCkKICAgICAgICBtaWRkbGVjbGljayA9IHRydWU7CgogICAgICAvLyBhbGwgYnJvd3NlcnMgYWdyZWUgb24gMiBmb3IgcmlnaHQgYnV0dG9uCiAgICAgIHJpZ2h0Y2xpY2sgPSAoZS5idXR0b24gPT0gMik7CiAgICB9CiAgICBlbHNlCiAgICAgIGxlZnRjbGljayA9IHRydWU7CgogICAgaWYgKHczY19zbGlkeS5zZWxlY3RlZF90ZXh0X2xlbiA+IDApCiAgICB7CiAgICAgIHczY19zbGlkeS5zdG9wX3Byb3BhZ2F0aW9uKGUpOwogICAgICBlLmNhbmNlbCA9IHRydWU7CiAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vIGRpc21pc3MgdGFibGUgb2YgY29udGVudHMKICAgIHczY19zbGlkeS5oaWRlX3RhYmxlX29mX2NvbnRlbnRzKGZhbHNlKTsKCiAgICAvLyBjaGVjayBpZiB0YXJnZXQgaXMgc29tZXRoaW5nIHRoYXQgcHJvYmFibHkgd2FudCdzIGNsaWNrcwogICAgLy8gZS5nLiBhLCBlbWJlZCwgb2JqZWN0LCBpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCwgb3B0aW9uCiAgICB2YXIgdGFnID0gdGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CgogICAgaWYgKHczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkICYmIGxlZnRjbGljayAmJgogICAgICAgICF3M2Nfc2xpZHkuc3BlY2lhbF9lbGVtZW50KHRhcmdldCkgJiYKICAgICAgICAhdGFyZ2V0Lm9uY2xpY2spCiAgICB7CiAgICAgIHczY19zbGlkeS5uZXh0X3NsaWRlKHRydWUpOwogICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihlKTsKICAgICAgZS5jYW5jZWwgPSB0cnVlOwogICAgICBlLnJldHVyblZhbHVlID0gZmFsc2U7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9LAoKICBzcGVjaWFsX2VsZW1lbnQ6IGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICBpZiAodGhpcy5oYXNfY2xhc3MoZWxlbWVudCwgIm5vbi1pbnRlcmFjdGl2ZSIpKQogICAgICByZXR1cm4gZmFsc2U7CgogICAgdmFyIHRhZyA9IGVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKCiAgICByZXR1cm4gZWxlbWVudC5vbmtleWRvd24gfHwKICAgICAgZWxlbWVudC5vbmNsaWNrIHx8CiAgICAgIHRhZyA9PSAiYSIgfHwKICAgICAgdGFnID09ICJlbWJlZCIgfHwKICAgICAgdGFnID09ICJvYmplY3QiIHx8CiAgICAgIHRhZyA9PSAidmlkZW8iIHx8CiAgICAgIHRhZyA9PSAiYXVkaW8iIHx8CiAgICAgIHRhZyA9PSAic3ZnIiB8fAogICAgICB0YWcgPT0gImNhbnZhcyIgfHwKICAgICAgdGFnID09ICJpbnB1dCIgfHwKICAgICAgdGFnID09ICJ0ZXh0YXJlYSIgfHwKICAgICAgdGFnID09ICJzZWxlY3QiIHx8CiAgICAgIHRhZyA9PSAib3B0aW9uIjsKICB9LAoKICBzbGlkeV9jaHJvbWU6IGZ1bmN0aW9uIChlbCkgewogICAgd2hpbGUgKGVsKQogICAgewogICAgICBpZiAoZWwgPT0gdzNjX3NsaWR5LnRvYyB8fAogICAgICAgICAgZWwgPT0gdzNjX3NsaWR5LnRvb2xiYXIgfHwKICAgICAgICAgIHczY19zbGlkeS5oYXNfY2xhc3MoZWwsICJvdXRsaW5lIikpCiAgICAgICAgcmV0dXJuIHRydWU7CgogICAgICBlbCA9IGVsLnBhcmVudE5vZGU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0sCgogIGdldF9rZXk6IGZ1bmN0aW9uIChlKQogIHsKICAgIHZhciBrZXk7CgogICAgLy8ga2x1ZGdlIGFyb3VuZCBOUy9JRSBkaWZmZXJlbmNlcyAKICAgIGlmICh0eXBlb2Ygd2luZG93LmV2ZW50ICE9ICJ1bmRlZmluZWQiKQogICAgICBrZXkgPSB3aW5kb3cuZXZlbnQua2V5Q29kZTsKICAgIGVsc2UgaWYgKGUud2hpY2gpCiAgICAgIGtleSA9IGUud2hpY2g7CgogICAgcmV0dXJuIGtleTsKICB9LAoKICBnZXRfdGFyZ2V0OiBmdW5jdGlvbiAoZSkgewogICAgdmFyIHRhcmdldDsKCiAgICBpZiAoIWUpCiAgICAgIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgaWYgKGUudGFyZ2V0KQogICAgICB0YXJnZXQgPSBlLnRhcmdldDsKICAgIGVsc2UgaWYgKGUuc3JjRWxlbWVudCkKICAgICAgdGFyZ2V0ID0gZS5zcmNFbGVtZW50OwoKICAgIGlmICh0YXJnZXQubm9kZVR5cGUgIT0gMSkKICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CgogICAgcmV0dXJuIHRhcmdldDsKICB9LAoKICAvLyBkb2VzIGRpc3BsYXkgcHJvcGVydHkgcHJvdmlkZSBjb3JyZWN0IGRlZmF1bHRzPwogIGlzX2Jsb2NrOiBmdW5jdGlvbiAoZWxlbSkgewogICAgdmFyIHRhZyA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKCiAgICByZXR1cm4gdGFnID09ICJvbCIgfHwgdGFnID09ICJ1bCIgfHwgdGFnID09ICJwIiB8fCB0YWcgPT0gImRsIiB8fAogICAgICAgICAgIHRhZyA9PSAibGkiIHx8IHRhZyA9PSAidGFibGUiIHx8IHRhZyA9PSAicHJlIiB8fAogICAgICAgICAgIHRhZyA9PSAiaDEiIHx8IHRhZyA9PSAiaDIiIHx8IHRhZyA9PSAiaDMiIHx8CiAgICAgICAgICAgdGFnID09ICJoNCIgfHwgdGFnID09ICJoNSIgfHwgdGFnID09ICJoNiIgfHwKICAgICAgICAgICB0YWcgPT0gImJsb2NrcXVvdGUiIHx8IHRhZyA9PSAiYWRkcmVzcyI7IAogIH0sCgogIGFkZF9saXN0ZW5lcjogZnVuY3Rpb24gKGVsZW1lbnQsIGV2ZW50LCBoYW5kbGVyKSB7CiAgICBpZiAod2luZG93LmFkZEV2ZW50TGlzdGVuZXIpCiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgZmFsc2UpOwogICAgZWxzZQogICAgICBlbGVtZW50LmF0dGFjaEV2ZW50KCJvbiIrZXZlbnQsIGhhbmRsZXIpOwogIH0sCgogIC8vIHVzZWQgdG8gcHJldmVudCBldmVudCBwcm9wYWdhdGlvbiBmcm9tIGZpZWxkIGNvbnRyb2xzCiAgc3RvcF9wcm9wYWdhdGlvbjogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBldmVudCA9IGV2ZW50ID8gZXZlbnQgOiB3aW5kb3cuZXZlbnQ7CiAgICBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlOyAgLy8gZm9yIElFCgogICAgaWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikKICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CgogICAgcmV0dXJuIHRydWU7CiAgfSwKCiAgY2FuY2VsOiBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIGlmIChldmVudCkKICAgIHsKICAgICAgIGV2ZW50LmNhbmNlbCA9IHRydWU7CiAgICAgICBldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlOwoKICAgICAgaWYgKGV2ZW50LnByZXZlbnREZWZhdWx0KQogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICB9CgogICAgdzNjX3NsaWR5LmtleV93YW50ZWQgPSBmYWxzZTsKICAgIHJldHVybiBmYWxzZTsKICB9LAoKLy8gZm9yIGVhY2ggbGFuZ3VhZ2UgZGVmaW5lIGFuIGFzc29jaWF0aXZlIGFycmF5Ci8vIGFuZCBhbHNvIHRoZSBoZWxwIHRleHQgd2hpY2ggaXMgbG9uZ2VyCgogIHN0cmluZ3NfZXM6IHsKICAgICJzbGlkZSI6InDDoWcuIiwKICAgICJoZWxwPyI6IkF5dWRhIiwKICAgICJjb250ZW50cz8iOiLDjW5kaWNlIiwKICAgICJ0YWJsZSBvZiBjb250ZW50cyI6InRhYmxhIGRlIGNvbnRlbmlkb3MiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoiVGFibGEgZGUgQ29udGVuaWRvcyIsCiAgICAicmVzdGFydCBwcmVzZW50YXRpb24iOiJSZWluaWNpYXIgcHJlc2VudGFjacOzbiIsCiAgICAicmVzdGFydD8iOiJJbmljaW8iCiAgfSwKICBoZWxwX2VzOgogICAgIlV0aWxpY2UgZWwgcmF0w7NuLCBiYXJyYSBlc3BhY2lhZG9yYSwgdGVjbGFzIEl6ZGEvRGNoYSwgIiArCiAgICAibyBSZSBww6FnIHkgQXYgcMOhZy4gVXNlIFMgeSBCIHBhcmEgY2FtYmlhciBlbCB0YW1hw7FvIGRlIGZ1ZW50ZS4iLAoKICBzdHJpbmdzX2NhOiB7CiAgICAic2xpZGUiOiJww6BnLi4iLAogICAgImhlbHA/IjoiQWp1ZGEiLAogICAgImNvbnRlbnRzPyI6IsONbmRleCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJ0YXVsYSBkZSBjb250aW5ndXRzIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IlRhdWxhIGRlIENvbnRpbmd1dHMiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiUmVpbmljaWFyIHByZXNlbnRhY2nDsyIsCiAgICAicmVzdGFydD8iOiJJbmljaSIKICB9LAogIGhlbHBfY2E6CiAgICAiVXRpbGl0emkgZWwgcmF0b2zDrSwgYmFycmEgZXNwYWlhZG9yYSwgdGVjbGVzIEVzcS4vRHRhLiAiICsKICAgICJvIFJlIHDDoGcgeSBBdiBww6BnLiBVc2kgUyBpIEIgcGVyIGNhbnZpYXIgZ3JhbmTDoHJpYSBkZSBmb250LiIsCgogIHN0cmluZ3NfY3M6IHsKICAgICJzbGlkZSI6InNuw61tZWsiLAogICAgImhlbHA/IjoibsOhcG92xJtkYSIsCiAgICAiY29udGVudHM/Ijoib2JzYWgiLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoib2JzYWggcHJlemVudGFjZSIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiJPYnNhaCBwcmV6ZW50YWNlIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6Inpub3Z1IHNwdXN0aXQgcHJlemVudGFjaSIsCiAgICAicmVzdGFydD8iOiJyZXN0YXJ0IgogIH0sCiAgaGVscF9jczoKICAgICJQcmV6ZW50YWNpIG3Fr8W+ZXRlIHByb2Now6F6ZXQgcG9tb2PDrSBrbGlrbnV0w60gbXnFoWksIG1lemVybsOta3UsICIgKwogICAgIsWhaXBlayB2bGV2byBhIHZwcmF2byBuZWJvIGtsw6F2ZXMgUGFnZVVwIGEgUGFnZURvd24uIFDDrXNtbyBzZSAiICsKICAgICJkw6EgenbEm3TFoWl0IGEgem1lbsWhaXQgcG9tb2PDrSBrbMOhdmVzIEIgYSBTLiIsCgogIHN0cmluZ3Nfbmw6IHsKICAgICJzbGlkZSI6InBhZ2luYSIsCiAgICAiaGVscD8iOiJIZWxwPyIsCiAgICAiY29udGVudHM/IjoiSW5ob3VkPyIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJpbmhvdWRzb3BnYXZlIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IkluaG91ZHNvcGdhdmUiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiaGVyc3RhcnQgcHJlc2VudGF0aWUiLAogICAgInJlc3RhcnQ/IjoiSGVyc3RhcnQ/IgogIH0sCiAgaGVscF9ubDoKICAgICAiTmF2aWdlZXIgZC5tLnYuIGhldCBtdWlzLCBzcGF0aWViYXIsIExpbmtzL1JlY2h0cyB0b2V0c2VuLCAiICsKICAgICAib2YgUGdVcCBlbiBQZ0RuLiBHZWJydWlrIFMgZW4gQiBvbSBkZSBrYXJha3Rlcmdyb290dGUgdGUgdmVyYW5kZXJlbi4iLAoKICBzdHJpbmdzX2RlOiB7CiAgICAic2xpZGUiOiJTZWl0ZSIsCiAgICAiaGVscD8iOiJIaWxmZSIsCiAgICAiY29udGVudHM/Ijoiw5xiZXJzaWNodCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJJbmhhbHRzdmVyemVpY2huaXMiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoiSW5oYWx0c3ZlcnplaWNobmlzIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6IlByw6RzZW50YXRpb24gbmV1IHN0YXJ0ZW4iLAogICAgInJlc3RhcnQ/IjoiTmV1c3RhcnQiCiAgfSwKICBoZWxwX2RlOgogICAgIkJlbnV0emVuIFNpZSBkaWUgTWF1cywgTGVlcnNjaGxhZywgZGllIEN1cnNvcnRhc3RlbiBsaW5rcy9yZWNodHMgb2RlciAiICsKICAgICJQYWdlIHVwL1BhZ2UgRG93biB6dW0gV2VjaHNlbG4gZGVyIFNlaXRlbiB1bmQgUyB1bmQgQiBmw7xyIGRpZSBTY2hyaWZ0Z3LDtnNzZS4iLAoKICBzdHJpbmdzX3BsOiB7CiAgICAic2xpZGUiOiJzbGFqZCIsCiAgICAiaGVscD8iOiJwb21vYz8iLAogICAgImNvbnRlbnRzPyI6InNwaXMgdHJlxZtjaT8iLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoic3BpcyB0cmXFm2NpIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IlNwaXMgVHJlxZtjaSIsCiAgICAicmVzdGFydCBwcmVzZW50YXRpb24iOiJSZXN0YXJ0dWogcHJlemVudGFjasSZIiwKICAgICJyZXN0YXJ0PyI6InJlc3RhcnQ/IgogIH0sCiAgaGVscF9wbDoKICAgICJabWllbmlhaiBzbGFqZHkga2xpa2FqxIVjIG15c3rEhSwgbmFjaXNrYWrEhWMgc3BhY2rEmSwgc3RyemHFgmtpIGxld28vcHJhd28iICsKICAgICJsdWIgUGdVcCAvIFBnRG4uIFXFvHlqIGtsYXdpc3p5IFMgaSBCLCBhYnkgem1pZW5pxIcgcm96bWlhciBjemN6aW9ua2kuIiwKCiAgc3RyaW5nc19mcjogewogICAgInNsaWRlIjoicGFnZSIsCiAgICAiaGVscD8iOiJBaWRlIiwKICAgICJjb250ZW50cz8iOiJJbmRleCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJ0YWJsZSBkZXMgbWF0acOocmVzIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IlRhYmxlIGRlcyBtYXRpw6hyZXMiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiUmVjb21tZW5jZXIgbCdleHBvc8OpIiwKICAgICJyZXN0YXJ0PyI6IkTDqWJ1dCIKICB9LAogIGhlbHBfZnI6CiAgICAiTmF2aWd1ZXogYXZlYyBsYSBzb3VyaXMsIGxhIGJhcnJlIGQnZXNwYWNlLCBsZXMgZmzDqGNoZXMgIiArCiAgICAiZ2F1Y2hlL2Ryb2l0ZSBvdSBsZXMgdG91Y2hlcyBQZyBVcCwgUGcgRG4uIFV0aWxpc2V6ICIgKwogICAgImxlcyB0b3VjaGVzIFMgZXQgQiBwb3VyIG1vZGlmaWVyIGxhIHRhaWxsZSBkZSBsYSBwb2xpY2UuIiwKCiAgc3RyaW5nc19odTogewogICAgInNsaWRlIjoib2xkYWwiLAogICAgImhlbHA/Ijoic2Vnw610c8OpZyIsCiAgICAiY29udGVudHM/IjoidGFydGFsb20iLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoidGFydGFsb21qZWd5esOpayIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiJUYXJ0YWxvbWplZ3l6w6lrIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6ImJlbXV0YXTDsyDDumpyYWluZMOtdMOhc2EiLAogICAgInJlc3RhcnQ/Ijoiw7pqcmFpbmTDrXTDoXMiCiAgfSwKICBoZWxwX2h1OgogICAgIkF6IG9sZGFsYWsga8O2enRpIGzDqXBrZWTDqXNoZXoga2F0dGludHNvbiBheiBlZ8OpcnJlbCwgdmFneSAiICsKICAgICJoYXN6bsOhbGphIGEgc3rDs2vDtnosIGEgYmFsLCB2YWd5IGEgam9iYiBuecOtbCwgaWxsZXR2ZSBhIFBhZ2UgRG93biwgIiArCiAgICAiUGFnZSBVcCBiaWxsZW50ecWxa2V0LiBBeiBTIMOpcyBhIEIgYmlsbGVudHnFsWtrZWwgdsOhbHRvenRhdGhhdGphICIgKwogICAgImEgc3rDtnZlZyBtw6lyZXTDqXQuIiwKCiAgc3RyaW5nc19pdDogewogICAgInNsaWRlIjoicGFnLiIsCiAgICAiaGVscD8iOiJBaXV0byIsCiAgICAiY29udGVudHM/IjoiSW5kaWNlIiwKICAgICJ0YWJsZSBvZiBjb250ZW50cyI6ImluZGljZSIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiJJbmRpY2UiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiUmljb21pbmNpYXJlIGxhIHByZXNlbnRhemlvbmUiLAogICAgInJlc3RhcnQ/IjoiSW5pemlvIgogIH0sCiAgaGVscF9pdDoKICAgICJOYXZpZ2FyZSBjb24gbW91c2UsIGJhcnJhIHNwYXppbywgZnJlY2NlIHNpbmlzdHJhL2Rlc3RyYSBvICIgKwogICAgIlBnVXAgZSBQZ0RuLiBVc2FyZSBTIGUgQiBwZXIgY2FtYmlhcmUgbGEgZGltZW5zaW9uZSBkZWkgY2FyYXR0ZXJpLiIsCgogIHN0cmluZ3NfZWw6IHsKICAgICJzbGlkZSI6Is+DzrXOu86vzrTOsSIsCiAgICAiaGVscD8iOiLOss6/zq7OuM61zrnOsTsiLAogICAgImNvbnRlbnRzPyI6Is+AzrXPgc65zrXPh8+MzrzOtc69zrE7IiwKICAgICJ0YWJsZSBvZiBjb250ZW50cyI6Is+Azq/Ovc6xzrrOsc+CIM+AzrXPgc65zrXPh86/zrzOrc69z4nOvSIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiLOoM6vzr3Osc66zrHPgiDOoM61z4HOuc61z4fOv868zq3Ovc+Jzr0iLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoizrXPgM6xzr3Otc66zrrOr869zrfPg863IM+AzrHPgc6/z4XPg86vzrHPg863z4IiLAogICAgInJlc3RhcnQ/IjoizrXPgM6xzr3Otc66zrrOr869zrfPg863OyIKICB9LAogIGhlbHBfZWw6CiAgICAizqDOu86/zrfOs863zrjOtc6vz4TOtSDOvM61IM+Ezr8gzrrOu86vzrogz4TOv8+FIM+Azr/Ovc+EzrnOus65zr/PjSwgz4TOvyBzcGFjZSwgz4TOsSDOss6tzrvOtyDOsc+BzrnPg8+EzrXPgc6sL860zrXOvs65zqwsICIgKwogICAgIs6uIFBhZ2UgVXAgzrrOsc65IFBhZ2UgRG93bi4gzqfPgc63z4POuc68zr/PgM6/zrnOrs+Dz4TOtSDPhM6xIM+AzrvOrs66z4TPgc6xIFMgzrrOsc65IEIgzrPOuc6xIM69zrEgzrHOu867zqzOvs61z4TOtSAiICsKICAgICLPhM6/IM68zq3Os861zrjOv8+CIM+EzrfPgiDOs8+BzrHOvM68zrHPhM6/z4POtc65z4HOrM+CLiIsCgogIHN0cmluZ3NfamE6IHsKICAgICJzbGlkZSI6IuOCueODqeOCpOODiSIsCiAgICAiaGVscD8iOiLjg5jjg6vjg5ciLAogICAgImNvbnRlbnRzPyI6IuebruasoSIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiLnm67mrKHjgpLooajnpLoiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoi55uu5qyhIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6IuacgOWIneOBi+OCieWGjeeUnyIsCiAgICAicmVzdGFydD8iOiLmnIDliJ3jgYvjgokiCiAgfSwKICBoZWxwX2phOgogICAgICLjg57jgqbjgrnlt6bjgq/jg6rjg4Pjgq8g44O7IOOCueODmuODvOOCuSDjg7sg5bem5Y+z44Kt44O8ICIgKwogICAgICLjgb7jgZ/jga8gUGFnZSBVcCDjg7sgUGFnZSBEb3du44Gn5pON5L2c77yMIFMg44O7IELjgafjg5Xjgqnjg7Pjg4jjgrXjgqTjgrrlpInmm7QiLAoKICBzdHJpbmdzX3poOiB7CiAgICAic2xpZGUiOiLlubvnga/niYciLAogICAgImhlbHA/Ijoi5biu5YqpPyIsCiAgICAiY29udGVudHM/Ijoi5YaF5a65PyIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiLnm67lvZUiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoi55uu5b2VIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6IumHjeaWsOWQr+WKqOWxleekuiIsCiAgICAicmVzdGFydD8iOiLph43mlrDlkK/liqg/IgogIH0sCiAgaGVscF96aDoKICAgICLnlKjpvKDmoIfngrnlh7ssIOepuuagvOadoSwg5bem5Y+z566t5aS0LCBQZyBVcCDlkowgUGcgRG4g5a+86IiqLiAiICsKICAgICLnlKggUywgQiDmlLnlj5jlrZfkvZPlpKflsI8uIiwKCiAgc3RyaW5nc19ydTogewogICAgInNsaWRlIjoi0YHQu9Cw0LnQtCIsCiAgICAiaGVscD8iOiLQv9C+0LzQvtGJ0Yw/IiwKICAgICJjb250ZW50cz8iOiLRgdC+0LTQtdGA0LbQsNC90LjQtT8iLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoi0L7Qs9C70LDQstC70LXQvdC40LUiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoi0J7Qs9C70LDQstC70LXQvdC40LUiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoi0L/QtdGA0LXQt9Cw0L/Rg9GB0YLQuNGC0Ywg0L/RgNC10LfQtdC90YLQsNGG0LjRjiIsCiAgICAicmVzdGFydD8iOiLQv9C10YDQtdC30LDQv9GD0YHQuj8iCiAgfSwKICBoZWxwX3J1OgogICAgItCf0LXRgNC10LzQtdGJ0LDQudGC0LXRgdGMINC60LvQuNC60LDRjyDQvNGL0YjQutC+0LksINC40YHQv9C+0LvRjNC30YPRjyDQutC70LDQstC40YjRgyDQv9GA0L7QsdC10LssINGB0YLRgNC10LvQutC4IiArCiAgICAi0LLQu9C10LLQvi/QstC/0YDQsNCy0L4g0LjQu9C4IFBnIFVwINC4IFBnIERuLiDQmtC70LDQstC40YjQuCBTINC4IEIg0LzQtdC90Y/RjtGCINGA0LDQt9C80LXRgCDRiNGA0LjRhNGC0LAuIiwKCiAgc3RyaW5nc19zdjogewogICAgInNsaWRlIjoic2lkYSIsCiAgICAiaGVscD8iOiJoasOkbHAiLAogICAgImNvbnRlbnRzPyI6ImlubmVow6VsbCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJpbm5laMOlbGxzZsO2cnRlY2tuaW5nIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IklubmVow6VsbHNmw7ZydGVja25pbmciLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoidmlzYSBwcmVzZW50YXRpb25lbiBmcsOlbiBiw7ZyamFuIiwKICAgICJyZXN0YXJ0PyI6ImLDtnJqYSBvbSIKICB9LAogIGhlbHBfc3Y6CiAgICAiQmzDpGRkcmEgbWVkIGV0dCBrbGljayBtZWQgdsOkbnN0cmEgbXVza25hcHBlbiwgbWVsbGFuc2xhZ3N0YW5nZW50ZW4sICIgKwogICAgInbDpG5zdGVyLSBvY2ggaMO2Z2VycGlsdGFuZ2VudGVybmEgZWxsZXIgdGFuZ2VudGVybmEgUGcgVXAsIFBnIERuLiAiICsKICAgICJBbnbDpG5kIHRhbmdlbnRlcm5hIFMgb2NoIEIgZsO2ciBhdHQgw6RuZHJhIHRleHRlbnMgc3Rvcmxlay4iLAoKICBzdHJpbmdzOiB7IH0sCgogIGxvY2FsaXplOiBmdW5jdGlvbiAoc3JjKSB7CiAgICBpZiAoc3JjID09ICIiKQogICAgICByZXR1cm4gc3JjOwoKICAgICAvLyB0cnkgZnVsbCBsYW5ndWFnZSBjb2RlLCBlLmcuIGVuLVVTCiAgICAgdmFyIHMsIGxvb2t1cCA9IHczY19zbGlkeS5zdHJpbmdzW3czY19zbGlkeS5sYW5nXTsKCiAgICAgaWYgKGxvb2t1cCkKICAgICB7CiAgICAgICBzID0gbG9va3VwW3NyY107CgogICAgICAgaWYgKHMpCiAgICAgICAgcmV0dXJuIHM7CiAgICAgfQoKICAgICAvLyBzdHJpcCBjb3VudHJ5IGNvZGUgc3VmZml4LCBlLmcuCiAgICAgLy8gdHJ5IGVuIGlmIHVuZGVmaW5lZCBmb3IgZW4tVVMKICAgICB2YXIgbGcgPSB3M2Nfc2xpZHkubGFuZy5zcGxpdCgiLSIpOwoKICAgICBpZiAobGcubGVuZ3RoID4gMSkKICAgICB7CiAgICAgICBsb29rdXAgPSB3M2Nfc2xpZHkuc3RyaW5nc1tsZ1swXV07CgogICAgICAgaWYgKGxvb2t1cCkKICAgICAgIHsKICAgICAgICAgcyA9IGxvb2t1cFtzcmNdOwoKICAgICAgICAgaWYgKHMpCiAgICAgICAgICByZXR1cm4gczsKICAgICAgIH0KICAgICB9CgogICAgIC8vIG90aGVyd2lzZSBzdHJpbmcgYXMgaXMKICAgICByZXR1cm4gc3JjOwogIH0sCgogIGluaXRfbG9jYWxpemF0aW9uOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgaTE4biA9IHczY19zbGlkeTsKICAgIHZhciBoZWxwX3RleHQgPSB3M2Nfc2xpZHkuaGVscF90ZXh0OwoKICAgIC8vIGVhY2ggc3VjaCBsYW5ndWFnZSBhcnJheSBpcyBkZWNsYXJlZCBpbiB0aGUgbG9jYWxpemUgYXJyYXkKICAgIC8vIHRoaXMgaXMgdXNlZCBhcyBpbiAgdzNjX3NsaWR5LmxvY2FsaXplKCJmb28iKTsKICAgIHRoaXMuc3RyaW5ncyA9IHsKICAgICAgImVzIjp0aGlzLnN0cmluZ3NfZXMsCiAgICAgICJjYSI6dGhpcy5zdHJpbmdzX2NhLAogICAgICAiY3MiOnRoaXMuc3RyaW5nc19jcywKICAgICAgIm5sIjp0aGlzLnN0cmluZ3NfbmwsCiAgICAgICJkZSI6dGhpcy5zdHJpbmdzX2RlLAogICAgICAicGwiOnRoaXMuc3RyaW5nc19wbCwKICAgICAgImZyIjp0aGlzLnN0cmluZ3NfZnIsCiAgICAgICJodSI6dGhpcy5zdHJpbmdzX2h1LAogICAgICAiaXQiOnRoaXMuc3RyaW5nc19pdCwKICAgICAgImVsIjp0aGlzLnN0cmluZ3NfZWwsCiAgICAgICJqcCI6dGhpcy5zdHJpbmdzX2phLAogICAgICAiemgiOnRoaXMuc3RyaW5nc196aCwKICAgICAgInJ1Ijp0aGlzLnN0cmluZ3NfcnUsCiAgICAgICJzdiI6dGhpcy5zdHJpbmdzX3N2CiAgICB9LAoKICAgIGkxOG4uc3RyaW5nc19lc1toZWxwX3RleHRdID0gaTE4bi5oZWxwX2VzOwogICAgaTE4bi5zdHJpbmdzX2NhW2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfY2E7CiAgICBpMThuLnN0cmluZ3NfY3NbaGVscF90ZXh0XSA9IGkxOG4uaGVscF9jczsKICAgIGkxOG4uc3RyaW5nc19ubFtoZWxwX3RleHRdID0gaTE4bi5oZWxwX25sOwogICAgaTE4bi5zdHJpbmdzX2RlW2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfZGU7CiAgICBpMThuLnN0cmluZ3NfcGxbaGVscF90ZXh0XSA9IGkxOG4uaGVscF9wbDsKICAgIGkxOG4uc3RyaW5nc19mcltoZWxwX3RleHRdID0gaTE4bi5oZWxwX2ZyOwogICAgaTE4bi5zdHJpbmdzX2h1W2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfaHU7CiAgICBpMThuLnN0cmluZ3NfaXRbaGVscF90ZXh0XSA9IGkxOG4uaGVscF9pdDsKICAgIGkxOG4uc3RyaW5nc19lbFtoZWxwX3RleHRdID0gaTE4bi5oZWxwX2VsOwogICAgaTE4bi5zdHJpbmdzX2phW2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfamE7CiAgICBpMThuLnN0cmluZ3NfemhbaGVscF90ZXh0XSA9IGkxOG4uaGVscF96aDsKICAgIGkxOG4uc3RyaW5nc19ydVtoZWxwX3RleHRdID0gaTE4bi5oZWxwX3J1OwogICAgaTE4bi5zdHJpbmdzX3N2W2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfc3Y7CgogICAgdzNjX3NsaWR5LmxhbmcgPSBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCJsYW5nIik7CgogICAgaWYgKCF3M2Nfc2xpZHkubGFuZykKICAgICAgdzNjX3NsaWR5LmxhbmcgPSBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpOwoKICAgIGlmICghdzNjX3NsaWR5LmxhbmcpCiAgICAgIHczY19zbGlkeS5sYW5nID0gImVuIjsKICB9Cn07CgovLyBoYWNrIGZvciBiYWNrIGJ1dHRvbiBiZWhhdmlvcgppZiAodzNjX3NsaWR5LmllNiB8fCB3M2Nfc2xpZHkuaWU3KQp7CiAgZG9jdW1lbnQud3JpdGUoIjxpZnJhbWUgaWQ9J2hpc3RvcnlGcmFtZScgIiArCiAgInNyYz0namF2YXNjcmlwdDpcIjxodG1sIisiPjwvIisiaHRtbD5cIicgIiArCiAgImhlaWdodD0nMScgd2lkdGg9JzEnICIgKwogICJzdHlsZT0ncG9zaXRpb246YWJzb2x1dGU7bGVmdDotODAwcHgnPjwvaWZyYW1lPiIpOwp9CgovLyBhdHRhY2ggZXZlbnQgbGlzdGVuZXJzIGZvciBpbml0aWFsaXphdGlvbgp3M2Nfc2xpZHkuc2V0X3VwKCk7CgovLyBoaWRlIHRoZSBzbGlkZXMgYXMgc29vbiBhcyBib2R5IGVsZW1lbnQgaXMgYXZhaWxhYmxlCi8vIHRvIHJlZHVjZSBhbm5veWluZyBzY3JlZW4gbWVzcyBiZWZvcmUgdGhlIG9ubG9hZCBldmVudApzZXRUaW1lb3V0KHczY19zbGlkeS5oaWRlX3NsaWRlcywgNTApOwoK" charset="utf-8" type="text/javascript"></script>
  <meta name="duration" content="50" />
</head>
<body>
<div class="slide titlepage">
  <h1 class="title">Modelo de Seleção de Heckman</h1>
  <p class="author">
Fernando de Souza Bastos -Universidade Federal de Minas Gerais
  </p>
  <p class="date">21 de Outubro, 2016</p>
</div>
<div id="variaveis-dependentes-limitadas" class="slide section level1">
<h1>Variáveis Dependentes Limitadas</h1>
<p style="text-align: justify;">
Como sabemos, variável dependente é uma medida que resulta do valor de outra medida variável.
</p>
<p style="text-align: justify;">
<ul class="incremental">
<li>Numa pesquisa que relaciona o stress a frequência cardíaca. Considera-se como a variável independente o stress e a variável dependente a frequência cardíaca;</li>
</ul>
</p>
<p style="text-align: justify;">
<ul class="incremental">
<li>Se quisermos relacionar o efeito da educação sobre o rendimento para medir o efeito do nível de escolaridade sobre a renda anual, a variável independente é o nível de escolaridade e a variável dependente é a renda anual;</li>
</ul>
</p>
<p style="text-align: justify;">
<ul class="incremental">
<li>Numa pesquisa sobre rendimento e horas de trabalho, nossa variável dependente é também o rendimento e a variável independente as horas de trabalho;</li>
</ul>
</p>
<ul class="incremental">
<li>etc.</li>
</ul>
</div>
<div class="slide section level1">

<p style="text-align: justify;">
Variáveis dependentes ás vezes são limitadas em seu domínio e nem sempre podemos observar os dados sobre as variáveis dependentes e independentes ao longo de toda uma população. Uma variável limitada pode ser classificada em duas categorias, variável truncada ou variável com censura. Também definimos amostras como truncadas ou com censura dependendo da natureza da limitação da variável dependente pesquisada.
</p>
</div>
<div id="amostra-com-censura" class="slide section level1">
<h1>Amostra com Censura</h1>
<p style="text-align: justify;">
Dizemos que uma amostra é censurada quando algumas observações sobre a variável dependente, correspondentes a valores conhecidos da(s) variável(is) independente(s), não são observados. Ou seja, quando dados sobre a variável resposta não estão completamente disponíveis para algumas unidades da amostra. No entanto, para estas unidades, os dados sobre as variáveis regressoras são totalmente conhecidos. Assim, temos:
</p>
<ul class="incremental">
<li><strong>C1:</strong> <span class="math inline">\(\ y=y^{*}.1 (y^{*}&gt;c)+c.1(y^{*}\leq c);\)</span></li>
<li><strong>C2:</strong> <span class="math inline">\(\ y=y^{*}.1 (y^{*}&lt;d)+d.1(y^{*}\geq d);\)</span></li>
<li><strong>C3:</strong> <span class="math inline">\(\ y=y^{*}.1(c&lt;y^{*}&lt;d)+c.1(y^{*}\leq c)+d.1(y^{*}\geq d).\)</span></li>
</ul>
</div>
<div id="amostra-truncada" class="slide section level1">
<h1>Amostra Truncada</h1>
<p style="text-align: justify;">
Neste caso, os valores das variáveis independentes são conhecidos somente quando a variável dependente é observada. De outra forma, a amostragem truncada geralmente surge quando uma pesquisa tem como alvo um subconjunto específico da população e ignora inteiramente a outra parte da população.
</p>
<ul class="incremental">
<li><strong>T1:</strong> <span class="math inline">\(\ y=y^{*},\ \textrm{se}\ y^{*}&gt;c,\)</span> não observada caso contrário;</li>
<li><strong>T2:</strong> <span class="math inline">\(\ y=y^{*},\ \textrm{se}\ y^{*}&lt;d,\)</span> não observada caso contrário;</li>
<li><strong>T3:</strong> <span class="math inline">\(\ y=y^{*},\ \textrm{se}\ c&lt;y^{*}&lt;d,\)</span> não observada caso contrário;</li>
</ul>
</div>
<div id="densidade-de-uma-v.a.-truncada" class="slide section level1">
<h1>Densidade de uma v.a. truncada</h1>
<p style="text-align: justify;">
<strong>Proposição:</strong> Seja <span class="math inline">\(Y\)</span> uma variável aleatória continua com função densidade de probabilidade <span class="math inline">\(f(y)\)</span> e <span class="math inline">\(``a&quot;\)</span> constante real. A densidade condicional de <span class="math inline">\(Y\)</span> dado que <span class="math inline">\(Y&gt;a,\)</span> fica dada por:
<span class="math display">\[\begin{eqnarray}\label{prop1}
g(y|Y&gt;a)=\frac{f(y)}{1-F(a)},
\end{eqnarray}\]</span>
<p><span class="math inline">\(F(.),\)</span> função de distribuição acumulada de <span class="math inline">\(Y.\)</span></p>
<ul class="incremental">
<li><p>Se <span class="math inline">\(Y\sim N(\mu,\sigma^2),\)</span> então: <span class="math display">\[
P(Y&gt;a)=1-\Phi\left(\frac{a-\mu}{\sigma}\right)=1-\Phi(b)
\]</span> onde <span class="math inline">\(b=\dfrac{a-\mu}{\sigma}\)</span> e <span class="math inline">\(\Phi(.)\)</span> é a função de distribuição acumulada da normal padrão.</p></li>
<li>Segue neste caso que,
<span class="math display">\[\begin{eqnarray}
g(y|Y&gt;a)=\dfrac{f(y)}{1-\Phi(b)}=\dfrac{\frac{1}{\sigma}\phi(\frac{y-\mu}{\sigma})}{1-\Phi(b)},
\end{eqnarray}\]</span>
onde <span class="math inline">\(\phi(.)\)</span> é a densidade da normal padrão.</li>
</ul>
</p>
</div>
<div id="momentos-e-razao-inversa-de-mills" class="slide section level1">
<h1>Momentos e Razão Inversa de Mills</h1>
<span class="math display">\[\begin{eqnarray}
\nonumber E(Y|Y&gt;a)&amp;=&amp;\displaystyle \mu+\sigma\lambda(b)\\
\nonumber Var(Y|Y&gt;a)&amp;=&amp;\sigma^{2}[1-\delta(b)],
\end{eqnarray}\]</span>
<p>em que <span class="math inline">\(b=\dfrac{a-\mu}{\sigma}.\)</span></p>
<span class="math display">\[\begin{eqnarray}
\nonumber \lambda(b)&amp;=&amp;\dfrac{\phi(b)}{1-\Phi(b)}\ \textrm{se o truncamento é}\ y&gt;a, \\
\nonumber \lambda(b)&amp;=&amp;-\dfrac{\phi(b)}{\Phi(b)}\ \textrm{se o truncamento é}\ y&lt;a,
\end{eqnarray}\]</span>
<p>e <span class="math inline">\(\delta(b)=\lambda(b)[\lambda(b)-b].\)</span></p>
<p><span class="math inline">\(\lambda(.)\)</span> é conhecida como razão inversa de Mills.</p>
</div>
<div id="truncamento-incidental" class="slide section level1">
<h1>Truncamento Incidental</h1>
<p><strong>Proposição:</strong> Sejam <span class="math inline">\(Y\)</span> e <span class="math inline">\(Z\)</span> duas variáveis aleatórias continuas com distribuição bivariada, correlação <span class="math inline">\(\rho,\)</span> e função densidade conjunta denotada por <span class="math inline">\(f(y,z).\)</span> A densidade de <span class="math inline">\(Y,\)</span> dado que <span class="math inline">\(Z&gt;a\)</span> é:</p>
<span class="math display">\[\begin{eqnarray}
g(y|Z&gt;a)=\frac{f(y,z)}{P(Z&gt;a)}, a\in \mathcal{R} \ \textrm{qualquer.} 
\end{eqnarray}\]</span>
<h2 id="momentos">Momentos</h2>
<p>Se <span class="math inline">\(Y\)</span> e <span class="math inline">\(Z\)</span> possuem distribuição normal bivariada com médias <span class="math inline">\(\mu_{y}, \mu_{z},\)</span> desvios-padrão <span class="math inline">\(\sigma_{y}, \sigma_{z},\)</span> respectivamente, e coeficiente de correlação <span class="math inline">\(\rho,\)</span> então,</p>
<span class="math display">\[\begin{eqnarray}
\displaystyle E(Y|Z&gt;a)&amp;=&amp;\mu_{y}+\rho\sigma_{y}\lambda(b_{z})\\
\nonumber \displaystyle Var(Y|Z&gt;a)&amp;=&amp;\sigma^{2}_{y}[1-\rho^{2}\delta(b_{z})],
\end{eqnarray}\]</span>
<p>com <span class="math inline">\(b_{z}=\dfrac{a-\mu_{z}}{\sigma_{z}},\ \lambda(b_{z})=\dfrac{\phi(b_{z})}{1-\Phi(b_{z})}\)</span> e <span class="math inline">\(\delta(b_{z})=\lambda(b_{z})[\lambda(b_{z})-b_{z}]\)</span></p>
</div>
<div id="modelo-de-regressao-truncado" class="slide section level1">
<h1>Modelo de Regressão Truncado</h1>
<p>Considere uma variável aleatória <span class="math inline">\(y_{i}^{*}\)</span> linearmente dependente de <span class="math inline">\(\mathbf{x}_{i},\)</span> isto é:</p>
<p><span class="math display">\[y_{i}^{*}=\mathbf{x}_{i}^{'}\boldsymbol{\beta}+\epsilon_{i},\ \textrm{onde,}\]</span></p>
<p><span class="math display">\[\epsilon_{i}|\mathbf{x}_{i}\overset{iid}{\sim} N(0,\sigma^2)\Rightarrow y_{i}^{*}|x_{i}\overset{iid}{\sim} N(\mathbf{x}_{i}^{'}\boldsymbol{\beta},\sigma^{2})\ \textrm{e}\ E(y_{i}^{*})=\mathbf{x}_{i}^{'}\boldsymbol{\beta}.\]</span></p>
A observação <span class="math inline">\(i\)</span> é observada somente se <span class="math inline">\(y_{i}^{*}\)</span> está acima de um certo limite conhecido, isto é, 
<span class="math display">\[\begin{eqnarray}
y_{i}=\left\{
\begin{array}{cc}
y_{i}^{*},&amp; \textrm{se}\ y_{i}^{*}&gt; a,\\
&amp;\\
n.a,&amp; \textrm{se}\ y_{i}^{*}\leq a  
\end{array}
\right.
\end{eqnarray}\]</span>
</div>
<div class="slide section level1">

<p>A função densidade de <span class="math inline">\(y_{i}\)</span> é dada por:</p>
<span class="math display">\[\begin{eqnarray}
\displaystyle f(y_{i}|x_{i})=f(y_{i}^{*}|y_{i}^{*}&gt;a,x_{i})=\frac{1}{\sigma}\dfrac{\phi\left(\dfrac{y_{i}-\mathbf{x}_{i}^{'}\boldsymbol{\beta}}{\sigma}\right)}{\Phi\left(\frac{\mathbf{x}_{i}^{'}\boldsymbol{\beta}-a}{\sigma}\right)}
\end{eqnarray}\]</span>
Note que o valor esperado da variável observada é não linear em <span class="math inline">\(\mathbf{x}_{i}.\)</span> 
<span class="math display">\[\begin{eqnarray}
\nonumber E(y_{i}|\mathbf{x}_{i})&amp;=&amp;E(y_{i}^{*}|y_{i}^{*}&gt;a,\mathbf{x}_{i})\\
\nonumber &amp;=&amp;\mathbf{x}_{i}^{'}\boldsymbol{\beta}+\sigma\dfrac{\phi\left[(a-\mathbf{x}_{i}^{'}\boldsymbol{\beta})/\sigma\right]}{1-\Phi\left[(a-\mathbf{x}_{i}^{'}\boldsymbol{\beta})/\sigma\right]}\\
\nonumber &amp;=&amp;\mathbf{x}_{i}^{'}\boldsymbol{\beta}+\sigma\lambda(b_{i})
\end{eqnarray}\]</span>
</div>
<div id="estimacao" class="slide section level1">
<h1>Estimação</h1>
<p>A regressão linear simples da variável observada <span class="math inline">\(y_{i}\)</span> em <span class="math inline">\(x_{i},\)</span></p>
<p><span class="math display">\[y_{i}=\mathbf{x}_{i}^{'}\boldsymbol{\beta}+u_{i},\]</span></p>
<p>irá produzir estimativas viesadas de <span class="math inline">\(\boldsymbol{\beta},\)</span> pois o erro <span class="math inline">\(u_{i}=(\epsilon_{i}|y_{i}^{*}&gt;a)\)</span> é correlacionado com <span class="math inline">\(\mathbf{x}_{i}\)</span> e <span class="math inline">\(E(u_{i})=E(\epsilon_{i}|y_{i}^{*}&gt;a)=\sigma\lambda(b_{i})&gt;0.\)</span></p>
<p>Assim, a regressão truncada é, em geral, estimada por máxima verossimilhança.</p>
A função log de verossimilhança é
<span class="math display">\[\begin{eqnarray}
\nonumber \mathcal{L}(\theta|\mathbf{x}_{i})=\displaystyle \sum_{i=1}^{n}\ln \left[\sigma^{-1}\phi\left(\dfrac{y_{i}-\mathbf{x}_{i}^{'}\boldsymbol{\beta}}{\sigma}\right)\right]-\sum_{i=1}^{n} \ln\left[1-\Phi\left(\dfrac{a-\mathbf{x}_{i}^{'}\boldsymbol{\beta}}{\sigma}\right)\right],
\end{eqnarray}\]</span>
<p>permitindo estimar tanto <span class="math inline">\(\boldsymbol{\beta}\)</span> quanto <span class="math inline">\(\sigma\)</span> por um procedimento numérico iterativo. Propriedades usuais de MV (consistência, eficiência assintótica, e etc) se aplicam.</p>
</div>
<div id="interpretacao-dos-parametros" class="slide section level1">
<h1>Interpretação dos parâmetros</h1>
<p>A interpretação dos parâmetros depende muito da questão de pesquisa. O efeito marginal sobre a variável dependente observada é dado por:</p>
<span class="math display">\[\begin{eqnarray}
\nonumber \dfrac{\partial E(y_{i}|x_{i})}{\partial \mathbf{x}_{ij}}&amp;=&amp;\dfrac{\partial E(y_{i}^{*}|y_{i}^{*}&gt;a,x_{i})}{\partial \mathbf{x}_{ij}}\\
\nonumber &amp;=&amp;\boldsymbol{\beta}_{j}\left(1-\lambda_{i}^{2}+\alpha_{i}\lambda_{i}\right)\\
\nonumber &amp;=&amp; \boldsymbol{\beta}_{j}\underbrace{(1-\delta(\alpha_{i}))}_{0&lt;\delta&lt;1}
\end{eqnarray}\]</span>
<p>onde <span class="math inline">\(\alpha_{i}=\left(\dfrac{a-\mathbf{x}_{i}^{'}\boldsymbol{\beta}}{\sigma}\right)\)</span> e <span class="math inline">\(\lambda_{i}=\lambda(\alpha_{i}).\)</span></p>
</div>
<div class="slide section level1">

<p><img src="data:image/png;base64,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" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="modelo-tobit-modelo-de-regressao-com-censura" class="slide section level1">
<h1>Modelo Tobit (Modelo de Regressão com Censura)</h1>
<p>Considere uma variável aleatória <span class="math inline">\(y_{i}^{*}\)</span> linearmente dependente de <span class="math inline">\(\mathbf{x}_{i},\)</span> isto é:</p>
<p><span class="math display">\[y_{i}^{*}=\mathbf{x}_{i}^{'}\boldsymbol{\beta}+\epsilon_{i},\ \textrm{onde,}\]</span></p>
<p><span class="math display">\[\epsilon_{i}|\mathbf{x}_{i}\overset{iid}{\sim} N(0,\sigma^2)\Rightarrow y_{i}^{*}|x_{i}\overset{iid}{\sim} N(\mathbf{x}_{i}^{'}\boldsymbol{\beta},\sigma^{2})\ \textrm{e}\ E(y_{i}^{*})=\mathbf{x}_{i}^{'}\boldsymbol{\beta}.\]</span></p>
<p>Suponha que o valor observado <span class="math inline">\(y_{i}\)</span> é censurado abaixo do zero, isto é,</p>
<span class="math display">\[\begin{eqnarray}
y_{i}=\left\{
\begin{array}{cc}
y_{i}^{*},&amp; \textrm{se}\ y_{i}^{*}&gt; 0,\\
&amp;\\
0,&amp; \textrm{se}\ y_{i}^{*}\leq 0  
\end{array}
\right.
\end{eqnarray}\]</span>
</div>
<div class="slide section level1">

<p>A variável observada é uma variável aleatória mistura com massa de probabilidade em zero,  <span class="math display">\[P(y_{i}=0|\mathbf{x}_{i})=P(y_{i}^{*}\leq 0|\mathbf{x}_{i})=\Phi\left(-\dfrac{\mathbf{x}_{i}^{'}\boldsymbol{\beta}}{\sigma}\right)\]</span>  e para valores acima do zero com densidade: <span class="math display">\[f(y_{i}|x_{i})=\dfrac{1}{\sigma}\phi\left(\dfrac{y_{i}-\mathbf{x}_{i}^{'}\boldsymbol{\beta}}{\sigma}\right)\]</span></p>
O valor esperado da variável observada é,
<span class="math display">\[\begin{eqnarray}
\nonumber E(y_{i}|\mathbf{x}_{i})&amp;=&amp;0.P(y_{i}^{*}\leq 0|x_{i})+E(y_{i}^{*}|y_{i}^{*}&gt;0,\mathbf{x}_{i}).P(y_{i}^{*}&gt; 0|x_{i})\\
%\nonumber &amp;=&amp;\left[\mathbf{x}_{i}^{'}\boldsymbol{\beta}+\sigma\dfrac{\phi\left(\mathbf{x}_{i}^{'}\boldsymbol{\beta}/\sigma\right)}{\Phi\left(\mathbf{x}_{i}^{'}\boldsymbol{\beta}/\sigma\right)}\right]\Phi\left(\mathbf{x}_{i}^{'}\boldsymbol{\beta}/\sigma\right)\\
\nonumber &amp;=&amp;\Phi\left(\dfrac{\mathbf{x}_{i}^{'}\boldsymbol{\beta}}{\sigma}\right)\left[\mathbf{x}_{i}^{'}\boldsymbol{\beta}+\sigma\lambda\left(-\dfrac{\mathbf{x}_{i}^{'}\boldsymbol{\beta}}{\sigma}\right)\right]
\end{eqnarray}\]</span>
</div>
<div id="estimacao-1" class="slide section level1">
<h1>Estimação</h1>
<p>Log de Verossimilhança:</p>
<span class="math display">\[\begin{eqnarray}
\nonumber \mathcal{L}(\theta|\mathbf{x}_{i})&amp;=&amp;\displaystyle \sum_{i|y_{i}&gt;0} \ln\left[\sigma^{-1}\phi\left(\dfrac{y_{i}-\mathbf{x}_{i}^{'}\boldsymbol{\beta}}{\sigma}\right)\right]+\sum_{i|y_{i}=0}\ln\left[1-\Phi\left(\frac{\mathbf{x}_{i}^{'}\boldsymbol{\beta}}{\sigma}\right)\right],
\end{eqnarray}\]</span>
<p><span class="math inline">\(\theta\)</span> vetor de parâmetros.</p>
<h2 id="interpretacao-dos-parametros-1">Interpretação dos Parâmetros</h2>
A interpretação dos parâmetros depende muito da questão de pesquisa. Se o pesquisador está interessado no efeito marginal sobre a variável dependente latente <span class="math inline">\((y_{i}^{*})\)</span>,
<span class="math display">\[\begin{eqnarray}
\dfrac{\partial E(y_{i}^{*}|x_{i})}{\partial \mathbf{x}_{i,j}}=\boldsymbol{\beta_{j}}\ \textrm{ou}\ \dfrac{\partial E(y_{i}^{*}|y_{i}^{*}&gt;0,x_{i})}{\partial \mathbf{x}_{i,j}}=\boldsymbol{\beta_{j}}[1-\lambda(b)^{2}-\lambda(b)]
\end{eqnarray}\]</span>
No entanto, se o pesquisador está interessado no efeito marginal sobre o valor esperado dos valores observados, o efeito marginal é dado por,
<span class="math display">\[\begin{eqnarray}
\dfrac{\partial E(y_{i}|x_{i})}{\partial \mathbf{x}_{i,j}}=\boldsymbol{\beta_{j}}\Phi\left(\dfrac{\mathbf{x}_{i}^{'}\boldsymbol{\beta}}{\sigma}\right)
\end{eqnarray}\]</span>
</div>
<div id="section" class="slide section level1">
<h1></h1>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABUAAAASACAMAAAAJRxcJAAAAe1BMVEUAAAAAADoAAGYAOjoAOmYAOpAAZmYAZpAAZrY6AAA6OgA6Ojo6ZmY6ZrY6kJA6kLY6kNtmAABmOgBmOpBmZgBmZjpmZmZmtv+QOgCQkDqQtpCQ29uQ2/+2ZgC2kDq2/9u2///bkDrb/9vb////tmb/25D//7b//9v////i1DmpAAAACXBIWXMAAB2HAAAdhwGP5fFlAAAgAElEQVR4nO3di7bbOJaYYZY7lcjTPYmdZMZOujRTJyXbev8njK4kSIIksAmA2Bv/t1a7XbJEERT1H96k010BACLd0TMAAFoRUAAQIqAAIERAAUCIgAKAEAEFACECCgBCBBQAhAgoAAgRUAAQIqAAIERAAUCIgAKAEAEFACECCgBCBBQAhAgoAAgRUAAQIqAAIERAAUCIgAKAEAEFACECCgBCBBQAhAgoAAgRUAAQIqAAIERAAUCIgAKAEAEFACECCgBCBBQAhAgoAAgRUAAQIqAAIERAAUCIgAKAEAEFACECCgBCBBQAhAgoAAgRUAAQIqAAIERAAUCIgAKAEAEFACECCgBCBBQAhAgoAAgRUAAQIqAAIERAAUCIgAKAEAEFACECCgBCBBQAhAgoAAgRUAAQIqAAIERAAUCIgAKAEAEFACECCgBCBBQAhAgoAAgRUAN+fO6evvQ3fbxu+e2P0Imc73c/Lf7zz69RUwufsKMfRzcbz6F+fe+6T39eHwshcJYuncfvfy3d/cO/jKYL/TJ/9scyE70uSIGAGtCH59TfdDYR0MDH5fZcmLeEXoKbniOgt8VDQGtDQA3ow/PYTLp7vPMsBHQlOsWMZutb2GPSB/S+GUxAq0NADejf4e7GipGAVrAbf7ln8/UjKbTn6QN69i8MAnosAmrAEJ73G+x9CFRhQIfn6PecD3Z5zkN/JDTGR1h1FwLqIqBVIqAGPAP6d+c9eH79t+qAvgoauNNcJwJqHAE14BnQ//6130K61+63f1Mf0Esl+/A7EFDjCKgBz4D+j+/95tq9PL//xySgj7MQs73Q52O/TTv3OuQ3vGGnAfVPTTDh6UOc53hO4svqQ/v7PP7yeJqP5y0fzp19D30f+BgNwXtjf0Rk/NSbi+C6END5A98BvYy3ufuF7h5SHW+RE9BjEVADXhE592/x+/vxdBkF1DlB47zd+rP1n/50O9ffPJRvdkWNZ2qO8AlPx7EUUO9DnasNpgE9D7nxPdQ9YdWXzHvjcEB5lNDNRTA8dhxQ3wOfAZ1dO0FAq0dADXiF5vJ+rz62cL6NAupGYMiA+17+l6Evo7Phr3f/KKD+qc3mKGjC00ct7MJ7H+qU8bf/Ow7o35833zPoe+j4hP8rlt4bFwa7uQicu41G6n3g48b/6ozmj/FCJ6C1IqAGvPaW7//3/sDM7T3lBnR6Vc3zffvalXScrtdRlvrbRgH1T80RM+HpOIYYPKfy/G/vQxeeZrLF6Hvo9JHLN06vrXpldXMRvMwC6n/gx+TW19MQ0OoRUANeAf31Pgh6ebwDnYA6hwCfb8XnzR/939/tON1vHk5+O6fBnYAuTM0RM+HpOPqJvR76eKT/oZe+Ne9InoZn72fB99BLHymn0t4bnw8aniN0EbhLwgno6ivhDuXLZKFzEqlOBNSA9/ma90HQxyHQqxPQs/Mef75BT9d3Jl6bVOc+QO67djg77Nzqn5ojasKzcYw5wZo+1H0at7YfTkwXHvrRR/jxSKdi0xudh/enxQIWwds0oAsPfM7y837OsAho9QioAe939sfzTfj60N8Q0Oc79f3m6293gvD+j9P730/PWx+PnLyXF6bmmZ+gCc8e5+mn/6ELTzOq0cJDP9zEvnlvfATtNDzaOSu1tghG0xwCuvTAD3cSkxeOgNaMgBrwLsn9/2/vpechUOd9OOyb3j23cL5Mbn7eerqO36mPWyfv5YWpOaImPBuH6/T6F+9DF57mFcJvmw/tJnPuvdExBHR7EbxNArr0wNHdJqEmoDUjoAa8A/p4v317HQKdbt8M7+L3dUXjm9+3zs/MTN7LC1NzRE14No5ZPZceevE+zWRzzv/Q0a3jBk9uHDjXRW0vAv+iWHzg6IjG0FUCWj0CasDomvXTe09+eGtNDji+/3P8bn7f6inO+L28MDVH1ISn4xieY3Y+afJQ/9O8/uat4vCs41a/nsh7Yz/Fl2/XkEXgXxSLDxzf3reSgFaPgBrQv4ke6fx/r+890xzQ9+70axNVEND37UvPOr7d/cq46Y2TC48IKBwE1ID+TXR/rz+vKP82C+h8x9G/C7xwRC9mFz5qwr5xXCfboP6H+o8UeAPqfVa3jP1kZjee+/8Yjk3m2YWfzzIBrR4BNaB/Ez3ecP/eOSepF0/7fAs61zNYP4k0PpgZNWHfOK7ve4+uhZo+dPUk0jisi8/6zuPokKd74+xq2qWTSP4vjQo4idQX+X07J5EUIaAG9G+ifhf0/pYd3loLF88Mb9SrexmQ/wuEYi5jipqwbxzDRF4bdt6Hrl7GNN61931sdH7VkO9Gp1u5L2MaDYXLmHQgoAZMT74450lCL6R3LkR3v8Jj+CVA0gvpNyfsHcfrLn1VvA9dvZC+j5bvoaO5ftzhNhXvje4RAKdyeS6kd4fyeAwBrR4BNWCys/56lztvrdfp5ekHCIe/jz4KOXx26HmH6Xt5YWqOmAl7x3Ed7v68k/ehax/lnBxonDzUudb++dClG19hHj4I6gZd8FHOhQe+fvA5S8z/Uc7tL2BBWQTUgOFN9Hp/zvb/pl9W8dpZPE9ufgZoej379LPwS1NzREzYO45r/5SvlHgfuvZlIkNqfA+dfMHIyo2zr/nwf/vH0tfmzw4g+B84e5bnQ7wL3fN9qAT0MATUgOFN9ErKbP9v4dvX3GT8o/86uMmFO84BwPWpOSIm7B3H1bn76Lqm8UOdp/n0v7vOH1DvQydVXb7RHcnfhpHk+Dq7fx9udn6zwOwiVQJaEwJqwPuA3dXdXw36CuRhG+7LD6cObjW+OTdtTM0RPuHpOOZz52yNTR/q/d7mWbR8Dx1tva7dOAz12+gD/Om/UPlbX/rR+fjxZQnTo60E9FgE1AAnoM7vhAj7JRz9mQy3c31zJvvTm1MTTHg6DvdfnCOGSw/tH7MS0IWHnn3589w4fK/z+ERO6l/p8W3yKVT/Ty3fF7cQ0MMQUNiweZUpkB4BhVa3DTln04uA4gAEFFq53xs/O8QAlEBAodbsws3Vw5FAegQUas2+gJk9eBRGQKHX5Prztc/ZAzkQUCg2ukb+dPTcoD0EFKotfEAHKIKAAoAQAQUAIQIKAEIEFACECCgACBFQABAioAAgREABQIiAAoAQAQUAIQIKAEIEFACECCgACBFQABAioAAgREABQIiAAoAQAQUAIQIKAEIEFACECCgACBFQABAioAAgREABQIiAAoAQAQUAIQIKAEIEFACECCgACBFQABAioAAgREABQIiAAoAQAQUAIQIKAEIEFACECCgACBFQABAioAAgREABQIiAAoAQAQUAIQIKAEIEFACECCgACBFQABAioAAgREABQIiAAoAQAQUAIQIKAEIEFACECCgACBFQABAioAAgVHdAOwBIJn2ikk8xoaOXNgBbkjcq9QRTyvADIzuN8wy0gYBWT+M8A20goNXTOM9AGwho9TTOM9AGAlo9jfMMtIGAVk/jPANtIKDV0zjPQBsIaPU0zjPQBgJaPY3zDLSBgFZP4zwDbSCg1dM4z0AbCGj1NM4z0AYCWj2N8wy0gYBWT+M8A20goNXTOM9AGwho9TTOM9AGAlo9jfMMtIGAVk/jPANtIKDV0zjPwMDyGkxAq6dxnoGB5TWYgFZP4zwDA8trMAGtnsZ5BgaW12ACWj2N8wy85Prtv5UgoJn9+Pxt5xTMrntoQL7fn14HApoZAUXDHuF8/s/maqw1oL++33+ofYl9WOFX8cfn7m+fu+63P/ZMxOiahwY8szn8YY+ygF5ur8jvfz3//+7Tn3GPL/4q3hIan/kxo2seGvBcd90/rVEV0Odm522D7p4lUUEPCOjfu5378DZXPLSAgAqmmHqCg/Ormr//x6uc5+f2aLjSL+LPr5/+83vsZvKEzRUP9nUeR89TapoCetvuvLfoo+v6bt525aO274q/gOdv1x//um8S9lY6NMHXT3PrsqaAfrx22M/DaZnbTv0pZhIaX0CN8wzcsQsvmGLqCb7dYvk8HXPbEu133D/i9uGDhlvZK13Z7ADBCKhgiqkn+Pbz62t33d3svKydRhLuQlT2Slc2O0AwLmMSTDH1BN/6gN724U/vGwkoUC8upI+fYuoJvt0C+rqi8uzuwked4yagQEl2Tx89KQrobc99frzznOEkUmWvdWWzgwwMv8a2+6kpoPfrl6bXLF0iP+dDQFEj26+x5dFpCuhtH368vXm/Ie4qdQKKGtl+jS2PTlNAn5+AHzZCz+P/DEFAUR3jO7m212BVAb0X1Plmo4/ofmYPqHNIYTjntZPl1Q/2T7PYXoN1BfS21enssn/EnUC6Wx1ugo+e3ar5PtF12fktds5sJZkM6mT+Qh/btAV0p7XhevsZO5rzO5veawZEeF9ZZv9Sc9sIqPBOC358Hj5vmmYPnveVafY/7GgbARXeaUG/4fmRag+et5VpBFQ3Aiq805JXONPtwfO2MizBQSMcioAK77Tkteuebg+egNqV4qg7DkVAhXda8tr0jPyMfrbZQeXCduFZB2pFQIV3WvS4fCn2i57X8OaxjIDqRkCFd1r0uID+tge/99fBJ5od1C3sMibWgVoRUOGdlt2/bC/hHjxvHtuCLqRnHagVARXeadltH/6fCffgefMYt3n6iLNLFSOgwjstu+3D/yPhHjwBtS6wn6wHNSKg6d2/5CTdHjwBbcDq3jufla8YAU3vx+cu4R48AW3A2vl3PitfMwKa3q/vyT7Gecf7xr6tC5j4qGetCGgG52Qf47zjbWMfAdWKgKaX8GOcd7xt7Ft6jfmoZ+0IaHrpvojpgbdMs/isfPUIaHK3DdBTyunxlmkZu/B1I6BpPX7vXcKLQK+8bdpGQOtGQNN6BPSUdJK8bVrGZUx1I6Bp3a8BTXkG6cr7pnFcSF81Alo9jfMMP8lryemjmhHQ6mmcZ/iJXkv6WTECWj2N8ww/6WvJOlArAlo9jfMMjx1bkqwDtSKg1dM4z5jbcyyTdaBWBLR6GucZM7vOprMO1IqAVk/jPGOK6zltIqDV0zjPmOITRTYR0OppnGdMEVCbCGj1NM4zxvhWJasIaPU0zjNG+Fo6swhoUpfhk/A/vyb6UDxvNQvYhbeJgCZ1q+b7t3lcUn2tMm83CwioTQQ0rfM7m7++p/rFSLzdLOAypuPkXOAEdHaPXUeo+t+HlO4XI/F+M4GvpTsMAU1mc7h7j/H3G57pfjES7zcbOH10FAKazNZw+7VbvJq/wpluD56AWlFRP6uYiTIyL3UCOv7nbvir7Bleu+4Jf7VxQyu7ebW8lrXMR365t/sJ6NI/C5fMa9Pzo/v0p+jx6zMF3Wp5LWuZj+yyH3kmoEv/LF0yj8uXbhk9yR4+18zK3oAqXsuKDiXklv/aBwK69M/SJfO4gP62B5/sVxs3saY3oobXsqWTWfmvviWgS/8sXjLn2z58wj34Kt50MKOpy6kIaGIlAnrbh/9nwj14AoqEWrqgv8Q3EBDQpX8WL5nbPvw/Eu7B21/PUVBDHykt8hUuBHT8z7svY7rez8B3Cffgra/mKKqhgF7ZhU8u/4X018c1oAn34BtYzVFKa1+rR0ATy/5Rzrtf35N9jPM5S+mmhaYV2amtCZcxJZb9y0Qezsk+xnlnexVHWW3twnMhfWJFVpmEH+O8a2A1RzGNBZSPcqZVZJVJ90VMDy2s5iilpcuYHjIfqSCgyd02QE8pp9fGeo5CmrqQ/innQAloWpfHT7t0F4FeCSjSauP0kYuAJlMmoKekk2xnRUcRrfWTgKaTfa25XwOa8gzSlYAivbbWKQKajMYVR+M8o25trVMENBmNK47GeUbdWKdSIaDV0zjPqBvrVCoEtHoa5xloAwGtnsZ5BtpAQKuncZ6BNhDQ6mmcZ6ANBLR6GucZaAMBrZ7GeQbaQECrp3GegTYQ0MP9+Lz+3SM1zjOAOwJ6OAIK1CX8u1YI6LF+fO7+9rlb/Qbm6uYZMC3my6oI6NE2v7+pwnkG7Ir6tj8CerQfn/++/gXMFc4zYFXkt6US0IP9/PrpP79/+nPlHvXNM2BU9JdNE9CizvNtzdtNP/71er2clh5z9DwDm2yspIJfdkJAC7qs7atflk4k2Vg3YZqJlVTyu04IaDnn1T3164/P/nNJJtZN2GZgJZX9qigCWsxGP+8FPfluNrBuwjQLv6VO+qtKCWhiH93Y6f0P5+1fdnzx/j5P3SsmzDPwe5LlIyCgiS0F9CPglx3/+u67IlTxeokGPLLz/J/WNXXHDwACmthCQH98Xvuw0dvF95EktaslWvDszvCHPru2nwloYreAenbVb9uWv/+1/WDv3ZSulg1r6hV7Dtb9U5edhx8IaGL+gF42Pq659miNa2XbmnrFdAd09+FbApqYN6C3LcuQPfhHaGeboPrWytY19Ip1HkfPU7gEs0xAE/MG9Mfn7n0Nk7Mt+vPrbLP0dtOstJrWSJi4pieYr596Rp5ihtsN6NbLLlwtvAH9GDYsb4l8/9Vzyui2qTqLqqI1Ehau6Ymjdhc+zevUakC3fnCKf7D6AnrP4un9H+d3Nr1njM7zfXhVa2XrOv3X9ERSGtBUP+YIaPqAuh41vG11DtuVt935L+O/TB4+/cCSorWyeZ36a3qiqRxyut0EAlogoKPvTO43PD98J5Y+5t9Or2e1hNLNsV0UbnQny2e7Ac3GF9BL5x7ZfIXTf2no/eGTQwBqVks0GVB1h32Tzi4BTcx3DPQyquJr1927Bz+564OW9RKe3ZYmXjtVY038yhDQxLYD+tr0/Jgd7Jzf9UHJiglfP1t57bQMNPnrQkAT2w7o8/KlW0ZPnocTUNWa3IW/UzLY9D/WCGhiSwF1dtcfF9Df9uB9X29HQFUjoDXLsVtAQBPzBXT6m4vPt314/x48Z+F16zRe05OCgtHmOapCQBPzBfR+HejJ+e/bPvw//XvwXAeqnMJretqQ66A0AU1s85NI10dQ/+Hfg+eTSNo1d/pIh2wvCgFNbOuz8O//9u/B81l49ehnfTK+JgQ0sek30j9y6nwb08P9oOjJ92i+jckCXrGqZP2RRkAT8wb0vmfubpcufj/orax8H6h6vGIVyXxIhYAm5g/oZbLFeV74DR98I315Gd4CvGK1yH5EmoCWcR7tw/s/xsnvRDoEATWrwAk9AlrG+Lp57xcxXRd+dydvx7xYvlaVOJ9HQAu5ONuWt5qevHc683vhC+OcuVllricjoKV8vOJ4GY6MTl28XeXdnQ9XbVpV6oUloMWcn7vnj4CefHf4+dV7Zok3dzYdnxuyqdwPRgJazsejoNMPxvd+fj15H8Z7O5eu1U+uG1dyv4KAFvTjs3fPfeMfeW/n0ux3J5lW9rAMAS3qvFjQi//C0Ovx82wXAbUnUT6DH05Aq6dxnjWYfuKBc0n6JXslCaifxneIxnlWwNtPFrVq6V5HAuqn8R2icZ51YBfelGQ/BGMmRECrp3GedSCghqTbh4jajiWg1dM4zzpwGZMZCY/BxF0crCyg94so3e/b+PXd/8XESzS+TzTOsxLaLqTXMZflpTyEHflTVVdAz6/ldHrfQECxh7KzR0pms7C0r2HkcR1VAT33i+q9EVpfQKffB3py/uU0u/dt/leurX/iXZORqn6yKnik/hFoOKD3/fd7bj6GgioK6I/Pvjn13zrCuyYvLctXV+tLSZ7PuY0HJHrmYYqpJ9g7v79F8/6r154F1RPQpW3Nj4Xvph/wlslLyfJVdrShjNQLxddPMwH95fwq9fdv/60yoFGh/PnV/9UiA94xeelYvp2y810lhEYucqLTPwPunlK2l/eWmiFNr4KuBzT6x0kCCwH9sfB74O8P2PgRwBsmLxXLt+OKq6lMb+pGAnov6ElRQJd+i1zAJihvGHDN/1S293Tkjyq1Ab0fB/2iZhf+/VvkLsN3gfbh3NoE5f0CAjqWc5Mo7mCJooC6x0Cf/9l90xLQ92+Ru1XzvSV6eZ8SW/oVnW+8X1oXf2rDtsyLIWriigI6bdMtPL/9U0dAh266VxK8bnKi6tX0ewUL/Wx4pci+FGImrimg01+G8fz1bPUF1PVM47CR2f/N2e48L/yS45eW3yt4YRf+rcwPkeBpawroM06n4b8vWgI6bJb2G57Or4ZfuvLppe33Cx4I6FOpbXCbAX3Uyd0GvW+TSgPq3zEKsD2Ls4Ce3Vo+/jrswY/OLG3MM1rVcRnTNf3HNteeKfUdw5869QRdt+6MW7N5FeVYP1xxPrdePd/mpHuq67Xr7p45uv39FDLPaFjHhfTl8mk3oHsdH9DXpqcbfgKKbYHrn11Fh09A/Y4P6PPypdElWbeArp2Gb/Ydg5G2+1nr6FsNaDabAX1cQD/6ZCdboAjT7KpQaz4JaHKbAX18qnN06JaAIkyjq0LNBy8IaGLea5JGV3peHtf/n67ODZyFR4gmV4W6D/4S0MS8AR3deNuH/8fou5m4DhRhWlwVQk8+HISAJuat4fjj7vdLRd2Lr/gkEqI1slYEn7w9CgFNbPqN9I+cupfNPy//Pw2P4LPwiNfEWlF9Pgloct6Auh/cfOTU3eTcOATaxlsF20YrQgNrRfi1gwcioIn5Azrehx9/u/KZ7wNFiLYCqiKfBLQUt5njmvKN9AgzrAj1d2U3HfkkoKW4V86P9uf5nUgI4cZER1r20JJPAlrM8Fs5x9fN81s5EcDtSXfk94qUeEole+8PBLSQ1290ugzHRZ/4vfDY5jazO/Sb7fI/paZ8EtByfny+76o/Anpyb129BvROwVqEvEbNPPa7lXM/o550PhHQYj7u4Zz8WpJf31c/hPSgZl1CLuNmHhfQ7HHTlk8CqoDGeUZSTi07n2KzkfkJ1eWTgCqgcZ6RkLeZBwQ098krhfkkoAponGeks1bNkuvG6EBslsnryycBVUDjPCOpKo6BZn1efQc/Xwho9TTOM5KaBPSYy5gyBrT40dx0CGj1NM4zkho3M/exyIU5yHfotfjR3IQIaPU0zjPSGjezfG9ynrsqfzYsJQJaPY3zjMSm544O6E2eXXjd+SSgCmicZ6Q2jcxRn0FKG9AsRwSKIqDV0zjPyGC0IhwR0NQnr/Tnk4AqoHGekcHBAU1+8spAPgmoAhrnGRkcHdC0J69M5JOAKqBxnpHB8StCuuBZ2Ht/IKDV0zjPyKCKFSH51mcNg9qBgFZP4zzDqgRro5F0PhHQ6mmcZ1i1f220lE8CqoDGeYZVe9dGW/kkoAponGfAx1o+CagCGucZmDN18POFgFZP4zwDUxbzSUAV0DjPwISV65YmCGj1NM4zMGLnws+J5gKq0dFLDdjF8NpMQBU4eqkBO5hel5sL6NFzADTF+LYAAQWQi/F8ElAA2VjPJwEFkIn5zc8rAQWQRQv5JKAAMhjKaTmfBBSol9rV1fyGZ4+AArXSuro2k08CCtRL5+raUD4JKFAv4ep66FreVD4JKJDJcd/dfuBa3s7BzxcCCmSxc13bcQXQUWt5C5ctTRFQIIt969qjQc//xU3nsIK1cd3nFAEFsti1rj0TNPwR88BDEtZ1BDTRFFNPMKV2Xlgcam9Hno90/wx+XtmG6z7TfLbzNiOgQHK7SyIMqHjDdZdZPht6lxFQILW924HzIgVOSLrhukvD+SSgQHJ7twO9/aw1oE3nk4ACySXImGQS4uzu0Hg+CSiQ3DEBlW+3irVezysBBRJL0jHhUYCyu/DD4FrNJwEF0kq0IdiJzkOVDKg7tFbzSUCB5JJkTBRf4YarQMN77SMEFEgszXagKFGyDddoLR/1HCOgQGLJtgNlu/7Z20Y+BwQUSC3VdqDk0eX6me8ZFCGgQCLD2pVoO3DXNVCZkM8RAgok4qxdaTJTX0B3XVlgEQEFEhmvXceta9meeeelWRYRUCCFWVbMBbTrCOgMAQUSmHelxNWYS/OSZaL004OAAvt5zrsfF9AMhmzSzxECCuzWLV35aWOFI5+LCCiwm/+zR0ZqQz5XEFBgN29AbRwunOdT9XBSI6DATrPzK11/NDT/x9LzGo+HfM4QUGAfXz+7gl+MlM9om5N8+hBQYDfPLnzJr+bMY7LLTj59CCiwm8GAcsQzCAEFdpvtr/sPi+qhcqaPQECB/SZnjPyHRdVQOMtHIaBAArNO6t2FJ58RCCiQwrQ6WgNKPqMQUCCR0dql8zImN59UNAABBRKZfgxe3YX003yqmfHjEFAgkcnapez00Xh2Nc35kQgokMh07dLUT28+Vcz5sQgokI+SFY58ShFQIB8dK5w3nyrm/HAEFMhHwwo3Dib5jEJAgXzqX+HI5y4EFGhX5+3nsfOkCgEFWjU73Ek/YxFQNIj14Oo9W0Q+YxFQNIj1gJPtaRBQNMjaehA9HvKZCAFFawy2I3Iw5DMZAorGdAbzETUWg+M/DgFFWzp9X5K0Ia6H5DMpAoqmdNV+Tad0dqK2qKf3paQ7EVA0pd4vihfOTcwWtS+fdS0EdQgommItoBFb1P581rUQ1CGgaEjncfQ8PYhnJvQHwmy8dY1fLQKKdvj6WcUaIZ+bsICSz1wIKJpS5S58zHHMyeNCfiCE57OaJaIGAUVTagxoJ7wywNtPTxTDtz5rWSJ6EFA0RRqrnPZEfeux81qu7bxXs0jUIKBoi3R3OaN8AfVsbC7nk8OiAgQUjVk7WniAwOOYKw+/LmxR+ye3svVZ1XJRgoCiNVV1Iuw45voEvFvUSxNb6WdtW+YaEFA0qK71YN+JLW8po1u8siWLFQQUDaprPdh5ZcDicc6Ybckar07QgICiQXWtB/u3/vxbn/FTUBTQSmaSgKJBla0Hu48/eq5S2n1FvmhGyqlkBgkocLi92dr5Ec29J7KOUMkMKgroz6/e1/nTnzEzV8dSB8Z2Vuv1QG/8wiaraxe+nsgTUKAKu9fNxXyaC2hFm8mKAnr98TkyoAp3TNCsneumfw0PXus7RZcxdRVdsqopoI9t0C8R9yeg0GPXulX6Lt4AACAASURBVLmaz6AJ11SldVW1XlVA7wX97Y89Ezh+gQN+O9bN/fm8VrVfvK6qow26Anrfi//9rx2PP3x5AwvkZ+BX8zk5IhowIdlslENAd/joum87Hn748gaSWtpuXLp1a2pp5y4D33G5A+daW0BvO/F7NkEVrCBAsLh8Wgiot58ENNy+TdD6VxAg0HJAVm9d34tPPI85sAt/nMOXN5DG2ubXaj/X3gMq3h8E9DiHL28ghfUa+vfetVymtKXjMqbDHL/Agd0EB/+qqs5ONf0sIKCALqJTJ1Xt9+5Vw9mjflaSTzH1BFOqYIkDewjbYSqgFV2ySkABNaSbXnVd+pNEJQMgoIAS4vj5+qn9nVDJAAgokEHyNW01fdtBtLULf61mEAQUyCDxmra+5RiwRUlA8yCgQAZJ17Ttqz4DAmrnMqaHSkZBQIEM0q1pG4ctQw9pdhVdPGkIAQVSizpPs363jZM+EaeEzJw+qgoBBRKLS9X6Z9PXpxRZavqZHAEF0orcWV6+U9J8bjwXZAgokFTU6Zr1K5NW+yjZoGT9T42A4kgGX5CYC4YWK7l9FEC0Q25wcR+MgOJIBl+QiIAu7Ox32/l830k0b0iHgOJI5l6QzmPlvtf5zn5QPkM+fIQCCCgOY/C0sK+fKwGd/hlaz7RMvQKFEVAc5YhWFBC+Cz+75yH55F2xBwHFQRYOAKoXGlDvxuohP1BsLf+yCCiO4T8AaEDgwGrJ585ntfXaxSOgOIa5rwfqBW9aD4M/7mjG3me29dLFI6A4ht2ABkfpPfiw+2fJ6+7jKMZeumgEFEeoYN81o8ABdeONz818Zniz7j6OYuhVEyGgOEANB//yCvwYfMzmZ5aATv+MfLi9Fy4SAcUxDO/C34UMafMHyPumbKHa9yLY/NEXh4DiGM0HdBpPT4fGB0nTz+K+vYDO6HVoUQgojrH/8FvVNk/AT+LpfcjoGGn6OdwXUOMvYCACioO0uwEzj9bChvjthrw7yXt2A4zvQgQioDhKo4fQxpt7ywEV7lhHzsv0zzKPtYOA4jAN9rOb53NhJ7pAPvfshu/b/beDgOJIbb0g09j4KjSceM928dJ4jkTHUVbmvC0EFEdq6AXxl2ZhR3jYQM28iOT5Yxf+joDiSCpekBQzubShthhQ780ZiDcfCegdAUUaskWr4gXZPZMru7kLRyGL1kn60nEZEwFFKoYX7c6hrR8l9B2FLHyAUThx6fFTUwgo0rC6aHcGbDuB8zuUPkMjnXjbp4+eCCgSsPtG2hWJsAD67qFgF/5q+WUPRkCxn91NkT27qRGbj87FS51zg4IzNFXPXAEEFA97lozdg2FdkgvNQ+49PGjnExdW99zlR0DxsGPJqHmzx5NtCMYfu+yv+uwfoOWHUt1zlx8BxcOugE7/NEMwNNGZn27+rSFKDouEH56wiYBi78kAswHtPCIeInqq+U2CGa+K/hGsIaBId6bZynv+yTey1aGJF8LSY0wsSRODWERA0e053BZdGVUiNq7l419edvqXpLk1YoqANq/bew7I7C58xNDkPz3WfvqoX5oGf6ZOENDm7e6f6YCG/HDZtfHtPHK2F6B9ae7at9GBgDYvQUDNXsYUkIC9hy6cx1pbhDZHNUZA25bkEKblDY31pbK3nldn4dnbiLc5qjEC2jRvP/ecScowjwdbHtm+ZTaZ1PRPC2yOaoyANi/Fam63n3fZ65nih1h1bI5qioA2L9F2guFF67k+M2EUEu0F1MbmqGYIaPO6NIf6DS/aydAyFMHmzq7NUY0RUHRJzgEZXrTjK4tybE/ZTI3NUY0RUKQ5B9TAok2zN+p7cKK9gMrYHNUYAYX1c0BJpDqWN3v8ewPN4pVgNkc1QkDxwJJZke5UyHwKr/+weaLF5qhcBBQPLJklCU8k+6bx/i+bpbE5KgcBxQNLxitdPL0xGd9k8zWwOao3AooHlsxcwng6E/M+wes/9z5JjWyO6o2AWiMcYgNLJlLKenrzOTvHYvM1sDmqNwJqTQNDLCBpPf35nF/lY/OlszmqNwJqTQNDzC1tPRfPpLRwnbl5BNQU8yc9s0t63HM0Tc/N0z+hDgG1JPlbvzFdjnwufvZobnqXZHOwNF+Zn6ABBNSQ6UkJRFhtWe5nI6BaEVA7ZiclEKpsPfsnnf7p+/fsM4A9CKgdHFOTOSKez+ed/umZqYzPzsGeBAioHQRU4Kh6Xtf3GLLP0kFjNoeAWrF9TA0jxy+sbvGY9fK/ZH9qRCGgRgSclEAv85IKneLS869tmyaR/QmaQUDtYBc+TO6fMxETXZiD7K9kzidoa9UjoHYQ0G0FttJjpnu72/L5dwKqAAG1g/2yVWUOcMRN3BvQ7Adj8j5BW+seATWk48zAkiLxvMZufi7sv2cOaM4nyL18q0NALckfCJ0K1TMuHyvzo3YXvr0VkICa0trquynrptzCUwXf/bUL79uJn/6ZWKYneI+poV0gAmpNA0MMVK6do2cLvvt18YD16j+mMHuCJE+TfbYrRECtaWCIAQpueY6fMPz+0z8nU8u7KTd9gkQBnf5pHwG1xsgQdwxjFs8SiyT2aTZik33WJ09AQIUIqDVGhhh+IeXkv4unc3jiqDtvzGn2+XeeIMlzBYzJIgKKKgkCqubt623N0rn4rPMxmZ1d0yKgiaaYeoIptfCSGhD+/nvfR91bN2B3t1BAu2THW9mFTzLF1BNMqZWXVbfQDPq3enS8xtUEtEt36pyAJpli6gmm1MrLqlroJpHaeN4FdKtUQK/XRNVL2GI1CCgqE/o21BvPh3R7znvnY/rnnmnVMaaCCCgqE/KOriCeu5+0ivAn3oqvYkxFEVBUZiugVey5p3jWClrjXZYpTsYnm8PaEVBUZe0NvfhuL/OyOs+SKhMVrI/Jz/xUMKaCCChqstRI/6ZSsg2nwHmbzGTCSR6HgO5CQFGZyTs6JJ1FAxr4dEHzU8H6+P4BdU01NxWMqSACisr0l3evhzJoyynd6x2day0BTX7qvIYxlUNAUZnAbcyyAY3f2tWzqpXbhjeIgKIqwfvnQbueqV7v11ZacGh0FUnX3NaFgKIWoekc7r6+65muC+9Yh299amuSnjmtDAHFoZa2OAPys3G/hBUbH5YNuLu6D+SomdHaEFAcZD2cMRt6S/+YrGJOQANmzBmAmvVNzYzWhoDiCJtbnYGv1Mrpo2QVi902Tn5lZQFa5rM6BBRlrW94OncLnNrqP6So2Oas5ntqVK9EQH/+r79SP4kU6/MxAqs5ekTghFf/IVHFIiYWnVuoViSgX7vulPppZFiXy1oJ5+YZosAnCH7a6JmfPktIQCVDhWKlAnrzJfUzCbAuF7HWzbRR8U4n+RN2UQdU2YVvSJljoB+vdfhb6ieLxfqcVUg4C70CaSr2nt8u5pQ+AW1IsZNI5+e759OfqZ8vCutzPhVUczQ30z9D7j+9rZ/1mJHEba9CtYJn4X99f66Bvx94SokVOrE6Njf9M3aNqZjnTqMhxAwoansVqpW9jOl1NPS4U0qs0ClsVbOKpRxZsdmd5kMJH1ZVCwI5Fb8O9LUd+tsfqZ83CGu01HY0a+tFxFz5Yjl/aMTwalweyKFwQD+GtfqU+olDsErHCItmlfW8i+7ncFfvQ+NGWN/yQAYlA/qq56c/n5uhR1zWxFq9TXc1xwL33ic7+wtjI6CYKRbQyZVMP78eckKetXqRnWo6BCfNUw1S0VKCXNnrQJ2NzjMBPUzcNqa2aLrCL2Dqr/dMNV6lSwxxCn4SaXT50m0nXng507lfxU+CmWt2rW4nmi5xQPPOFswoFdBEZ90/Ju/wU+zMhV7HF/kuCn7Evjeo++jFKYlSOcvm0uQ3n3Z1Pmb/Mr1X4BgCl4b3kVvT9k0odHwxj0++msVPD7uVCWiij3D++DxbTyOPA4SeVIhcFYMfET9p/6NzCJrRxQHM/mH5SbbnImhm3f/wz9b2ZLZmJHp84Y9PvprFTw/7Fb8OdIfHuXunmI9DA3EHAsJPKrh/SfaIoDtK3u2RNud0aUYXBzD7h27cwucN3RA7959GNw2Pfd7Yz3M3uv/oGf2zNXnGSWdHf3F24aPGN57YZLTrC27xqRatPyJ+ekhAU0Avs1zekxq1dRu2kx1x76hHuGEo7vXE1z4AghEtjnT2D93Qma4f9uN/ww1XZ76uozv1k3jdY7jb1VmEzpP7ZqufajeMe7Iw+n++XodniBhfNxnT6JnWF+jiUy1af0T89JCCpoB6TtzfNkJPMZMICuj7/7XyjMetZkBBx9tx23+f/8OwFKd/d2fx9ffxZudkZud/Xq+jXizNljvl8d9HP8aWqhcyvmFKQ929BZ1PePGpFq0/In56SEFRQG+bm/Nr7z/i9uGDA5o/c2LTcWyMiYBOnqV/oq7/h9eTLk6UgGKBooDetjbnu+uXtdNIywEav6vH/394QJfma/qe9dy+NJ7u/X/O/Zee532/0fJYv30+P8M/d6OH9kOcps0Zx3iOh/t1TuQ6d36nlR7m4/24fsFO/jJf9lHje97fnbl+wBuPn/2ECVgvF17/+f+HTY//T/n/6egI6Mr/5w/o+vMvzpfzuG7h9qXxOP83umHhcV3XzZfHyu3r8/Puybto3bs373t33ehx/f0mz9t1vv4P3fIsr/fjRuN25mPh1QkdXz9fo6le5/O5unwW5j/09Z//f9j0+P+E/59QtoAW3YUPvnvMI+InHfLojSm93nf+v+94qtHjZ//wvuH1fnb+PkTKDaiThsnMzv+8Dvdemy13yuO/9w1yqjma69DxOTXrn8I3Lc+EU69m+9YtSCkKaOGTSIF3j3kEAa0zoN7oEVAE0BRQ/2VMUV/qFBTQ0VswaKKBj4if9OKjw6f0eme/6xHSz8UZXXza2T84uzhDsV516Ub/+Lrz6E79JPr29QF16rexNJysOZuYnfOk7tanG/Hg8XWTMS1szPomnHo127duQUpTQL0X0sd9FClkuP2q2IUunOBHxE966dERU+oT5NRj62FLk1982tk/zAo67lnn/tPopuGx7xx1k7+MiruyNCbPOPzFnVrXLyDJ+MYTnox2fcGlXs32rVsQ0hTQ/jeCOCI/Yx80XOdtFjzZwEfET3rp0RFTmi20gIct3W/x8bN/WH5W/7+4j169x/tu7n/4Z2t7MrMH+ScUPr7wxydfzeKnh/1UBdT9KqanU+Tjw4YbvyIGP2LfOu4+OmJKAe/v4BldfPzsH5af1b3BP1u+x87utr00vI9cmqsU4/NPc2HCi3ddtP6I+OlhN2UBvfJ1djYc+kJIQ8Pagyl9Ad2Ft0AlKgio5HF7n3ff41EfAoojHB1Q4eP2Pu++x6M+BBRHOOKF2P2cBBRTBBRHIKAwgYDiCAQUJhBQHIGAwgQCiiMQUJhAQHGEsi/E+wr6HQ/fvFA+aDrCGUC1CChKStWi+OeUv/hhnzQKmpBsBlAvAoqCkrUo/jmP24U/YtAohIDiCOVeiCFYBwXU20/WQyMIKI5Q6oXw1+ugXXDWPnsIKI5Q5oVYzCcBRRoEFEco8UJMY8llTEiOgOIIpc69u9uaBBTJEVAcodS592500+5pHvt41IeA4giFApr2OQkopggojlAkoKmfc3sC6/dg7bOHgOIIRj8LT0BbQ0BxBJUB3fsUrH32EFDoIn8JCSiSI6DQRXFAYQ8BhS4EFBUhoNBl6SWs4hs6KpgFFEVAoYv/JazkK44qmAUURUAbYmL0vkFU8x1xFcwCiiKgDTExes8gju8n3/jZKgLaEBOj93zA6PBgJfvCPGhDQBtiYvTjQVSWq1rmA6UQ0IaYGL07iOo296qZERRCQBuievQr3y5fz7AqmhUUQUAbonn0GvKpewlDgoA2xMToR18xX9uIapsf5EZAG2Ji9FUPouqZQwYEtAGV7/fGqXrWq545ZEBA7av9wGGcqme96plDBgS0ISZGX/Ugqp45ZEBAG2Ji9IJBlBu3iSWMCAS0ISZGX3VA87M0FgsIaEPUj154+Fb9uB2WxmIBAW2I9tFLz39pH7fL0lgsIKANUT36HRcQqB73hKWxWEBAG6Jx9K953nX5lcZxL7E0FgsIaEM0jv4xzzsvX9U47iWWxmIBAW2IxtHf53nv1f8ax73E0lgsIKAN0Tj6FJ+d0jjuJZbGYgEBRdX2Hftc/gir1jVB63xbRUBRtcT9JKBIioCiaim++cQ3AWVrgq0vhDGEgKJqKUKhP6DefqoagVUEFFVL8YrpD+hA63xbRUBRp/4K+mST2rxNg/X51joqvQhoG9QNPOUuKwFFLgS0DdoGnvSYHwFFLgS0DXoG/i4lu/BeBLQuBLQNagbeZQ6o9rPZBLQuBLQNSgbuFC1PQNVfDkRA60JA26Bi4KOgsQvvRUDrQkDboGHg4w3ChAH1P1me6eZGQOtCQNtQ/8Cn+9ME1IuA1oWAtqH6gff5LHSQsvoFEkX7kV29CGgbKh/48KYvdZan8gUSR/2pMb0IqG063lm+GWMXXsDmqGpGQE3TsWninTECKmBzVDUjoG2oeuDPevoDmu85s07+IDZHVTMC2oaqB/4++jm5MeH0w25LMuFDVTdD5hHQNigYOAHdr7oZMo+AtkHBwMsGtO4JS1U3Q+YR0DYoGDgB3a+6GTKPgLZBwcAJ6H7VzZB5BLQNlQ3cdzUVAd2vuhkyj4C2oaqB+y9HJaD7VTdD5hHQNtQ08Mll88HX+ovH0E5AURoBbUM9A582MvzDUgQU1SGgKGmlkJuvTT0B1fEJWRRAQFHOamzSBzRX5rz9ZM1qEgFFMUuped6SPKD5MzeeHCtXgwgoCllOWKaA7n9g3IRZuRpEQFHG5s575oAKjxtsTzjRtKASAUUZm6fXCSj0IaAoY+UAJAGFVgQUR+s2Arr7XBABRS4EFIdwXomNgO4/mU5AkQsBxSHCA+p7iOC5CCgyIKA4xDygMQ8RPBcBRQYEFIe4vxKR++a1BpSPJTWMgCKT9Y50XfTBzUoDuv8YLfQioMhiqyPFduHX85ZyhWDlahABbU+BhbC9IVYqoP7twyxbjaxcDSKg7cm+ECL3x/Nugfoe7e0nAUU8Atqe3AshKEgLm4EbD9k1V+mnmW9aUIKAtifvQgjcnvNvBLYWUNZH7Qhoe3IuhM0Q7th7JqCoDgFtT76FsB1EwYan89h985Z+mrunxfqoHQFtT7aFEJNDwUmk9anI7kpAsQsBbU/mgEbPBAGFWgS0PVkDKpgJAgq1CGgz5Acf88yN7687piK768ErRMvrow0EtBU7zt7kmR3fX3dMRXZXAopdCGh7qlgIxQOaaQKqnx67EdD2VLEQKgnoQaraGcAOBLQ9VSyEpgNa19EU7EBA25NwIWy88VevqE/z/Cmmchzt8w8C2p5kC2Fzy4mAbtA+/yCg7Um1ELZ3Pd1/TLrorewDq5xpOAhoe1Jt/G1nK1dAK7skS07lTMNBQNuTYiGERSvbFmjWiRakff5BQNuTYCEEbvQR0A3a5x8EtD0Jrj4P3GcmoBu0zz8IKCJFHHIkoBu0zz8UBfTnV++pg09/xswcK+xeMads2gzo7g/oQw8CijhhJ48KnSWv8vUkoA1RFNDrj88E9HhB544IKNqgKaCPbdAvu6bAul3UfXFnbWmVr2eVM4U8VAX0XtDf/tgzAdbtojr/L38noLBCV0Dve/G//7Xj8azbRb0X93NLNOMTVKXKmUIeygJ6/ei6bzsezrpdVPaAVqmdkUJdQG878eGboIXOZGAJAYVx2gIatQlKQBPYs9AIKIxTF9B9WLcj7fup01ZA+XndIAKKFTszkCwpGl63rJcboFIEFIv2ViBdUlS9bqpmFvsQUCxIsBGVbBde1eumamaxj9qAfoguqWfdDpV0J9Qb0JhJq3rdVM0s9iGg8El7DI+AwigCirnUp0C8UyKg0I+AYib5GWQCCqMIKGaSX4FTY0DzrQqsZA0hoJhJfgEjAYVRBBT5iQOa8dp0AooECCjyWe1fwGuR88M9BBQJEFBks94/duGhn9qAyrBuH2K02CWblVUHlJWqYQQU+bmL3dtPAgqdCCgynHafTT/0xpgJ7LM8ydgnY6VqGAFF8ss+Pc8QemPMBPYhoEiAgDYv7cnthacIvTFmAtJ52TqCQEARjIA2LvHFQUtPEnpjzASEs0JAkQ4BbVqRfFYV0IBJElAEI6ANS31t+soThd4YM4F9CCgSIKDtKpVPAgqzCGiryuUzQUAzIKBIgIA2qmA+F+fgwCdPEVDBBwJgDQFt1PHvd+0BlXyiCtYQ0EY1/26fDV8cxMYXZNsIKNo0XRUCLhANnBIaQkDRJk4iIQECijYRUCRAQNEmAooECCgwRkARjIC2ovnT7sEIKIIR0EZwlWIwAopgBLQJXOYdgYAiGAFtAB+TiUJAEYyAKhM/Aj5mGIklhWAEVJnoEZDPWCwrBCOgykSOgHwCGRFQZaJGQD6BrAioMnHf456ln/oXIpAIAVUmPqCHzgJgGgFVJjagB88CYBoBVaaCEVQwC0AdCKgyFYygglkA6kBAlajoF/DoXYhAYgRUB/Hvm8gyLwc9MVAbAqpMBSOoYBaAOhBQZdZGUGirVP9CBBIhoMqs/SaKzAHdPIqgf+kCcQioMosjyH5cdPswrP6lC8QhoMosjKDkeaWVhpd4eqAeBFQZ7wjKnpYnoMALAVXGM4LSlzURUOCFgCozH0Hxq0IJKPBCQJWZjuCAi+oJKPBCQJWZnfgu/5kkAgq8EFDdjvhMJwEFXgiobkd8JH72jBV9Th8oioAi1tJhWAKK5hBQxGIXHnghoEjGyNI1MgyUQECRjJGla2QYKIGAIhkjS9fIMFACAVWm5hM09c5ZFCPDQAkEVJeqz3DXO2dRjAwDJRBQTSq/RKjeOYtiZBgogYDqUf0llhXPWgwjw0AJBFQLBZeo1zxvEYwMAyUQUCXqz6fmpTtiZBgogYCqoCGf6vGJVEQjoArwbi6Bj/QjHgGtH2/msljSCEZA60c+y2JZIxgBrR/5LIuljWAEFEtaXVitjhsCBBRLWl1YrY4bAgQUS0wsLMEgTIwbZRBQLDGxsAgociKgWGJiYRFQ5ERAK1TJafcqZmIv/yBWh2Zi3CiDgFanmss+q5iJvQgociKgtannY0dVzMRegoACwQhoXWr62GYdc7ETAUVOBLQmNeWz+oUVhoAiJwJaj0q+AsjWtxIRUOREQKtRSau8/Tx6pqJtDELfgFAnAlqJCktV1cxsGweSgKIEAlqH+vJZ8cLyi9lZVzY0VIuA1qHCfta7sPxCUmnh6ARqQkDrUOM7ub45WhUQUBOHd1ETAoolyhYWu/Aoj4BiibKFRUBRHgHFEmULi4CiPAKKJcoWFgFFeQQUS5QtLAKK8gjoQRSc/61+Bp8kl8wrGRqqR0APwQU0yYg+c8SyRxoE9AhcgZhBzPJk2SMNAloeV3BnQUBRHgEtPwvkMwsCivIIaOkZoJ+ZEFCUR0ALPz/5zIWlivIIaNFnJ5/5sFxRHgEt+eTkMyOWLMojoCWfnH5mxKJFeQS05JPzHs+IhYvyCCiM4LVFeQQUAIQIqIJJA6gTAVUwaQB1IqAKJg2gTgQ046Q57V4pXhYkQkCzTZrLPqvFy4JElAX0x+dbk37/q//vX9+7T39GPL5gQPncUb14WZCIroCeX1U6vW+oNqB87L1mvC5IRFVA3/0cNkIrDSj5rBuvDBLRFND7/vu32/9/DAWtMqB852fteGmQiKaAnrvf/nj85ZbNV0ErCKj3l5qRz6rx4iARRQG9xfL0/vv5VdDjA0o+FeLlQSKKAvrz62MH/ulV0OMDOpk0+dSAFwiJaA3ovaCnagOa7UmQBK8QElEb0Ptx0C91BjTbU2AnjrUgMUUBdY+BPv+z+1ZdQFExDlYjNUUBvV++5GyC3q9q+u2fBBTxeK2QiKaA3q8D/eL89+WxBbES0KIbHLwp9eC1QiKaAvq4gt7djb8QUEjwWiERVQF9FNTdBr1vk7ILj1i8VkhEV0DvZ46+jG74ODqg/VYtb0o9eK2QiLKA7pV6uM5hAd6UevBaIRECum9yXAmjES8ZElEb0I/3N4tESTpcriTUitcMiRBQqQrySQeEWHBIhIDKVPFBFjogxIJDIgRUpIZ80gHgaARUoI58ElDgaARUMpEq8klAgaMRUMlE6ugnAQUORkAlE6mkXJXMBtAsAqqYrdEA+qgNqIyt5NgaDaAPAVWIL1YH6kBA9fH108K4AHUIqGK2RgPoQ0CDHlVnquqcK6AdBDTgMQQUgA8B3X4IAQXgRUC3HlBvPwkocDACun73ivNJQIGjEdC1O9fdTwIKHIyArty37nwSUOBoBHTxnrXnk4ACRyOgS3esPp8EFDgaAV26Y/39BHAwArp0R/IJYAMBBQAhAgoAQgQUAIQIKAAIEVAAECKgACBEQAFAiIACgBABBQAhAgoAQgQUAIQIKAAIEVAAECKgACBEQAFAiIACgBABBQAhAgoAQgQUAIQIKAAIEVAAECKgACBEQAFAiIACgBABBQAhAgoAQgQUAIQIKAAIEVAAECKgACBEQAFAiIACgBABBQAhAgoAQgQUAIQIKAAIEVAAECKgACBEQAFAiIACgBABBQAhAgoAQgQUAIQIKAAIEVAAECKgACBEQAFAiIACgBABBQAhAgoAQgQUAIQIaJPzACAFAtrkPABIgYA2OQ8AUiCgTc4DgBQIaJPzACAFAtrkPABIgYA2OQ8AUiCgTc4DgBQIaJPzACAFAlrwueeOmxsA+xHQck9NQAFjCGiT8wAgBQLa5DwASIGANjkPAFIgoE3OA4AUCOjOO2acBwCVI6A775hxHgBUjoDuvGPGeQBQOQK6844Z5wFA5QjozjtmnAcAlSOgO++YcR4AVI6A7rwjgHYR0J13BNAuArrzjgDaRUCnd+ArkwAEIqCTfyegAEIR0J13BNAuArrzjgDaRUB33hFAxJV9fAAACHhJREFUuwjozjsCaBcB3XlHAO0ioDvvCKBdBHTnHQG0S2tAf32/X6H5JfZhBBRAOsoCerlV8/e/nv9/9+nPuMcTUADpqAroc7Oz++2PH587WUEJKIB0VAX0/Krm7//xKuf5uT0aji4CSEdTQG/bnfdsfnRd383brvy3mEkQUADpaArox2uH/Xzfi3/edNupP8VMgoACSEdRQG+xfJ51v22J9jvuH3H78AQUQDqKAvrz62t33d3svMSdRiKgANLRGNDbPvzpfSMBBXAYXQF9XTh/dnfhCSiAgygK6G3PfX6888xJJABHURTQ+/VL02uWLpEf5ySgANLRFNDbPvx4e/N+w9oePL/gCEBOmgL6/AT8sBF6Hv+nZ1YIKICMVAX0XtD3JfTX50eSoj6HxC48gJR0BfS21enssn/EnUC6I6AA0tEW0J0IKIB0CCgACKkN6Id7NDQYAQWQDgEFACECCgBCzQUUANJJXTYCCqAZqctWdUCzMX1swPTgGJ1iFkdHQM0xPThGp5jF0RFQc0wPjtEpZnF0BNQc04NjdIpZHJ3BIQWw+Er2TA+O0SlmcXQGhxTA4ivZMz04RqeYxdEZHFIAi69kz/TgGJ1iFkdncEgBLL6SPdODY3SKWRydwSEFsPhK9kwPjtEpZnF0BocUwOIr2TM9OEanmMXRGRxSAIuvZM/04BidYhZHZ3BIASy+kj3Tg2N0ilkcncEhBbD4SvZMD47RKWZxdAaHFMDiK9kzPThGp5jF0RkcUgCLr2TP9OAYnWIWR2dwSAEsvpI904NjdIpZHJ3BIQWw+Er2TA+O0SlmcXQGhxTA4ivZMz04RqeYxdEZHFIAi69kz/TgGJ1iFkdncEgAUAYBBQAhAgoAQgQUAIQIKAAIEVAAECKgACBEQAFAiIACgBABBQAhAgoAQgQUAIQIKAAIEVAAECKgACBEQAFAiIACgBABBQAhAgoAQgQUAIQIKAAIEVAAECKgACBEQAFAiIACgBABBQAhAgoAQg0G9Mfn7ua3P46ejyyeg/ty9GzkdBvit6PnIYNf37uexfFdLyaH1lxAf359r6Wf/jx6XpIb3oTW1tPB/QW0OLphxTQ5vudPdntvu9YC6q6mxl7KBjZi7s5GB3fpLL94fT+77ve/jp6ZlFoL6Md7B/f+PjwdPDOpvQd3/ylhazUdXGwG5vHiWRzWU79G9u8/KxoLqLP/92FuE/S2Afo6snsbptFjvM89CIulOVtbHV0f/U/0i7Gf7Y0F9DJsdt73d229EW+7SafXX61uztxetE//x+TYbiMzFZaR4Ue7+1cTGgvoh7MDcTb5RnyyOrb7DwabPxxum9ano+chG+dHuzWNBdR1tvWj0HV7N5rcH7y9Eb8Y3bq+7Rt9exyfsLhSXowd+HS0G9Db2mp1n+nD6GHC526uzYB+dL/9i8nT1HePl+x5jYi1l67dgH4Y/al4NnohzPW9z2AzoGfnKiZzBb2/cB82Lx5sNqC3vUFz6+mD3YC+dgRNBvS+efbceb9Yu9Dn+gjovxm9/LrVgN76aeuFfHtfTG/vp8P7mIvJgDoXntlbNZ/r5OPFu1i7/LrRgF6s/SAcu5+NOB09E6m9L5Q0GVCXuUsoHgF9bVXffjyYOk3WZkCN99PklfR9N80H1N7R+bOzR2Tsx0OTAT1b3MMdM/cmHC4lNB9Qexf9nJ0RGRtdgwG971Ccjp6J3Iytps9Ls1y2Rjdi7rUb/Tg3Nrr2Anr/XhhLr6CfsdW0qYDa28R2PkFtbc1sLqDWDmI7TH9O1XhAndfO2qfFr+MLC4ytma0F1ODZlZ6zmtq7FGZgbwPtOnrBLgaPMJ37MVlbMxsLqL2vYHLcB9df6WNtE21gMqCj187ej/j7cbP+OlBTa2ZjAb2M9wONvRGdr/22txHTMxnQ0WtnqjBPzhEYWxfAtBVQ93deGAyo8wtLTkfPSj42A+oU1OLohk0XW/1sLKDub0Syuao+34bGVtIxowF9N+Z09Gzk8viSBlPHP+/aCigAJERAAUCIgAKAEAEFACECCgBCBBQAhAgoAAgRUAAQIqAAIERAAUCIgAKAEAEFACECCgBCBBQAhAgoAAgRUAAQIqAAIERAAUCIgAKAEAEFACECCgBCBBQAhAgoAAgRUAAQIqAAIERAAUCIgAKAEAEFACECCgBCBBQAhAgoAAgRUAAQIqAAIERAAUCIgAKAEAEFACECCgBCBBQAhAgoAAgRUAAQIqAAIERAAUCIgAKAEAEFACECCgBCBBQAhAgoAAgRUAAQIqAAIERAAUCIgAKAEAEFACECCgBCBBQAhAgoAAgRUAAQIqAAIERAAUCIgAKAEAEFACECCs1+fO4+/Xn/y6/v3W9/HD03aA4BhWofXffF/X+gJAIK1V5bnj+/dr//dfS8oD0EFLpduu50vZ7ZgccRCCiUu7fzWVGgNAIK5W577//t++tUElAWAYV2H93Nt6PnAk0ioNDu13d24HEQAgr1zgQUByGg0O7CLjyOQkCh3G0P/r/8T64CxSEIKJT7uG1+XvgcEg5BQKHbj8+3rU8+CY9jEFDo9vwM0i2jp6PnBA0ioFDt/RmkM+eRcAACCs1+vT+DxLeJ4AgEFJoN32LH99nhAAQUAIQIKAAIEVAAECKgACBEQAFAiIACgBABBQAhAgoAQgQUAIQIKAAIEVAAECKgACBEQAFAiIACgBABBQAhAgoAQgQUAIQIKAAIEVAAECKgACBEQAFAiIACgBABBQAhAgoAQgQUAIQIKAAIEVAAECKgACBEQAFAiIACgBABBQAhAgoAQgQUAIQIKAAIEVAAECKgACBEQAFAiIACgBABBQAhAgoAQgQUAIQIKAAIEVAAECKgACBEQAFAiIACgBABBQAhAgoAQgQUAIT+PwhYZ5wFRX87AAAAAElFTkSuQmCC" width="672" style="display: block; margin: auto;" /></p>
</div>
<div class="slide section level1">

<p style="text-align: justify;">
Um dos problemas da metodologia Tobit é considerar que a equação que nos diz se uma observação está no limite é a mesma equação que nos diz o valor da variável dependente. Isso nem sempre é real. Temos então o modelo de Heckman, também chamado de modelo Tobit tipo II ou modelo de seleção amostral.
</p>
</div>
<div id="modelo-de-heckman-ou-tobit-tipo-ii" class="slide section level1">
<h1>Modelo de Heckman ou Tobit tipo II</h1>
<p>O modelo de seleção amostral é representado pelo seguinte sistema de regressão:</p>
<span class="math display">\[\begin{eqnarray}
\nonumber y_{1,i}^{*} &amp;=&amp; x_{i}^{T}\beta +u_{1i}\\
\nonumber y_{2,i}^{*} &amp;=&amp; z_{i}^{T}\gamma+u_{2i},
\end{eqnarray}\]</span>
<p style="text-align: justify;">
onde as respostas <span class="math inline">\(y_{1i}^{*}\)</span> e <span class="math inline">\(y_{2i}^{*}\)</span> são variáveis latentes, <span class="math inline">\(x_{i}\)</span> e <span class="math inline">\(z_{i}\)</span> são as covariáveis, <span class="math inline">\(\beta \in \mathcal{R}^{p+1}\)</span> e <span class="math inline">\(\gamma\in \mathcal{R}^{q+1}\)</span> são vetores de parâmetros, e os termos de erro seguem uma distribuição normal bivariada,
</p>
<p><span class="math display">\[\left(
\begin{array}{c}
u_{1i}        \\
u_{2i}
\end{array}
\right)\sim N\left\{\left(
\begin{array}{c}
0        \\
0
\end{array}
\right),\left(
\begin{array}{ll}
\sigma^{2}         &amp; \rho\sigma \\
 \rho\sigma     &amp; 1
\end{array}
\right)\right\},\]</span></p>
<p>com variância <span class="math inline">\(\sigma_{2}^{2}=1, \sigma_{1}^{2}=\sigma^{2}\)</span> e correlação <span class="math inline">\(\rho.\)</span> <span class="math inline">\(\sigma_{2}^{2}=1\)</span> para assegurar a identificabilidade.</p>
</div>
<div class="slide section level1">

<p style="text-align: justify;">
Observa-se uma indicadora <span class="math inline">\(\delta_{i}\)</span> quando a variável latente <span class="math inline">\(y_{2i}^{*}\)</span> é positiva e definimos o valor da variável <span class="math inline">\(y_{i}=y_{1,i}^{*}\)</span> se a indicadora é 1. Ou seja, assim podemos fazer:
</p>
<span class="math display">\[\begin{eqnarray}
\nonumber \delta_{i}=\left\{
\begin{array}{cc}
1,&amp; \textrm{se}\ y_{2,i}^{*}&gt;0,\\
&amp;\\
0,&amp; \textrm{se}\ y_{2,i}^{*}\leq 0  
\end{array}
\right.
\end{eqnarray}\]</span>
<span class="math display">\[\begin{eqnarray}
\nonumber y_{i}=\left\{
\begin{array}{cc}
y_{1,i}^{*},             &amp; \textrm{se}\ \delta_{i}=1,\\
&amp;\\
\textrm{0},&amp; \textrm{se}\ \delta_{i}=0 
\end{array}
\right.
\end{eqnarray}\]</span>
Considerando o modelo descrito acima temos: 
<span class="math display">\[\begin{eqnarray}
E(y_{i}|y_{1,i}^{*}\ \textrm{é observado},\mathbf{x}_{i},\mathbf{z}_{i})&amp;=&amp;
\mathbf{x}_{i}^{'}\boldsymbol{\beta} + \boldsymbol{\beta_{\lambda}}\left[\frac{\phi(\mathbf{z}_{i}^{'}\boldsymbol{\gamma})}{\Phi(\mathbf{z}_{i}^{'}\boldsymbol{\gamma})}\right] 
\end{eqnarray}\]</span>
e, 
<span class="math display">\[\begin{eqnarray}
Var(y_{i}|y_{1,i}^{*}\ \textrm{é observado},\mathbf{x}_{i},\mathbf{z}_{i})&amp;=&amp;\sigma[1-\rho^{2}\delta(-\mathbf{z}_{i}^{'}\boldsymbol{\gamma})]
\end{eqnarray}\]</span>
</div>
<div id="section-1" class="slide section level1">
<h1></h1>
<p style="text-align: justify;">
Se os erros são independentes, então <span class="math display">\[E(y_{i}|y_{1,i}^{*}\ \textrm{é observado},\mathbf{x}_{i},\mathbf{z}_{i})=\mathbf{x}_{i}^{'}\boldsymbol{\beta}\]</span> e o método de mínimos quadrados ordinários (MQO) nos dão estimativas consistentes de <span class="math inline">\(\boldsymbol{\beta}\)</span>. No entanto, qualquer correlação entre os dois erros significa que a média truncada não é mais <span class="math inline">\(\mathbf{x}_{i}^{'}\boldsymbol{\beta}\)</span> e o MQO produz estimativas viesadas de <span class="math inline">\(\boldsymbol{\beta},\)</span> pois o fator <span class="math inline">\(\rho\sigma\left[\frac{\phi(\mathbf{z}_{i}^{'}\boldsymbol{\gamma})}{\Phi(\mathbf{z}_{i}^{'}\boldsymbol{\gamma})}\right]\)</span> é omitido e torna-se parte do termo de erro <span class="math inline">\(u_{1,i}.\)</span> O viés resultante é chamado de viés de seleção amostral ou, somente, viés de seleção.
</p>
</div>
<div id="estimacao-2" class="slide section level1">
<h1>Estimação</h1>
<h2 id="metodo-de-maxima-verossimilhanca">Método de Máxima Verossimilhança</h2>
<p style="text-align: justify;">
Utilizando o pressuposto de normalidade bivariada, a função de verossimilhança é dada por:
</p>
<span class="math display">\[\begin{eqnarray}
\mathcal{L}(\theta|\mathbf{x}_{i},\mathbf{z}_{i})&amp;=&amp;\displaystyle \sum_{\delta_{i}=0} \ln \left[
\Phi\left\{ \dfrac{\mathbf{z}_{i}^{'}\boldsymbol{\gamma}+\frac{\rho}{\sigma} (y_{1,i}-\mathbf{x}_{i}^{'}\boldsymbol{\beta})}{\sqrt{1-\rho^{2}}}\right\}\right]\\
\nonumber &amp;+&amp;\sum_{\delta_{i}=1} \ln \left\{ \sigma^{-1}\phi\left(\dfrac{y_{1,i}-\mathbf{x}_{i}^{'}\boldsymbol{\beta}}{\sigma}\right)\right\}\\
\nonumber &amp;+&amp;\sum_{\delta_{i}=1} \ln \left(\Phi(-\mathbf{z}_{i}^{'}\boldsymbol{\gamma})\right)
\end{eqnarray}\]</span>
onde <span class="math inline">\(\theta\)</span> é um vetor de parâmetros.
<p style="text-align: justify;">
O estimador obtido é consistente, assintoticamente normal e eficiente, mas tem vários inconvenientes. Primeiro de tudo é não-linear e, obviamente, requer métodos numéricos iterativos. É muito caro do ponto de vista computacional, apesar de ser possível implementa-lo, existe o problema da não linearidade, a função de verossimilhança também tem máximos locais (Olsen 1982), o que requer um bom ponto de partida para o algoritmo numérico.
</p>
</div>
<div id="dois-passos-de-heckman" class="slide section level1">
<h1>Dois passos de Heckman</h1>
<p style="text-align: justify;">
Heckman propôs um processo simples de duas etapas que envolve a estimativa de um probit padrão e um modelo de regressão linear. Os dois passos são:
</p>
<p style="text-align: justify;">
<ul class="incremental">
<li>Estima-se a equação probit por máxima verossimilhança para obter uma estimativa de <span class="math inline">\(\boldsymbol{\gamma}.\)</span> Para cada observação da amostra selecionada, computamos:
<span class="math display">\[\begin{eqnarray}
\hat{\lambda}=\frac{\phi(\mathbf{z}_{i}^{'}\hat{
\boldsymbol{\gamma}})}{
\Phi(\mathbf{z}_{i}^{'}\hat{\boldsymbol{\gamma}})}\ \textrm{e}\ \hat{\delta}_{i}=\hat{\lambda}_{i}(\hat{\lambda}_{i}-\mathbf{z}_{i}^{'}
\hat{\boldsymbol{\gamma}}).
\end{eqnarray}\]</span></li>
</ul>
</p>
<ul class="incremental">
<li>Estima-se <span class="math inline">\(\boldsymbol{\beta},\ \boldsymbol{\beta}_{\lambda}=\rho\sigma, \rho\)</span> e <span class="math inline">\(\sigma\)</span> por mínimos quadrados a partir da equação:
<span class="math display">\[\begin{eqnarray}
\displaystyle y_{i}=\mathbf{x}_{i}^{'}\boldsymbol{\beta} + \boldsymbol{\beta_{\lambda}}\hat{\lambda_{i}}+\varepsilon_{i}
\end{eqnarray}\]</span></li>
</ul>
</div>
<div class="slide section level1">

<p>Vejamos alguns Exemplos:</p>
</div>
<div id="mroz-1987" class="slide section level1">
<h1>MROZ 1987</h1>
<p style="text-align: justify;">
De acordo com <span class="citation">Hill, Griffiths, and Lim (2008)</span>, em um problema de estimação de parâmetros, se os dados são obtidos por amostragem aleatória, métodos de estimação, clássicos, tais como mínimos quadrados, funcionam bem. No entanto, se os dados são obtidos por um procedimento de amostragem que não é aleatório, os procedimentos normais não funcionam adequadamente. Geralmente enfrentamos tais problemas na amostragem. Uma ilustração famosa vem de economia do trabalho. Se quisermos estudar os determinantes dos salários das mulheres casadas, nos deparamos com um problema de seleção da amostra. Pois, ao recolher dados sobre as mulheres casadas, e perguntar-lhes o salário que ganham, muitas vão responder que são donas de casa. Nós só observamos os dados sobre salários de mercado quando a mulher escolhe entrar na força de trabalho. Uma estratégia é ignorar as mulheres que são donas de casa, omiti-las a partir da amostra, em seguida, usar mínimos quadrados para estimar a equação de salários para aquelas que trabalham. Esta estratégia é falha, a razão para a falha é que a amostra não é uma amostra aleatória, uma vez que os dados observados, ao omitir as mulheres que são donas de casa, são selecionados por um processo sistemático.
</p>
<p style="text-align: justify;">
O primeiro exemplo é retirado do livro de <span class="citation">Hill, Griffiths, and Lim (2008)</span>, vamos reconsiderar a análise dos salários recebidos por mulheres casadas usando o conjunto de dados obtidos de <span class="citation">Mroz (1987)</span>. Na amostra de 753 mulheres casadas, 428 são empregadas no mercado formal e recebem salários diferentes de zero. Vejam uma parte do conjunto de dados:
</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setwd</span>(<span class="st">&quot;~/GitHub/Modelos de Heckman/Modelo-de-Heckman&quot;</span>)
<span class="co">#install.packages(&quot;Rtools&quot;)</span>
<span class="co">#devtools::install_github(&quot;hadley/readxl&quot;)</span>
<span class="kw">library</span>(readxl)
dados &lt;-<span class="st"> </span><span class="kw">read_excel</span>(<span class="st">&quot;~/GitHub/Modelos de Heckman/Modelo-de-Heckman/mroz_z.xls&quot;</span>,<span class="dt">col_names =</span> <span class="ot">TRUE</span>, <span class="dt">col_types =</span> <span class="ot">NULL</span>)</code></pre></div>
<pre><code>## DEFINEDNAME: 0b 00 00 11 02 00 00 00 00 00 00 00 00 00 00 5f 78 6c 66 6e 2e 4e 4f 52 4d 2e 53 2e 44 49 53 54 1c 1d 
## DEFINEDNAME: 0b 00 00 11 02 00 00 00 00 00 00 00 00 00 00 5f 78 6c 66 6e 2e 4e 4f 52 4d 2e 53 2e 44 49 53 54 1c 1d 
## DEFINEDNAME: 0b 00 00 11 02 00 00 00 00 00 00 00 00 00 00 5f 78 6c 66 6e 2e 4e 4f 52 4d 2e 53 2e 44 49 53 54 1c 1d 
## DEFINEDNAME: 0b 00 00 11 02 00 00 00 00 00 00 00 00 00 00 5f 78 6c 66 6e 2e 4e 4f 52 4d 2e 53 2e 44 49 53 54 1c 1d</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dados[<span class="dv">423</span>:<span class="dv">433</span>,<span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">19</span>,<span class="dv">23</span>,<span class="dv">14</span>,<span class="dv">1</span>,<span class="dv">7</span>,<span class="dv">21</span>)]</code></pre></div>
<pre><code>## # A tibble: 11 × 8
##      age  educ exper  kids    mtr  inlf   wage     lwage
##    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;
## 1     32    17    14     1 0.7215     1 4.7826 1.5649840
## 2     36    10     2     1 0.7215     1 2.3118 0.8380265
## 3     40    12    21     1 0.6215     1 5.3061 1.6688570
## 4     43    13    22     1 0.5815     1 5.8675 1.7694290
## 5     33    12    14     1 0.5815     1 3.4091 1.2264480
## 6     30    12     7     1 0.6915     1 4.0816 1.4064890
## 7     49    12     2     1 0.6615     0     NA        NA
## 8     30    16     5     1 0.6615     0     NA        NA
## 9     30    12    12     1 0.6615     0     NA        NA
## 10    41    12     1     1 0.5815     0     NA        NA
## 11    45    12    12     1 0.6615     0     NA        NA</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">attach</span>(dados)
<span class="co">#tail(MEPS2001)</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))
<span class="co">#library(stringr)</span>
<span class="co">#dados$wage&lt;-as.numeric(dados$wage)</span>
<span class="co">#wage2&lt;- str_replace(dados$wage, pattern=&quot;NA&quot;, replacement= 0)</span>
<span class="co">#wage2&lt;-as.numeric(wage2)</span>
<span class="co">#dados$wage2</span>
<span class="co">#dados$lwage&lt;-as.numeric(dados$lwage)</span>
<span class="co">#lwage2&lt;- str_replace(dados$lwage, pattern=&quot;NA&quot;, replacement= 0)</span>
<span class="co">#lwage2&lt;-as.numeric(lwage2)</span>
<span class="co">#dados$lwage2</span>
<span class="kw">hist</span>(wage,<span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">200</span>),<span class="dt">xlim =</span> <span class="kw">c</span>(-<span class="dv">1</span>,<span class="dv">30</span>),<span class="dt">xlab =</span> <span class="st">&quot;Salário de mulheres com emprego formal&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;Frequência&quot;</span>,<span class="dt">main =</span> <span class="st">&quot;Dados MROZ&quot;</span>)
<span class="kw">hist</span>(lwage,<span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">150</span>),<span class="dt">xlim =</span> <span class="kw">c</span>(-<span class="dv">3</span>,<span class="dv">5</span>),<span class="dt">xlab =</span> <span class="st">&quot;Log do Salário de mulheres com emprego formal&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;Frequência&quot;</span>,<span class="dt">main =</span> <span class="st">&quot;Dados MROZ&quot;</span>)</code></pre></div>
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABUAAAASACAMAAAAJRxcJAAAAe1BMVEUAAAAAADoAAGYAOjoAOpAAZmYAZpAAZrY6AAA6OgA6Ojo6ZmY6kJA6kLY6kNtmAABmAGZmZjpmZmZmtrZmtv+QOgCQZgCQkDqQtpCQ29uQ2/+2ZgC2Zma2kDq2///bkDrbtmbb/7bb/9vb////tmb/25D//7b//9v///9Zrim/AAAACXBIWXMAAB2HAAAdhwGP5fFlAAAgAElEQVR4nO3da4PaSpudYbxfZ7onmWnnYCeZTWImY9ru//8Lg4TOJdFV9ahgPcV9fdnezUlVWiyQEOLwAQDIcnj0AgCAVxQoAGSiQAEgEwUKAJkoUADIRIECQCYKFAAyUaAAkIkCBYBMFCgAZKJAASATBQoAmShQAMhEgQJAJgoUADJRoACQiQIFgEwUKABkokABIBMFCgCZKFAAyESBAkAmChQAMlGgAJCJAgWATBQoAGSiQAEgEwUKAJkoUADIRIECQCYKFAAyUaAAkIkCBYBMFCgAZKJAASATBQoAmShQAMhEgQJAJgoUADJRoACQiQIFgEwUKABkokABIBMFCgCZKFAAyESBAkAmChQAMlGgAJCJAgWATBQoAGSiQAEgEwUKAJkoUADIRIECQCYKFAAyUaAAkIkCBYBMFCgAZKJAASATBQoAmShQAMhEgQJAJgoUADJRoACQiQIFgExPX6Dnw8zXXyk3PjY3eTE8+vtr97hvw59O3V++/D27wiG44nIE1xt0fn87BNLGBgnkUxsFulyNf/2Mv/F+AR3v5Hg7oIvHmwdxjGA1AX125FMbBRquyO/RN94voMPTYkjWZkCnQTstL/u+vBvvAX125FMbBRquyPiE7hfQYftm8Ze1gI6bSUE+h8tWAjrbhIIT5FMbBdqsu/719Zy4KvcL6BC60zxP7RXG5bluP/WLe1qLcrgT6s+PjQugj3xqo0Cna7xf57GZ2ymg/3lyL8fu/9cD2iX0++TGY/DOG8+utDFBCvnURoHOA3pNQOxL/E4B/ZdvwyI0mzZf/tt2QM9jJrsX7sn23PXC5a6k62OkfPYAHeRTGwW6WHvX1RnsxZltX1yv8z0IaBeZeRb6TZfVhFwv/NcfQ9Caxfn6f7cDOlm86z9nT4+1Z1e3tyn+kwcoIZ/aKNBFeK4h614lpzvBh4gO+7//+jkL6GR/+piR6U72lYh2eTsO99884ss5KqCnMI2LZ1frGD7B4Af51EaBLqNzHP8w/xCxW8fTHP7zJKCfXXk1oV2izv1zon16fL8R0HETafZM6qz8bX2zCV6QT20U6DI54wvn4hCN65W6zaCJl/F+lgldXjnYHdVtbDX/ae++3cX093ZAr3fY/v/1jcbiHifPrukD+DxCBB/kUx0Fulyl16Q1u2SGtX3NwnUtX1/Im3/36Wsz0m03vX3MPmwc73ySrKkuoH/6nUzn9vqbAe0e8mW86WLTZ7nZFO7Ihy/kUxsFuhnQNnPTY9ia1Xxd4931j2NcprvHx9fe05iO5obhC21/x/1OpnYX08cyoAvTSz4JqOsjRPBBPtVRoJsBbUN1XbfXyDV/G6M6/M/LcIW36V00Mfk0H/3dNVf8+usa/7dPAtrlLyag3ncwgXyKo0BvBHQwBnR29evL/UtwL9e/v013PG18ytgHtPnvJVfXXUy3Azr/UPVmQKebdvCJfGqjQCMC2p2ApvnbafaSORwmMv/z8PfZTvq1A+36gLZR+t7tYroR0JflTW8G1PkRIvggn+oo0GV25ut4evBHGNDTLKAv8/to/neer+19TG2WXvotpcme+fGfp8VdfP4pp/8dTCCf4ijQ1YBe/7A49CMjoIsDRdY/5ez3Rn39j+supvWA9kvTv/eYfVzQuYa2WzzfX5HDFfnURoEu1uLkWN/+1LFffy32MUVvIo2PMNzV/NGH/DVX+vK/X6+Psh7Q5Wv89LwNs4d6mwzE8xEi+CCf6ijQRUDHXTeTPT1ZO+mn0eizvny9HfLXPsJ/766xEdDFycKuSzqN/Oxgvhp2MIF8iqNAF7kZdzEdxxU8BnT810fEYSLNVfp0Tf44GvI3bEo1gdsKaHc0dPfWITyN4mnyLqKCI0TwQT7VUaDzgJ6HCAzHenz0a355oPL0exerByrP9qO3Udt8hZ+dVmcroIvdTN0nAIsz80zfk3jfwQTyKY4Cna7ILnLtOp7so5kcJjL5Ilx/1pvJF9eWX5WbvOTO9p8Pxvz1e6K+f9wIaLck/b2cJrcZPlDdOBcjfCKf2ijQQ+i6XoMfdLm+lB6Xf35ZvXZ7H8EvvywTM+avy9d4HobVgE6+0ry6LPO3JOvjgifkUxsFurWOZ+n6x+uQxOmf/8v455jThYW7zMf8da/J47uB1YAufxZh61cPV5LrNKDPjnxqo0CXa3HcLzOm63sbme6S8dC5t/dJQGcnYhwSNTvOLgzIZMfT5MwPNwI6zXFw/4vjV6oI6LMjn9oo0Pk6fFu5sPnbcXrhsPN9FtCNn0zow7L6ld9JQCdf0bsR0GDP/PjEmF6rnoA+O/Kp7ekLFAByUaAAkIkCBYBMFCgAZKJAASATBQoAmShQAMhEgQJAJgoUADJRoACQiQIFgEwUKABkokABIBMFCgCZKFAAyESBAkAmChQAMlGgAJCJAgWATBQoAGSiQAEgEwUKAJkoUADIRIECQCYKFAAyUaAAkIkCBYBMFCgAZKJAASATBQoAmShQAMhEgQJAJgoUADJRoACQiQIFgEwUKABkokABIBMFCgCZKFAAyESBAkAmChQAMlGgAJCJAgWATBQoAGSiQAEgEwUKAJkoUADIRIECQCYKFAAyUaAAkIkCBYBMFCgAZKJAASATBQoAmShQAMhEgQJAJgoUADJRoACQiQIFgEwUKABkokABIBMFCgCZKFAAyESBAkAmChQAMlGgAJCJAgWATBQoAGQqXaDHQ++l8CMB6cgnTIoW6OkwR0ahhHzCqmCBvr8elv76We7hgCTkE3blCvTPj3kif3+7/P/XX8UeD0hBPrGDcgV6DuLYRPZ7sccDUpBP7KBcgR7DDaLLizy7maCBfGIHxQr08nL+FvzxxDYSNJBP7KFYgV5ezcPNoTO76aGBfGIPFCieEvnEHtiEx1Min9gDHyLhOZFP7ODehzGFr/rAI5BP7ODOB9KziwkiyCd2UPCrnG0i5778Xe7hgCTkE3ZFTyZyXOSTHUxQQj5hxens8MzIJ0w4oTIAZKJAASATm/B4etePkziGHuk4Iz2e0qU0+8Y8kk/k4oz0eEpjgU4+i+dNKBJxRno8paFAz4fu+0dNQHkPijSckR5PqS/Qy3+HV/kTR9IjEScTwVPqC/Q8+f775RWefCIJp7PDU+oLdPauk3wikdAJlYOPnA4cpIpS+gI9TguUfCKRdoGSUBQyFugkkuQTiaQ34QkoSlndhE/8SQ/yCekPkQgoSpl8iDRuKR15gUca6TPSE1CU0hfo9JP3M/lEIukz0hNQlNKdTvltbM0msOQTaaTPSE9AUco0nW1ttt/oTPueB/mE9BnpCSgKGjq0LdBTcn+ST2ifzo6Aorj31/7j+OSEkk9IR4CAQhn5hHQECCiUkU9IR4CAQhn5RNEItKdUnhwM+ucH3/RAPcgnSkbguPz4iAJFTcgnCkZg/AC+fxNKgaIm5BPlItBsvzfH1Z3GBqVAURPyiZInE+m+d9R8Re7aoBQoVKx8T244pj4W+UTJ09kN+z6Ph+HEDQQUEihQ7OE+J1TuGpQChYyVX92mQJHqTmekP7afxVOg0NG8B006e12AfOJOBXo9FSgFCiGXiNp+xph84i77QD+634SnQKGkP49ILvKJchE4zc8Odgnrl3+jQKHklHwGuxnyibLHgU53MZ3ZSQ8x/e96ZCKfKBiB0+IsoGcKFGJsb0HJJ0pGoGnQ6XvQ5j0pBYpqkE8UjUDw2/AnChT1IJ+QjgABhTLyCekIEFAoI5+QjgABhTLyCekIEFAoI5+QjgABhTLyCekIEFAoI5+QjgABhTLyCekIEFAoI5+QjgABhTLyCekIEFAoI5+QjgABhTLyCekIEFAoI5+QjgABhTLyCekIEFAoI5+QjgABhTLyCekIEFAoI5+QjgABhTLyCekIEFAoI5+QjgABhTLyCekIEFAoI5+QjgABhTLyCekIEFAoI5+QjgABhTLyCekIEFAoI5+QjgABhTLyCekIEFAoI5+QjgABhTLyCekIEFAoI5+QjgABhTLyCekIEFAoI5+QjgABhTLyCekIEFAoI5+QjgABhTLyCekIEFAoI5+QjgABhTLyCekIEFAoI5+QjgABhTLyCekIEFAoI5+QjgABhTLyCekIEFAoI5+QjgABhTLyCekIEFAoI5+QjgABhTLyCekIEFAoI5+QjgABhTLyCekIEFAoI5+QjgABhTLyCekIEFAoI5+QjgABhTLyCekIEFAoI5+QjgABhTLyCekIEFAoI5+QjgABhTLyCekIEFAoI5+QjgABhTLyCekIEFAoI5+QjgABhbKK83nY8ugFUyM9IawuKKs2n5v1We2Is0lPCKsLyqrN5+bAqh1xNukJYXVBWbX5pECjSU8IqwvKqs0nBRpNekJYXVBWbT4p0GjSE8LqgrJq80mBRpOeEFYXlFWbTwo0mvSEsLqgrNp8UqDRpCeE1QVl1eaTAo0mPSGsLiirNp8UaDTpCWF1QVm1+aRAo0lPCKsLyqrNJwUaTXpCWF1QVm0+KdBo0hPC6oKyavNJgUaTnhBWF5RVm08KNJr0hLC6oKzafFKg0aQnhNUFZdXmkwKNJj0hrC4oqzafFGg06QlhdUFZtfmkQKNJTwirC8qqzScFGk16QlhdUFZtPinQaNITwuqCsmrzSYFGk54QVheUVZtPCjSa9IRkry5+lRV3UG2cKNBo0hOSubpu/Kq19HDhTLVxokCjSU9IdoHufIfAmmrjRIFGk54QChTKqo0TBRpNekIoUCirNk4UaDTpCaFAoazaOFGg0aQnhAKFsmrjRIFGk54QChTKqo0TBRpNekIoUCirNk4UaDTpCaFAoazaOFGg0aQnhAKFsmrjRIFGk54QChTKqo0TBRpNekIoUCirNk4UaDTpCaFAoazaOFGg0aQnhAKFsmrjRIFGk54QChTKqo0TBRpNekIoUCirNk4UaDTpCaFAoazaOFGg0aQnhAKFsmrjRIFGk54QChTKqo0TBRpNekIoUCirNk4UaDTpCaFAoazaOFGg0aQnhAKFsmrjRIFGk54QChTKqo0TBRpNekIoUCirNk4UaDTpCaFAoazaOFGg0aQnhAKFsmrjRIFGk54QChTKqo0TBRpNekIoUCirNk4UaDTpCaFAoazaOFGg0aQnhAKFsmrjRIFGk54QChTKqo0TBRpNekIoUCirNk4UaDTpCaFAoazaOFGg0aQnhAKFsmrjRIFGk54QChTKqo0TBRpNekIoUCirNk4UaDTpCaFAoazaOFGg0aQnhAKFsmrjRIFGk54QChTKqo0TBRpNekIoUCirNk4UaDTpCaFAoazaOFGg0aQnhAKFsmrjRIFGk54QChTKqo0TBRpNekIoUCirNk4UaDTpCaFAoazaOFGg0aQnhAKFsmrjRIFGk54QChTKqo0TBRpNekIoUCirNk4UaDTpCaFAoazaOFGg0aQnhAKFsmrjRIFGk54QChTKqo0TBRqt9IQcD72X9BtToFBWbZwo0GhFJ+R0mEvtUAoUyqqNEwUareCEvL8elv76mXQPFCiUVRsnCjRauQn582PemL+/Xf7/66+Uu6BAoazaOFGg0cpNyDmoy6ZSv6fcBQUKZdXGiQKNVm5CjuEG++VNaNJuUAoUyqqNEwUardiEXN5uvgV/PKVtw1OgUFZtnCjQaMUm5PJuM9xcP6d9jESBQlm1caJAo1GgQKZq40SBRmMTHshUbZwo0Gh8iARkqjZOFGi0ex/GFL4rvYEChbJq40SBRrvzgfRpX0WiQKGs2jhRoNEKTkjbmHNf/k66BwoUyqqNEwUareiEHBf9yclEUJNq40SBRuN0dkCmauNEgUaTnhAKFMqqjRMFGk16QihQKKs2ThRotLtMyPXjpLRT2TUoUCirNk4UaLSSX+XsG/PIh0ioUbVxokCj3aFAJ5/FJ74JpUChrNo4UaDRyhfo+dB9/6jZkE97D0qBQlm1caJAoxUv0Mt/h68fnRKPpKdAoazaOFGg0YoX6Hny/fc/PziZCOpRbZwo0GjFC3T2rpPT2aEi1caJAo1WvECP0wK9eULl4JvzBwoUyqqNEwUa7Q4FOulMChQVqTZOFGi0+27C85MeqEi1caJAo93jQ6Txt5GO7ANFPaqNEwUarXiBTj95P3NGelSk2jhRoNFKFuihPYR+aM3mFPWckR71qDZOFGi00gXaamuz/UZn+EvHt1CgUFZtnCjQaCUnZOjQtkBPyf1JgUJatXGiQKOVn5D31/7j+ORz0lOgUFZtnCjQaNITQoFCWbVxokCjSU8IBQpl1caJAo0mPSEUKJRVGycKNJr0hFCgUFZtnCjQaNITQoFCWbVxokCjSU8IBQpl1caJAo0mPSEUKJRVGycKNNpdvol0WHwpKXrhKFAIqzZOFGg0ChTIVG2cKNBo5Sbk/ZUCRdWqjRMFGq3ghDTvQZPOXhegQKGs2jhRoNEKn0wk7WeMlyhQKKs2ThRotKIT0p9HJBcFCmXVxokCjVZ2Qk7JZ7CboUChrNo4UaDRyk5I/7semShQKKs2ThRotMITYnsLSoFCWbVxokCjSU8IBQpl1caJAo0mPSEUKJRVGycKNJr0hFCgUFZtnCjQaNITQoFCWbVxokCjSU8IBQpl1caJAo0mPSEUKJRVGycKNJr0hFCgUFZtnCjQaNITQoFCWbVxokCjSU8IBQpl1caJAo0mPSEUKJRVGycKNJr0hFCgUFZtnCjQaNITQoFCWbVxokCjSU8IBYrCjsOPzbyk37jaOFGg0aQnhAJFSafFD3aldmi1caJAo0lPCAWKclZ+9TDpJw8rjhMFGk16QihQFPPnx7wx29/hTjv9d7VxokCjSU8IBYpizkFdNpWadPrvauNEgUaTnhAKFMUcww32y5vQpN2g1caJAo0mPSEUKEq5vN18C/54StuGrzZOFGg06QmhQFHK5d1muLl+TvsYqdo4UaDRpCeEAkUpFOgNFGg06QmhQFEKm/A3UKDRpCeEAkUxfIj00Yxgw+b177p4DkhPCAWKYtYPYwrfld7gPU6b9UmBRpOeEAoUxaweSJ/2VSTvcUrvSe8j3p/0hFCgKKdtzLkvfyfdg/c4UaB20hNCgaKk46I/n+1kIhSonfSEUKAo7KlPZ0eB2klPCAUKZd7jRIHaSU8IBQpl3uNEgdpJTwgFisLYhN/ngqclPSEUKEp69jPSU6B20hNCgaIczkhPgdpJTwgFimI4Iz0FugPpCaFAUQxnpKdAdyA9IRQoiuFkIhToDqQnhAJFKZzOjgLdg/SEUKAoJf2EygknLXKCArWTnhAKFKVQoBToHqQnhAJFKWzCU6B7kJ4QChTF8CESBboD6QmhQFEMZ6SnQHcgPSEUKIrhjPQU6A6kJ4QCRTmckZ4CtZOeEAoUJXFG+t0ueFrSE0KBojBOZ7fPBU9LekIoUCjzHicK1E56QihQKPMeJwrUTnpCKFAo8x4nCtROekIoUCjzHicK1E56QihQKPMeJwrUTnpCKFAo8x4nCtROekIoUCjzHicK1E56QihQlLLyPaTkn5XzHicK1E56QihQlEKBUqB7kJ4QChTFrPyqMQWafcHTkp4QChTlNO9Bk85eF/AeJwrUTnpCKFAUdGnQxNMvLXiPEwVqJz0hFChKumzFJ/2Ex5L3OFGgdtITQoGiqNNh5Zfl4nmPEwVqJz0hFCiKumzEW96Ceo8TBWonPSEUKMqyvQX1HicK1E56QihQKPMeJwrUTnpCKFAo8x4nCtROekIoUCjzHicK1E56QihQKPMeJwrUTnpCKFAo8x4nCtROekIoUCjzHicK1E56QihQKPMeJwrUTnpCKFAo8x4nCtROekIoUCjzHicK1E56QihQKPMeJwrUTnpCKFAo8x6nnALdVGohxUmPmwKFMu9xokDtpMdNgUKZ9zjtuAnvfSqySY+bAoUy73GiQO2kx02BQpn3OFGgdtLjpkChzHucKFA76XFToFDmPU4UqJ30uClQKPMeJwrUTnrcFCiUeY8TBWr3+bh//9efd1iOVRQoPuUvnzIoULvVcZ9nR8j+5S2gFGjlnOdTBgVqtzbu48F3QCnQunnPpwwK1G5l3O+v84AafvfViAJFyH0+ZVCgdivjvrzAvzS/mP1y/ffj8kmBYoX7fMqgQO3Ccf/5cfj6q9nP1G4anR64hUSBIuQ/nzIoULtw3L+/Hd4+mg2lL39/tHF1t4lEgdbMfz5lUKB2qwX6ffxPt6n0GBQoAv7zKYMCtdss0MtLe/NCf3mlbzaYHoMCRcB/PmVQoHabBfpxvL60v7+6O0yEAq2Z/3zKoEDtVj9Eal/aT+2++n5n/UNQoAj4z6cMCtRuZdzdB5vnQ7uXvsvpQ1CgCLnPpwwK1G79QPommpf/XKJ5PvjbSU+BVs19PmVQoHZbX+V8G78x5+4wEQq0bt7zKYMCtVsb958fbSp/f2vz+bgXeAoUa7znUwYFarc+7nO7e6l/qX8YChSrfOdTBgVqJz1uChTKvMeJArWTHjcFCmXe40SB2kmPmwKFMu9xokDtpuNu9sp/7/fNOz5hLQVap1ryKYMCtaNA4UUt+ZRBgdpRoPCilnzKoEDtpMdNgUKZ9zhRoHbS46ZAocx7nChQO+lxU6BQ5j1OFKjd+rhP1y8Y//72wB+c+aBAscF3PmVQoHZr477urP+4/oDsA79qTIFijfd8yqBA7VbG3Zyr4foV47PPkzVQoFVzn08ZFKjdyrhPh+upart/+ztdGAVaNff5lEGB2oXjvrzAT/YsXbaS3J2wlgKtmf98yqBA7cJxd7+73XP4kwkUaM3851MGBWq3WqDTjSKHP9pFgdbMfz5lUKB2FCh88Z9PGRSo3eo+0OlG0dHfJhIFWjP/+ZRBgdqtfwo/7mQ6P/JHEyhQhNznUwYFarcy7uY45e44keafD/yyBwWKkPt8yqBA7dbGfZ6dLexxh9lRoFjjPZ8yKFC71XE3X5HrDIcsPwIFijXO8ymDArXbGHd31tqHxpMCxRbX+ZRBgdpJj5sChTLvcaJA7aTHTYFCmfc4UaB20uOmQKHMe5woULvPPkTy+KNdFGjlnOdTBgVqtzbuk/NfPaRA6+Y9nzIoULuVcc8Ps3MYUAq0au7zKYMCtVsZ9/Gh3+6YokARcp9PGRSo3erJRETySYEi5D+fMihQu3DcixPWPhIFioD/fMqgQO0oUPjiP58yKFC71U145wGlQGvmP58yKFC7lXE/8ldm5ihQhNznUwYFarcybp1tJAoUIff5lEGB2q2N+/1V5DWeAsUK7/mUQYHarX6I5PxAZQq0Zv7zKYMCtStdoMfhbl4yFo4CxRIFuhsK1K5ogS6+tJzcoRQoAhTobihQu4Ljnp8zJyfrFCiUeY8TBWpXbtx/fswbs33nkLbznwKFMu9xokDtyo37HNRlU6lJv6FIgUKZ9zhRoHYb4+5+e/tkOFzkGG6wX+41aTcoBYp1O+RzB97jRIHarY77up++CWj+z26vfuMu8UskFCjW7JHPPXiPEwVqtxz3//k5/c3Y5iCkzIRe7iS85TntYyQKFAu75XMP3uNEgdrNx/3nx6Xgml2VX3+9vzY/up1/8loKFLvbMZ978B4nCtRuNu731yaO50Oz8X0NaLORlPfFYzbhsbc987kH73GiQO2m425+bOateVVvWq4L6KUHM3fU8yES9rVvPnfgPU4UqN2iQL8Pbx27gF5e4jO3kdYPY0p6u0CBYmLffO7Ae5woULtZgbaR7HZe9gFN3G05Wj2QPu2+KFBM7JvPHXiPEwVqF74D3S2gwZeW2w9OkxaOAsVo53zaeY8TBWoX7gNdbCIdDfuYjov+5GQiMNg9n1be40SB2q18Cn/99KcLaOrnPkuczg67KZBPE+9xokDtVo4DPbdldw1o8tfXd0WBYqaOfMqgQO3WvonUHp3cBvSUfAKlXVGgWKghnzIoULu1cc8+/THuomcTHnvbM58m3uNEgdqtjrs9AmmHfHJGepSwVz6tvMeJArXbGHcXUVM8OSM9Stkjn3be40SB2pUbN2ekR+W8x4kCtSs3bs5Ij8p5jxMFaldu3JxMBJXzHicK1C4c904/G8vp7FAEP2u8GwrUrliBpp9QOfjI6VCgQLdlPRTujgLdDQVqR4FSoL5QoLuhQO1uj9twulpnm/BPGwDXHno6Zf+hoUDtPht3YuVN+PoQ6WkD4Fx+PnfgPTQUqN1n4768xmeerMHXGemfNgDO5edzB95DQ4HafTru7Jd4X2ekf9oAePfIt6DeQ0OB2kUU6FOckf5pA+Adv4mUjwK1K1igrs5I/7QB8I4CzUeB2n027svbSNMmkpfT2T1tAJyz5tPEe2goULtPxt1shrv7yQQK9Gm4zKcMCtTu8wPpE/db7okCRcB/PmVQoHafF2jSgUf7okAR8J9PGRSo3WcF6vGM3xRozfznUwYFaic9bgoUyryHhgK1kx43BQpl3kNDgdpJj5sChTLvoaFA7YqNe+V7SMn7rChQKPMeGgrUjgI1PRSemffQUKB2nx/GlPtx58qvGlOgMNsrnzvwHhoK1K5cgbZ3ZDtIjwJFgALdDQVqV7BAm3uyfU2EAkWAAt0NBWq3Nu7LxndXfMY3kZc7Mp3pgQLFit3yaeU9NBSo3cq4L6kcQ3k2vYk8HUznC6dAEdoxn0beQ0OB2q2M+zg7v83RcrYb48nGKFCEdsynkffQUKB24bgXvzJz85eIP2V7C0qBIrBrPm28h4YCtVv9EMl5QCnQmvnPpwwK1G61QKf75Y/+zvhNgdbMfz5lUKB2q/tAJy/xp0d+zEmBIuQ+nzIoULuVcTdfIeo2iyb/fAQKFCH3+ZRBgdqtjfs0PUD5gUeJUKBY4z2fMihQu9Vxnx/7BY8BBYo1zvMpgwK12xh3dyaQh8aTAsUW1/mUQYHaSY+bAoUy76GhQO2kx02BQpn30FCgdhvjbs7S8OXvj9PjjrFrUKBY5zqfMihQuzGQRqoAACAASURBVNVxX88Y1gTUdjIQKwoUa5znUwYFarc27u6Mi5eAHg8PTSgFihXe8ymDArVbGfefH4fD11/vr80RdkePBypToFVzn08ZFKjdyrjP7bfjrgF1+VU5CrRq7vMpgwK1W/0ufLNrvgvo5eXe3ckaKNCquc+nDArULhz3JZLNa3oX0MtLvLvThVGgNfOfTxkUqF047u58i31AHZ5vkQKtmf98yqBA7ShQ00Ph7vznUwYFavfpJrzDE9ZSoDXzn08ZFKjd6odIzWt6F9DL6727H+2iQKvmPp8yKFC79cOYXvqANsfcPe5IZQoUIff5lEGB2q2Nuz06uQ1oc+raB37dmALFCu/5lEGB2t34Kufjz1hLgWKF93zKoEDtVsfdbBgJ5POztXLYlH6HTxsAj5zkUx4Farcx7i6iymf83q5PCrR6DvLpAAVqJz3uTwr0PpcAG7yHhgK1WzuM6cGv6yMKFCEn+XSAArVbPZD+sef5HlGgCHjJpwMUqN3qVzkfd2jyHAWKgJd8OkCB2vEONOKhIMRLPh2gQO3Wv4n0yB+amaBAEXKSTwcoULu1cb+/irzGU6BY4SOfDlCgdqv7QOdETxdGgT4nL/l0gAK1o0AjHgpCvOTTAQrUjgKNeCgI8ZJPByhQO+lxU6BQ5j00FKid9LgpUCjzHhoK1E563BQolHkPDQVqNx230Hc8rihQTPjKpwMUqB0FGvFQkOArnw5QoHbrBfr+2v7y4aNRoJjwlU8HKFA7CjTioSDBVz4doEDtKNCIh4IEX/l0gAK1o0AjHgoSfOXTAQrUjgKNeChI8JVPByhQOwo04qEgwVc+HaBA7SjQiIeCBF/5dIACtaNAIx4KEnzl0wEK1I4CjXgoSPCVTwcoUDsKNOKhIMFXPh2gQO0o0IiHggRf+XSAArVbFOga0RPWUqDPxlc+HaBA7SjQiIeCBF/5dIACtaNAIx4KEnzl0wEK1E563BQolHkPDQVqJz1uChTKvIeGArWTHjcFCmXeQ0OB2kmPmwKFMu+hoUDtpMdNgUKZ99BQoHbS46ZAocx7aChQO+lxU6BQ5j00FKid9LgpUCjzHhoK1E563BQolHkPDQVqJz1uChTKvIeGArWTHjcFCmXeQ0OB2kmPmwKFMu+hoUDtpMdNgUKZ99BQoHbS46ZAocx7aChQO+lxU6BQ5j00FKid9LgpUCjzHhoK1E563BQolHkPDQVqJz1uChTKvIeGArWTHjcFCmXeQ0OB2kmPmwKFMu+hoUDtpMdNgUKZ99BQoHbS46ZAocx7aChQO+lxU6BQ5j00FKid9LgpUCjzHhoK1E563BQolHkPDQVqJz1uChTKvIeGArWTHjcFCmXeQ0OB2kmPmwKFMu+hoUDtpMdNgUKZ99BQoHbS46ZAUdjx0HtJv7H30FCgdtLjpkBR0ukwl9qh3kNDgdpJj5sCRTnvr4elv34m3YP30FCgdtLjpkBRzJ8f88b8/e3y/19/pdyF99BQoHbS46ZAUcw5qMumUr+n3IX30FCgdtLjpkBRzDHcYL+8CU3aDeo9NBSonfS4KVCUcnm7+Rb88ZS2De89NBSonfS4KVCUcnm3GW6un9M+RvIeGgrUTnrcFChKoUAp0D1Ij5sCRSlswlOge5AeNwWKYvgQiQLdgfS4KVAUs34YU/iu9AbvoaFA7aTHTYGimNUD6dO+iuQ9NBSonfS4KVCU0zbm3Je/k+7Be2goUDvpcVOgKOm46E9OJrL/BbWTHjcFisI4nV3hC2onPW4KFDqCDf6D99BQoHbS46ZAoYMCpUBD0uOmQHEP14+T0k5l1/AeGgrUTnrcFChKuZRm35jDflA+RNr/gtpJj5sCRSljgU4+i098E+o9NBSonfS4KVCUMhTo+dB9/6jZkE97D+o9NBSonfS4KVCU0hfo5b/D149OiUfSew8NBWonPW4KFKX0BXqefP/9zw9OJrL3BbWTHjcFilL6Ap296+R0drtfUDvpcVOgKKUv0OO0QDmh8u4X1E563BQoShkLdNKZFOjuF9ROetwUKEpZ3YSnQHe/oHbS46ZAUcrkQ6Txt5GO7APd+4LaSY+bAkUpfYFOP3k/c0b63S+onfS4KVCU0p1O+W1szeYU9ZyRfu8Laic9bgoUpUzPR9/WZvuNzvCXjm/xHhoK1E563BQoCho6tC3QU3J/ug8NBWonPW4KFMW9v/Yfxyefk957aChQO+lxU6BQ5j00FKid9LgpUCjzHhoK1E563BQolHkPDQVqJz1uChTKvIeGArWTHjcFCmXeQ0OB2kmPmwKFMu+hoUDtpMdNgUKZ99BQoHbS46ZAocx7aChQO+lxU6BQ5j00FKid9LgpUCjzHhoK1E563BQolHkPDQVqJz1uChTKvIeGArWTHjcFCmXeQ0OB2kmPmwKFMu+hoUDtpMdNgUKZ99BQoHbS46ZAocx7aChQO+lxU6BQ5j00FKid9LgpUCjzHhoK1E563BQolHkPDQVqJz1uChTKvIeGArWTHjcFCmXeQ0OB2kmPmwKFMu+hoUDtpMdNgUKZ99BQoHbS46ZAocx7aChQO+lxU6BQ5j00FKid9LgpUCjzHhoK1E563BQolHkPDQVqV3rcx0PvJf3GFCiUeQ8NBWpXdNynw1xqh1KgUOY9NBSoXcFxv78elv76mXQPFCiUeQ8NBWpXbtx/fswb8/e3y/9//ZVyFxQolHkPDQVqV27c56Aum0r9nnIXFCiUeQ8NBWpXbtzHcIP98iY0aTcoBQpl3kNDgdoVG/fl7eZb8MdT2jY8BQpl3kNDgdoVG/fl3Wa4uX5O+xiJAoUy76GhQO0o0IiHAtZ4Dw0FascmfMRDAWu8h4YCteNDpIiHAtZ4Dw0Fanfvw5jCd6U3UKBQ5j00FKjdnQ+kT/sqEgUKZd5DQ4HaFRx325hzX/5OugcKFMq8h4YCtSs67uOiPzmZCGriPTQUqF3pcXM6O1TLe2goUDuhcQcb/AcKFMq8h4YCtRMaNwUKX7yHhgK1u8u4rx8npZ3KrkGBQpn30FCgdiW/ytk35rAflA+RUBPvoaFA7e5QoJPP4hPfhFKgUOY9NBSoXfkCPR+67x81G/Jp70EpUCjzHhoK1K54gV7+O3z96JR4JD0FCmXeQ0OB2hUv0PPk++9/fnAyEdTDe2goULviBTp718np7FAR76GhQO2KF+hxWqCcUBkV8R4aCtTuDgU66UwKFBXxHhoK1O6+m/AUKCriPTQUqN09PkQafxvpyD5Q1MN7aChQu+IFOv3k/cwZ6VER76HZtUA37bCgwkoW6KE9hH5ozeYU9ZyRHvXwHhoK1K50gbba2my/0Rn+0vEtFCiUeQ/NPTbhvc/RZ0oOb+jQtkBPyf1JgUKa99BQoHblh/f+2n8cn3xOegoUyryHhgK1kx4eBQpl3kNDgdpJD48ChTLvoaFA7aSHR4FCmffQUKB20sOjQKHMe2goUDvp4VGgUOYmNKnHaFKg0aSHR4FCmZPQpB/kToFGkx4eBQplTkLz0J50MkfZpIdHgUKZk9BQoAVJD48ChTInoaFAC5IeHgUKZU5CQ4EWJD08ChTKnISGAi1IengUKJQ5CQ0FWpD08ChQKHMSGgq0IOnhUaBQ5iQ0FGhB0sOjQKHMSWgo0IKkh0eBQpmT0FCgBUkPjwKFMiehoUALkh4eBQplTkJDgRYkPTwKFMqchIYCLUh6eBQolDkJDQVakPTwKFAocxIaCrQg6eFRoFDmJDQUaEHSw6NAocxJaCjQgqSHR4FCmZPQUKAFSQ+PAoUyJ6GhQAuSHh4FCmVOQkOBFiQ9PAoUypyEhgItSHp4FCiUOQkNBVqQ9PAoUChzEhoKtCDp4VGgUOYkNBRoQdLDo0ChzEloKNCCpIdHgUKZk9BQoAVJD48ChTInoaFAC5IeHgUKZU5CQ4EWJD08ChTKnISGAi1IengUKJQ5CQ0FWpD08ChQKHMSGgq0IOnhUaBQ5iQ0FGhB0sOjQKHMSWgo0IKkh0eBQpmT0FCgBUkPjwKFMiehoUALkh4eBQplTkJDgRYkPTwKFMqchIYCLUh6eBQolDkJDQVakPTwKFAocxIaCrQg6eFRoFDmJDQUaEHSw6NAocxJaCjQgqSHR4FCmZPQUKAFSQ+PAoUyJ6GhQAuSHt5dC3Rb5NLi2TiJBgVakPTwKFAocxINCrQg6eFJbMLXngBkcxINCrQg6eFRoFDmJBoUaEHSw6NAocxJNCjQgqSHR4FCmZNoUKAFSQ+PAoUyJ9GgQAuSHh4FCmVOokGBFiQ9PAoUypxEgwItSHp4FCiUOYkGBVqQ9PAoUChzEg0KtCDp4VGgUOYkGhRoQdLDo0ChzEk0KNCCpIdHgUKZk2hQoAVJD48ChTIn0aBAC5IeHgUKZU6iQYEWJD08ChTKnESDAi1IengUKJQ5iQYFWpD08ChQKHMSDQq0IOnhUaBQ5iQaFGhB0sOjQKHMSTQo0IKkh0eBQpmTaFCgBUkPjwKFMifRoEALkh4eBQplTqJBgRYkPTwKFMqcRIMCLUh6eBQolDmJBgVakPTwKFAocxINCrQg6eFRoFDmJBoUaEHSw6NAocxJNCjQgqSHR4FCmZNoUKAFSQ+PAoUyJ9GgQAuSHh4FCmVOokGBFiQ9PAoUypxEgwItSHp4FCiUOYkGBVqQ9PAoUChzEg0KtCDp4VGgUOYkGhRoQdLDo0ChzEk0KNCCpIcnUqDbbiwe6uckABRoQdLDo0ChzEkAKNCCpIcnUqDpl+ApOAkABVqQ9PAoUChzEgAKtCDp4VGgUOYkABRoQdLDo0ChzEkAKNCCpIdHgUKZkwBQoAVJD48ChTInAaBAC5IeHgUKZU4CQIEWJD08ChTKnASAAi1IengUKJQ5CQAFWpD08ChQKHMSAAq0IOnhUaBQ5iQAFGhB0sOjQKHMSQAo0IKkh0eBQpmTAFCgBUkPjwKFMicBoEALkh4eBQplTgJAgRYkPTwKFMqcBIACLUh6eBQolDkJAAVakPTwKFAocxIACrQg6eFRoFDmJAAUaEHSw6NAocxJACjQgqSHR4FCmZMAUKAFSQ+PAoUyJwGgQAuSHh4FCmVOAkCBFiQ9PAoUypwEgAItSHp4FCiUOQkABVqQ9PAoUChTC8Bhy+b1H3hBJaSHR4FCmVYANuuTAi1IengUKJRpBUCzJ7XmaH/Sw6NAoUwrAJo9qTVH+5MeHgUKZVoB0OxJrTnan/TwKFAo0wqAZk9qzdH+pIdHgUKZVgA0e1JrjvYnPTwKFMq0AqDZk1pztD/p4VGgUKYVAM2e1Jqj/UkPjwKFMq0AaPak1hztT3p4FCiUaQVAsye15mh/0sOjQKFMKwCaPak1R/uTHh4FCmVaAdDsSa052p/08ChQKNMKgGZPas3R/qSHR4FCmVYANHtSa472Jz08ChTKtAKg2ZNac7Q/6eFRoFCmFQDNntSao/1JD48ChTKtAGj2pNYc7U96eBQolGkFQLMnteZof9LDo0ChTCsAmj2pNUf7kx4eBQplWgHQ7EmtOdqf9PAoUCjTCoBmT2rN0f6kh0eBQplWADR7UmuO9ic9PAoUyrQCoNmTWnO0P+nhUaBQphUAzZ7UmqP9SQ+PAoUyrQBo9qTWHO1PengUKJRpBUCzJ7XmaH/Sw6NAoUwrAJo9qTVH+5MeHgUKZVoB0OxJrTnan/TwKFAoe0wADps2b/DQC9Jt3JUk6YWlQKHsEQHIKB4KtCDphaVAoewxBZp8SS0XSJJeWPkCreI1FLko0LteIEl6YSlQKKNA73qBJOmFlS/Q5JugJhToXS+QJL2wFCiUUaB3vUCS9MJSoFBGgd71AknSC0uBQhkFetcLJEkvLAUKZRToXS+QJL2wFCiU7bGedzsqXrT1KNAHokChzL6e04+Eo0C1SC8sBQplexTobheIth4F+kAUKJRRoHe9QJL0wlKgUEaB3vUCSdILS4FCGQV61wskSS8sBQplFOhdL5AkvbAUKJRRoHe9QFLphT0Oh2W8pN+4xgK91xmcbhwgc6clcKFcPm33QIE6UXRhT4snaGpG6yvQe9VXTn36Cu4eiubTdg8UqBMFF/b9NXiG/vUz6R5qLND0S3I8fgn0Fc7n8qppL1oZL3OarUeB5vrzY57I398u///1V8pd+C3QnPjva8+BVql0PudXTF1Pe67ZWi6QVG5hz0Ecm8h+T7kLCjTfngOtUul8Rl2RTfiECySVW9hjuEF0eZFP2s3kt0AfvABswn+udD6jrkiBJlwgqdjCXl7O34I/ntK2kShQjUtqVDyfUVekQBMukFRsYS+v5uHm0PnWbvqUDdGNq8Nkh9XuRvF8fnZTbMpcpQ9BgWKww2p3gwLVlblKH0J6Ex4ohXxiD9IfIgHFkE/s4N6HMYWv+sAjkE/s4M4H0id+1QMohXxiBwV32LaJnPvyd7mHA5KQT9gV/cTruMgnO5ighHzCqvQhA6bThQGFkU+YuDrmCgCUUKAAkIkCBYBMFCgAZKJAASATBQoAmShQAMhEgQJAJgoUADJRoACQiQIFgEwUKABkokABIBMFCgCZKFAAyESBAkAmChQAMlGgAJCJAgWATBQoAGSiQAEgk+cCDX7WG/f36BB49+j158uj11ZIcJEiPXpdovXoGPj26LXnzaPXV0hwkSKZZ/Phd/DwBRC4gyd3l/m7x4NUM5BUgosU6fFPfgpUMtKeVNM71QwkleAiRXr8k58ClYy0J9X0TjUDSSW4SJEe/+SnQCUj7Uk1vVPNQFIJLlKkxz/5KVDJSHtSTe9UM5BUgosU6fFPfgpUMtKeVNM71QwkleAiRXr8k58ClYy0J9X0TjUDSSW4SJEe/+SnQCUj7Uk1vVPNQFIJLlKkxz/5KVDJSHtSTe9UM5BUgosU6fFPfgpUMtKeVNM71QwkleAiRXr8k58ClYy0J9X0TjUDSSW4SJEe/+SnQCUj7Uk1vVPNQFIJLlKkxz/5KVDJSHtSTe9UM5BUgosU6fFPfgpUMtKeVNM71QwkleAiRXr8k58ClYy0J9X0TjUDSSW4SJEe/+SnQCUj7Uk1vVPNQFIJLlKkxz/5KVDJSHtSTe9UM5BUgosU6fFPfgpUMtKeVNM71QwkleAiRXr8k58ClYy0J9X0TjUDSSW4SADgAwUKAJkoUADIRIECQCYKFAAyUaAAkIkCBYBMFCgAZKJAASATBQoAmShQAMhEgQJAJgoUADJRoACQiQIFgEwUKABkokABIBMFCgCZKFAAyESBAkAmChQAMlGgAJCJAgWATBQoAGSiQAEgEwUKAJkoUADI5LRAf387XLzl3vzPj8Pge8aD//XTsijT2ycvyftrc9Uvf2cvwPIOMpdg+njGtfHUwvW5r3usm9JjmD1S+vO1KJ8Feuye8Lnr7JqqzAK9NM6kQNMXZXb7xCUZrz7cRdoChHeQuARj3w5Xtq6NJ7ayPvd1h3VTfAzzh6JA7U4H4yo7j52RvkKO04fNWJTZ7dOWZFp23X2kLcDKHaQtwcr7VfPaeF4rq2Nfd1g3xccwccx5vpblsUCbLYavv65P/Zesezjlr4e2QYagpC/K/PaJS9I8H9qtsWP/eIkLEN5B5hI0T5vmcfdYG89rZXXs6h7rpvQYJs5Zb3jK8ligx35FXfKRt2lyzH6tvO7umW4/py3K4vZpSzLZgjl1d5K2ACt3kLYEl/rvHuVyV9d/2dfG01pbHbu6w7opPob5Q1Ggdpd57NfTKW/3+KUGru+eMh76cPinH9P9h0mLsrx94pKcx5f45o3s9+QFCO8gcQkuT8T+Drp3rva18bxWVseu7rFuSo9h1Hx28L8oULvJk/jyz5wmvAQre9P/8H3yIVDqoixvn7gk02fBsY1S4gKEd5A/F93t7Wvjea2sjl3dY92UHsPskb4b9r0V4rBAJ6ts/oF4tMur5vf2zWDqZs2pCeTkQVMXZXn7/CW5hLW5iWEurneQvQT9uxv72kDjWGAb+97rpsQYBpeXgDfLhxeF+CzQfhLHXXKJ9/Dln7vPDTNelucFmr4o0yxnL8mlv5ob5M9Fdwe5S3Dq90bZ1wY+xtWxqzuvmyJj6F13NVGgO5huKOS95vUHx+U16KQAsxZlWqDZS9K9ucifi9Pks9PUJThOjmKyrw18FNpHeed1U3Qf+LDFRYFaTaOQFYtmZ/f1ZudDxjqfFWjGokxun70k/S6t7Lno7yBrCeYFalwb+Ci1i/K+66boLvDzNZwU6A7mscj6KuZwD5eVnrxraLNAIxflz+xT/KwlGa6cOxfDHeQsQX8w/UqFq8XbiZwYRrjruik0hqtxh5NawtwXqPF1NSNXO74DzVyS83DAXeZcnFeP2Euai+aDp5f8JcDE+uqwu+e6KTWGq/5gZQp0B7vGImO/TaECjV+SSVbz5mIj7Glz0b13pUDTDN98HKeqWPfccd2U7c+hNynQHez62eLZVKDmT+FzluQ4+bQnawGOGx8XJc7FtW/5FD5NWKBbq8Pufuum3Bga4/GsFOgOznse3WYr0KxFsRVoswNyPPI9YwHmd5CxBPOr77o2nsCyQLdXh9291k3JMTTGU6JcKX3fzWGB7vr9ioyXNMM3kZa3T1+S5rv0b7P/TVyAxR2kL8Hg+vTkm0gmN1bHLnd+j3VTdAwNCnRX5m/4zr+gkbxlM/8UPX1RNr/JFLEky5NCJC/A8g4SlyD84h7fhbcoewKW+6yb8ieRoUD3ZT3HzOSAi3PGtsfiQPjkRZm/g01akslBR3kLENxB4hJMrt7/k7Mx5QvX577usW5Kj2GGfaB7sJ7lsNllMxwVkb7ypwWasyiLA+kTlmTldDdpCxDeQcYSDFe/vhPgfKDZCp++6C7rpvgYZijQXVjPs309KWfu5sBsH2bGoiwLOH5JpieP778KlLQAK3eQOBfTq4+fjJrWxvNaW5/7Kr9uyo9higLdh/WXXsYayFgdu/4mUsqSTH9OY7xFwgKs3kHiXIy/4DC8peE3kfKsr899lV439xjDBAW6E/NvDZ7nHZBi8Sl68qIsbh+/JNNfn5mENX4BNu4gcS6ujTv9TJdf5cyysTpKPEixdXOXMYwoUACoBgUKAJkoUADIRIECQCYKFAAyUaAAkIkCBYBMFCgAZKJAASATBQoAmShQAMhEgQJAJgoUADJRoACQiQIFgEwUKABkokABIBMFCgCZKFAAyESBAkAmChQAMlGgAJCJAgWATBQoAGSiQAEgEwUKAJkoUADIRIECQCYKFAAyUaAAkIkCBYBMFCgAZKJAASATBQoAmShQAMhEgQJAJgoUADJRoACQiQIFgEwUKABkokABIBMFCgCZKFAAyESBAkAmChQAMlGgAJCJAgWATBQoAGSiQAEgEwUKAJkoUADIRIECQCYKFAAyUaAAkKlggb6/Hhpff21d4c+Pw18/h/87Hab/t3qVm35/u/FQyboHvvzny9+73WmlTrdXc6KEVX51Phze7A8bFx8y/SSiM12sQM+HwVZcZklaX62ETd5lihovO96faoGS6SeRkOlSBTrJ2mFrfc2SdLnB90+uchthe4xuTe/QYVe6BUqmn0VCpgsV6GXN92vptPleeJqky7+NzwLC9hinHTffG7IFSqafRkKmCxXoafL+t9lvtPJCnPFUuYmwPcZpY+3mki1QMv00EjJdqECP03V02tibQNhq8DQFSqafhliBXl6uX4a/T/YfTcI2+/vl/77+Orf/P7nKdb/EyriaTavLA0zCtn7V6xVOw+OcxitNMnVZ2OZuZmE7Lz6Sm9//uLRrj33e3B19815vLGx4JxE3atdBN1Mxi91e9a+fn01qe7Vxd9HWxHwymq1UxFkt0M/HM7skIj5kenFdMt0u2Mos7GD9Bfp06LUjGJK0+HuzlP9+mIdtGFXw5Opu/PX/9fPSHWoSXLUZ8X/86Oemv8N2MW+H7djd3/fhGrP7H5c2vGz4/+A5PlwyBmV6yxsLu3Ynn96oCVt37W6ktxZ7WCP/0k/qxvzPwra8zvgIN0ezlYpYKwUaLG0wnkEQn82kkWkyvZLpMBJ7aJY+2E4YM3VduD5Jy79flvIfr9dp6q8yjCOI0HDj/9TNy7h+w4n5+j+7S77824/+St8/PgnbP8/vLrj/cWmDyyaLvXidGy+5PvBygDcWdj7LkTe6XPWf+j9cH/HGYs8+b24ndWv+p2ELrjM+wq3RbKUiWligwZIE4xkE8dlOGpkm0yuZ/ijjOB3XuGBv/T8mKzT4e3vja877sB2v42mjNXvJ6m8zbDs0h3C1j3peu+rwgNd/NbP88nE7bN3aOh2GZ8ji/mdLO7+sP5C6uWD+xD1e77ZZlOFOpgO8sbCD4OFu3KjNU/OHmMVubt5fd1wjq/M/2V8UXGd8hBsLtpWKeGGBrk3mfDy9ID63RkqmyXSQ6WIH0o8vwZMdPt1yXkbercluSPO/N0vZrZruKpcLujCM/xoeZtzI6VLX3fYywtlVhyy3kzj8q4vWdti65e+24ML7H5c2uOw42SG1fJUbXqW77Y35AG8s7CB4uBs36qdnfKgbix1M6vb8j2ELr3Oc3u/Wgm2lIl5QoMGSBOOZLnz8SMk0mQ4yXfCrnMchbiv77VefKt3fm1t2T4nuKpPdT6fZ02WSkm6GJrv6F8+sZsTf+391VxqXZDtsb7MLwvsflza4bPN4svEJdl1XwQBvLOwgeLgbN5qE5PjpYg/PkX4Am/P/MYYtvM74CDGj2UzFZ4ICDZYkGE8vjM+tkX6QaTK9zHTZk4mcFy/YrXYTYiVsw98ng+2uMv5h+vHnx2z+r2H4PfmUYH7VyXWDf33yieXt+z9O1vDism784SeNy+MkggHeWNjJeBYPd+NG3bAaXdC3FzuY1O35nwwlvM74l4jRbKXic0GBLpckHE8vbaTDw5FpMt3fY/mzMbXbPd3yjTty52Gb/33y8nG9yvTItflTYDJR139O9vou3yfsFbblBHKfVgAABSdJREFU/R8nL4zhZZ1gL91soyEcYFzYFg93O2wv4wO8fNxa7GBSt+f/YwjbynXGQd4ezVYqIi0LNFiSYDzTKUwY6WzMZJpM36dA28VpH3XywdgsbMu/r4VtmOX5U2Ay9OsF0/sqEbaV+x+Wdu2xx91ms7iFYVsMMCJs4cNFh+32YgeTuj3/H9OwLa8TV6BbqYi2UqDzJQnGM53ChJEuRk2myXSxAn1/nb6bPw6fzl3zNK7i5j/B3y2v1jfeNuwVtuX9T9faymMPL4Zva7cZhpn+ah0+XN6rdXA/d30HupWKePd6B0qmpw9LpksW6GKv7LBTOVjFzX+Cvwdhm+6LOB8+21+09fTba3Nnef/T7YaNx24DN11HN/YXXQcYt7mzeLjbYQv2F33yac5kNjbn/2N1f9HyEW4t2FYq4t3aB3o+5O8DXYyUTAcPTaZLFeh5vo+9fdTJejtPN3fCv4dhm3wadlx+Yjn/cG3yh6Vb6298xNPhZthW7n+4bXDZpAsWa3R2mMvLygAjwhYuyu2w9bftUnFzsbc/sTxGfGI5fCb6eYFupSLBrU/h2yUJx5MzUjI9Xfr5Q/YjfcJMlynQ39+mQb1maFxvv7+th63/exi298+PmesfcnztXznk40bYupnq72YrbCv3Pwvq/LLZQQ+LTZXuRterBAOMCFv4cLfD1o3w/XXl+TW/n2BSt+f/9jFzKQU6T0WChONA57n8SBopmSbT99sH2n4EOa6+/hCqdkztPuhmMcZtmfnfw7B9TL8RMHsG9AFt9xo3l7QP17//Xj4DNtdf/52M6Zc/1sMW3v9sTueXDV+R+P1tsZXQfWtjGPxygDFhCx7uk7C1dzz51sbmYgeTuj3/G9/a6G4UsQm/lYp4t7+J1K+z+XimUxg7UjJNpu/3Kfz4Sd0Qu+mXUadhC/6+Erbfm98bHm7dnyNgenezJ9at9Tfe///4djts4f3Pj9ldXrax3JMBvS3+v1+gT8MWPNztsP1jfnaFW4s9/UM76O35H8MWXCeqQLdSEW92D+1tgyUJxhPeuI/P7ZFOkGkyXbBA19b5MPP/et0hMX0pnv59JWzjSIInV/dAK2euWbwxubn++sV9+/1Z2IL7n376uLzsz3D2g8VGwjigt8X/D+P9PGzLh7sdtpfzbAZvLfbQFZ+dueZj+tnB8jpxhzFtpSJaWKDh0gbjWd464mxMZJpM37FAx8ced+Zex/TW728ekrT4+1rY+jis7ExvV+js3InXqVp+jeST9Xe8JuLzsC3vf374xvKxu1lYWe7zYt3NBhgXtsXDfRK26zz3SxKx2H/9nBwpsjX/0w9f59eJPJB+KxWxVgo0XNpwPL0wPptJI9OzWSDTZQsUQlaao+DNZNU2nqcmkWkK9DkkpWY8/C04wMOl2saDlkSmKdDnkBq264bK8kNfp2obD1oSmaZAn0NS2KbfJK7hDVtt40FLItMU6HNI2/FzrqxvahsPGhKZpkCfQ+qe8+Pqh75+1TYeiGSaAgWATBQoAGSiQAEgEwUKAJkoUADIRIECQCYKFAAyUaAAkIkCBYBMFCgAZKJAASATBQoAmShQAMhEgQJAJgoUADJRoACQiQIFgEwUKABkokABIBMFCgCZKFAAyESBAkAmChQAMlGgAJCJAgWATBQoAGSiQAEgEwUKAJkoUADIRIECQCYKFAAyUaAAkIkCBYBMFCgAZKJAASATBQoAmShQAMhEgQJAJgoUADJRoACQiQIFgEwUKABkokABINP/B9jUhpMxigCNAAAAAElFTkSuQmCC" width="672" style="display: block; margin: auto;" />
<p style="text-align: justify;">
Primeiro, vamos estimar uma equação simples para o salário, explicando <span class="math inline">\(ln(salário)\)</span> como uma função da educação, EDUC, e anos de experiência no mercado de trabalho (EXPER), utilizando as 428 mulheres que têm salários positivos. O modelo é:
</p>
<p><span class="math display">\[ln(wage)_{i}=\beta_{0}+\beta_{1}Educ+\beta_{2}exper+\epsilon_{i},\]</span></p>
<p>com, <span class="math inline">\(\epsilon\sim N(0,1).\)</span></p>
<p>as estimativas dos parâmetros são:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lreg&lt;-<span class="kw">lm</span>(lwage~educ+exper,<span class="dt">data =</span> dados[dados$inlf==<span class="dv">1</span>,])
<span class="kw">summary</span>(lreg)</code></pre></div>
<pre><code>## 
## Call:
## lm(formula = lwage ~ educ + exper, data = dados[dados$inlf == 
##     1, ])
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -3.05608 -0.30524  0.05599  0.38846  2.27384 
## 
## Coefficients:
##              Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) -0.400174   0.190368  -2.102 0.036132 *  
## educ         0.109489   0.014167   7.728 7.94e-14 ***
## exper        0.015674   0.004019   3.900 0.000112 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 0.669 on 425 degrees of freedom
## Multiple R-squared:  0.1484, Adjusted R-squared:  0.1444 
## F-statistic: 37.02 on 2 and 425 DF,  p-value: 1.512e-15</code></pre>
<p style="text-align: justify;">
O retorno estimado para a educação é cerca de 11%, e os coeficientes estimados de educação e experiência são estatisticamente significativos.
</p>
</div>
<div class="slide section level1">

Agora vamos ajustar o modelo:
</p>
<span class="math display">\[\begin{eqnarray*}
  lwage_{i} &amp;=&amp; \beta_{0} + \beta_{1}educ + \beta_{2}exper + u_{1}
\end{eqnarray*}\]</span>
<p>e assumimos que o log do salário<span class="math inline">\((lwage)\)</span> é observado se:</p>
<span class="math display">\[\begin{eqnarray*}
\beta_{0}+\beta_{1}Age+\beta_{2}Educ_{i}+\beta_{3}kids_{i}+\beta_{4}mtr+u_{2}&gt;0,
\end{eqnarray*}\]</span>
<p>onde <span class="math inline">\(u_{1}\)</span> e <span class="math inline">\(u_{2}\)</span> são correlacionados.</p>
<h2 id="ajuste-com-funcao-glm-e-lm-do-r">Ajuste com função Glm e lm do R</h2>
<p style="text-align: justify;">
O procedimento Heckit (seleção amostral) começa por estimar um modelo probit de participação na força de trabalho. Como variáveis explicativas usamos a idade da mulher, seus anos de escolaridade, uma variável de indicador para saber se ela tem filhos, e a taxa de imposto marginal que ela iria pagar sobre rendimentos se empregada. O modelo probit é dado por:
</p>
<span class="math display">\[\begin{eqnarray*}
  inlf_{i} &amp;\sim&amp; Binomial (n, \pi_i)\\
  g(\pi_i) &amp;=&amp; \beta_{0}+\beta_{1}Age+\beta_{2}Educ_{i}+\beta_{3}kids_{i}+\beta_{4}mtr
\end{eqnarray*}\]</span>
<p style="text-align: justify;">
Sendo <span class="math inline">\(inlf\)</span> a variável resposta binária, <span class="math inline">\(Age_{i},Educ_{i},kids_{i}\)</span> e <span class="math inline">\(mtr_{i}\)</span> as i-ésimas realizações das respectivas variáveis explicativas <span class="math inline">\(Age,Educ,kids\)</span> e <span class="math inline">\(mtr,\)</span> respectivamente, e <span class="math inline">\(g(\pi_i)=\Phi^{-1}(\pi_{i})\)</span> a função de ligação probit. Como houve indivíduos com o mesmo conjunto de covariáveis considera-se o número de repetições <span class="math inline">\(n=428\)</span> para a distribuição de <span class="math inline">\(inlf_{i}.\)</span>
</p>
<p>as estimativas dos parâmetros são:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Modelo Probit</span>
fit1&lt;-<span class="kw">glm</span>(inlf~age+educ+kids+mtr,<span class="dt">family=</span><span class="kw">binomial</span>(<span class="dt">link=</span>probit),<span class="dt">data=</span>dados)
<span class="kw">summary</span>(fit1)</code></pre></div>
<pre><code>## 
## Call:
## glm(formula = inlf ~ age + educ + kids + mtr, family = binomial(link = probit), 
##     data = dados)
## 
## Deviance Residuals: 
##    Min      1Q  Median      3Q     Max  
## -1.908  -1.208   0.816   1.060   1.588  
## 
## Coefficients:
##              Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)  1.192261   0.726243   1.642 0.100656    
## age         -0.020615   0.007031  -2.932 0.003369 ** 
## educ         0.083776   0.023120   3.623 0.000291 ***
## kids        -0.313885   0.122509  -2.562 0.010403 *  
## mtr         -1.393817   0.626166  -2.226 0.026017 *  
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 1029.75  on 752  degrees of freedom
## Residual deviance:  988.29  on 748  degrees of freedom
## AIC: 998.29
## 
## Number of Fisher Scoring iterations: 4</code></pre>
<p style="text-align: justify;">
Como esperado, os efeitos da idade, a presença de crianças, e as perspectivas de impostos mais altos reduzem significativamente a probabilidade de que uma mulher se junte à força de trabalho, enquanto a educação aumenta a probabilidade. Utilizando os coeficientes estimados calculamos a razão inversa de Mills para as 428 mulheres com salários de mercado.
</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(sampleSelection)
dados$IMR &lt;-<span class="st"> </span><span class="kw">invMillsRatio</span>(fit1)$IMR1<span class="co">#Criar uma nova coluna com a covariável Razão Inversa de Mills </span>
dados[<span class="dv">423</span>:<span class="dv">433</span>,<span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">19</span>,<span class="dv">23</span>,<span class="dv">14</span>,<span class="dv">1</span>,<span class="dv">7</span>,<span class="dv">21</span>,<span class="dv">32</span>)]</code></pre></div>
<pre><code>## # A tibble: 11 × 9
##      age  educ exper  kids    mtr  inlf   wage     lwage       IMR
##    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1     32    17    14     1 0.7215     1 4.7826 1.5649840 0.4412366
## 2     36    10     2     1 0.7215     1 2.3118 0.8380265 0.8181494
## 3     40    12    21     1 0.6215     1 5.3061 1.6688570 0.6793267
## 4     43    13    22     1 0.5815     1 5.8675 1.7694290 0.6340350
## 5     33    12    14     1 0.5815     1 3.4091 1.2264480 0.5657426
## 6     30    12     7     1 0.6915     1 4.0816 1.4064890 0.6164304
## 7     49    12     2     1 0.6615     0     NA        NA 0.8290024
## 8     30    16     5     1 0.6615     0     NA        NA 0.4219251
## 9     30    12    12     1 0.6615     0     NA        NA 0.5929940
## 10    41    12     1     1 0.5815     0     NA        NA 0.6586579
## 11    45    12    12     1 0.6615     0     NA        NA 0.7763784</code></pre>
<p style="text-align: justify;">
Este é então incluído na equação de regressão múltipla de salários e aplicado mínimos quadrados para obter as seguintes estimativas:
</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Modelo de Regressão Linear Simples com wage&gt;0</span>
fit2&lt;-<span class="st"> </span><span class="kw">lm</span>(lwage~educ+exper+IMR, <span class="dt">data =</span> dados[dados$inlf==<span class="dv">1</span>,])
<span class="kw">summary</span>(fit2)</code></pre></div>
<pre><code>## 
## Call:
## lm(formula = lwage ~ educ + exper + IMR, data = dados[dados$inlf == 
##     1, ])
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -3.02634 -0.28901  0.05418  0.37278  2.42408 
## 
## Coefficients:
##              Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  0.810529   0.494476   1.639  0.10192    
## educ         0.058459   0.023850   2.451  0.01464 *  
## exper        0.016320   0.003998   4.082 5.34e-05 ***
## IMR         -0.866429   0.326988  -2.650  0.00836 ** 
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 0.6643 on 424 degrees of freedom
## Multiple R-squared:  0.1622, Adjusted R-squared:  0.1563 
## F-statistic: 27.37 on 3 and 424 DF,  p-value: 3.381e-16</code></pre>
<p style="text-align: justify;">
Notemos que o coeficiente estimado da razão inversa de Mills é estatisticamente significativo, o que implica que existe um viés de seleção presente nos resultados de quadrados mínimos da primeira equação de regressão sem a covariável IMR. Além disso, o retorno salárial estimado para a educação diminuiu de 11% para aproximadamente 6%.
</p>
<p style="text-align: justify;">
Outra forma de proceder os calculos acima é utilizar o método de Máxima Verossimilhança ou o método de duas etapas de Heckman para estimar todos os parâmetros do modelo de regressão via pacote <em>sampleSelection</em> do <em>R</em>. Vejamos as saídas:
</p>
</div>
<div class="slide section level1">

<h2 id="ajuste-com-o-pacote-sample-selection">Ajuste com o pacote Sample Selection</h2>
<h3 id="processo-de-duas-etapas">Processo de duas etapas</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;sampleSelection&quot;</span>)
<span class="co"># Two-step estimation</span>
fit3&lt;-<span class="kw">heckit</span>( inlf~age+educ+kids+mtr,
              lwage~educ+exper, dados)
<span class="kw">summary</span>(fit3)</code></pre></div>
<pre><code>## --------------------------------------------
## Tobit 2 model (sample selection model)
## 2-step Heckman / heckit estimation
## 753 observations (325 censored and 428 observed)
## 11 free parameters (df = 743)
## Probit selection equation:
##              Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  1.192296   0.720544   1.655 0.098404 .  
## age         -0.020616   0.007045  -2.926 0.003534 ** 
## educ         0.083775   0.023205   3.610 0.000326 ***
## kids        -0.313885   0.123711  -2.537 0.011376 *  
## mtr         -1.393853   0.616575  -2.261 0.024070 *  
## Outcome equation:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) 0.810542   0.610799   1.327 0.184910    
## educ        0.058458   0.029635   1.973 0.048915 *  
## exper       0.016320   0.004202   3.884 0.000112 ***
## Multiple R-Squared:0.1622,   Adjusted R-Squared:0.1563
##    Error terms:
##               Estimate Std. Error t value Pr(&gt;|t|)  
## invMillsRatio  -0.8664     0.3993   -2.17   0.0303 *
## sigma           0.9326         NA      NA       NA  
## rho            -0.9291         NA      NA       NA  
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## --------------------------------------------</code></pre>
<p style="text-align: justify;">
Note neste caso a diferença entre as t-estatísticas. Os valores anteriores das t-estatísticas, calculados via função glm e lm são baseados em erros padrão como normalmente calculado pelo uso da regressão de mínimos quadrados. Os habituais erros padrão não levam em conta o fato de que a razão inversa de Mills é um valor estimado. Assim, o pacote <em>sampleSelection</em> corrige os erros padrão ao levar em conta a estimativa do primeiro estágio probit, estes são usados para construir as t-estatísticas ajustadas. Como podemos ver as t-estatísticas ajustadas são um pouco menores na saída do <em>sampleSelection</em>, indicando que os erros padrão ajustados são um pouco maiores do que os da saída do glm e lm.
</p>
<p style="text-align: justify;">
É preferível estimar o modelo completo, tanto a equação de seleção e a equação de interesse, em conjunto por máxima verosimilhança. Pois, os erros padrão com base no procedimento de máxima verossimilhança são menores do que aqueles gerados pelo método de estimação de dois passos.
</p>
<h3 id="metodo-de-maxima-verossimilhanca-1">Método de Máxima Verossimilhança</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># ML estimation</span>
fit4&lt;-<span class="kw">selection</span>(inlf~age+educ+kids+mtr,
                lwage~educ+exper, dados)
<span class="kw">summary</span>(fit4)</code></pre></div>
<pre><code>## --------------------------------------------
## Tobit 2 model (sample selection model)
## Maximum Likelihood estimation
## Newton-Raphson maximisation, 6 iterations
## Return code 2: successive function values within tolerance limit
## Log-Likelihood: -913.561 
## 753 observations (325 censored and 428 observed)
## 10 free parameters (df = 743)
## Probit selection equation:
##              Estimate Std. error t value  Pr(&gt; t)    
## (Intercept)  1.595958   0.623731   2.559  0.01051 *  
## age         -0.013262   0.005939  -2.233  0.02555 *  
## educ         0.063931   0.021745   2.940  0.00328 ** 
## kids        -0.152592   0.099587  -1.532  0.12546    
## mtr         -2.291885   0.537565  -4.263 2.01e-05 ***
## Outcome equation:
##             Estimate Std. error t value Pr(&gt; t)    
## (Intercept) 0.668587   0.235006   2.845 0.00444 ** 
## educ        0.065816   0.016635   3.957 7.6e-05 ***
## exper       0.011767   0.004094   2.875 0.00404 ** 
##    Error terms:
##       Estimate Std. error t value Pr(&gt; t)    
## sigma  0.84944    0.04248   20.00  &lt;2e-16 ***
## rho   -0.83947    0.03490  -24.05  &lt;2e-16 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## --------------------------------------------</code></pre>
<p>Neste caso a estimativa do parâmetro da razão inversa de Mills é:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">IMR&lt;-<span class="kw">coef</span>(<span class="kw">summary</span>(fit4))[<span class="st">&quot;rho&quot;</span>,<span class="dv">1</span>]*<span class="kw">coef</span>(<span class="kw">summary</span>(fit4))[<span class="st">&quot;sigma&quot;</span>,<span class="dv">1</span>]
IMR</code></pre></div>
<pre><code>## [1] -0.7130812</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#res&lt;-fit4$estimate</span>
<span class="co">#IMR&lt;-res[9]*res[10]</span>
<span class="co">#IMR</span></code></pre></div>
</div>
<div class="slide section level1">

<h2 id="ajuste-com-o-pacote-ssmrob">Ajuste com o pacote SSMROB</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ssmrob)
<span class="co">#Equação de seleção que será ajustada via modelo probit</span>
 selectEq &lt;-<span class="st"> </span>inlf~age+educ+kids+mtr
<span class="co">#Equação de regressão que será ajustada via modelo linear simples</span>
outcomeEq &lt;-<span class="st"> </span>lwage~educ+exper
fit5&lt;-<span class="kw">heckitrob</span>(outcomeEq,selectEq,<span class="dt">control=</span><span class="kw">heckitrob.control</span>(<span class="dt">tcc=</span><span class="fl">3.2</span>,<span class="dt">weights.x1=</span><span class="st">&quot;robCov&quot;</span>))
<span class="kw">summary</span>(fit5)</code></pre></div>
<pre><code>## ------------------------------------------------------------- 
## Robust 2-step Heckman / heckit M-estimation 
## Probit selection equation: 
##                  Estimate   Std.Error t-value  p-value    
## XS(Intercept)  1.19229732 0.726234392   1.642 0.101000    
## XSage         -0.02061554 0.007031349  -2.932 0.003370  **
## XSeduc         0.08377532 0.023119989   3.624 0.000291 ***
## XSkids        -0.31388480 0.122508531  -2.562 0.010400   *
## XSmtr         -1.39385431 0.626155191  -2.226 0.026000   *
## Outcome equation: 
##                  Estimate   Std.Error t-value  p-value    
## XO(Intercept)  0.77909013 0.596402209   1.306 1.91e-01    
## XOeduc         0.06440744 0.028843743   2.233 2.56e-02   *
## XOexper        0.01585891 0.003503069   4.527 5.98e-06 ***
## imrData$IMR1  -0.86768171 0.393821292  -2.203 2.76e-02   *
## ---
## Signif. codes: 0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1 
## -------------------------------------------------------------</code></pre>
</div>
<div id="meps-2001-sem-a-covariavel-rendimento" class="slide section level1">
<h1>MEPS 2001 Sem a Covariável Rendimento</h1>
<p style="text-align: justify;">
O artigo de <span class="citation">Marchenko and Genton (2012)</span> considerou os dados sobre os gastos ambulatoriais do <code>Medical Expenditure Panel Survey 2001 (MEPS2001)</code>, analisadas por Cameron e Trivedi (2010). MEPS é a fonte de dados sobre o custo e a utilização de cuidados de saúde e cobertura de seguro de saúde mais completa dos Estados Unidos, segundo a Agência de Investigação de Saúde e Qualidade (AHRQ) dos EUA. A amostra é restrita a apenas aqueles indivíduos que estão cobertos por seguros privados, com idades entre 21 e 64 anos. Os dados consistem de 3328 observações, dos quais 526 (15,8%) correspondem aos valores de despesas zero. O conjunto de dados inclui diversas variáveis explicativas, tais como idade, sexo, anos de escolaridade, entre outros.
</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ssmrob)
<span class="kw">data</span>(MEPS2001)
<span class="kw">attach</span>(MEPS2001)
<span class="co">#head(MEPS2001)</span>
MEPS2001[<span class="dv">1</span>:<span class="dv">10</span>,<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">8</span>,<span class="dv">18</span>,<span class="dv">22</span>,<span class="dv">20</span>,<span class="dv">16</span>,<span class="dv">17</span>,<span class="dv">21</span>)]</code></pre></div>
<pre><code>##    educ age female totchr blhisp ins dambexp ambexp   lambexp    lnambx
## 1    11 3.3      0      2      0   0       1    760 6.6333184 6.6333184
## 2    14 2.1      0      0      1   0       1    497 6.2085900 6.2085900
## 3    12 4.0      1      1      1   0       1   1002 6.9097533 6.9097533
## 4    14 5.2      1      0      1   1       1    745 6.6133842 6.6133842
## 5    16 5.0      1      0      0   0       1   2728 7.9113240 7.9113240
## 6    12 3.7      0      0      0   0       1    636 6.4551988 6.4551988
## 7    14 3.2      1      0      0   0       1      2 0.6931472 0.6931472
## 8    12 4.6      0      0      0   1       0      0        NA 0.0000000
## 9    12 4.0      1      0      1   1       0      0        NA 0.0000000
## 10   17 6.4      0      0      0   0       1   2826 7.9466176 7.9466176</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#tail(MEPS2001)</span></code></pre></div>
<p style="text-align: justify;">
Vejam a distribuição dos dados brutos de despesas ambulatoriais e dos dados de despesas ambulatoriais logaritmados:
</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ssmrob)
<span class="co">#Carregando o conjunto de dados MEPS2001 - dados de despesas ambulatoriais</span>
<span class="kw">data</span>(MEPS2001)
<span class="kw">attach</span>(MEPS2001)
<span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))
<span class="kw">hist</span>(ambexp,<span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">3500</span>),<span class="dt">xlim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">20000</span>) ,<span class="dt">xlab =</span> <span class="st">&quot;Despesas Ambulotariais&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;Frequência&quot;</span>,<span class="dt">main =</span> <span class="st">&quot;Dados do MEPS 2001&quot;</span>)
<span class="kw">hist</span>(lnambx,<span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">800</span>),<span class="dt">xlim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">12</span>), <span class="dt">xlab =</span> <span class="st">&quot;Log das Despesas Ambulotariais&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;Frequência&quot;</span>,<span class="dt">main =</span> <span class="st">&quot;Dados do MEPS 2001&quot;</span>)</code></pre></div>
<p><img src="data:image/png;base64,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" width="672" style="display: block; margin: auto;" /></p>
<p style="text-align: justify;">
Antes de dar sequência com a aplicação dos modelos de seleção amostral, considere uma regressão linear múltipla relacionando os gastos ambulotariais com as diversas outras variáveis disponíveis no banco de dados e supondo erro aleatório com distribuição normal, ou seja, considere o modelo:
</p>
<p><span class="math display">\[lnambx_{i}=\beta_{0}+\beta_{1}Age+\beta_{2}female+\beta_{3}Educ+\beta_{4}blhisp+\beta_{5}totchr+\beta_{6}ins+\epsilon_{i},\]</span></p>
<p>com, <span class="math inline">\(\epsilon\sim N(0,1).\)</span></p>
<p>as estimativas dos parâmetros são:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lreg&lt;-<span class="kw">lm</span>(lnambx~age+female+educ+blhisp+totchr+ins)
<span class="kw">summary</span>(lreg)</code></pre></div>
<pre><code>## 
## Call:
## lm(formula = lnambx ~ age + female + educ + blhisp + totchr + 
##     ins)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -7.8228 -0.9666  0.5640  1.5731  5.8482 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  1.72876    0.28126   6.147 8.86e-10 ***
## age          0.32473    0.03835   8.468  &lt; 2e-16 ***
## female       1.14470    0.08334  13.735  &lt; 2e-16 ***
## educ         0.11411    0.01654   6.898 6.27e-12 ***
## blhisp      -0.73418    0.09289  -7.904 3.64e-15 ***
## totchr       1.05940    0.05537  19.133  &lt; 2e-16 ***
## ins          0.20783    0.08691   2.391   0.0168 *  
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 2.381 on 3321 degrees of freedom
## Multiple R-squared:  0.2346, Adjusted R-squared:  0.2332 
## F-statistic: 169.7 on 6 and 3321 DF,  p-value: &lt; 2.2e-16</code></pre>
<p style="text-align: justify;">
Podemos ver que todos os parâmetros são altamente significativos, esse ajuste foi realizado com os dados completos incluindo os valores zero. Poderíamos pensar que estes não devem fazer parte do ajuste e retirá-los, neste caso teríamos uma mudança significativa no ajuste:
</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lreg&lt;-<span class="kw">lm</span>(lnambx~age+female+educ+blhisp+totchr+ins,<span class="dt">data =</span> MEPS2001[ MEPS2001$dambexp ==<span class="st"> </span><span class="dv">1</span>, ] )
<span class="kw">summary</span>(lreg)</code></pre></div>
<pre><code>## 
## Call:
## lm(formula = lnambx ~ age + female + educ + blhisp + totchr + 
##     ins, data = MEPS2001[MEPS2001$dambexp == 1, ])
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -6.0471 -0.7959  0.0818  0.8644  4.6335 
## 
## Coefficients:
##              Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  4.907825   0.168151  29.187  &lt; 2e-16 ***
## age          0.217233   0.022223   9.775  &lt; 2e-16 ***
## female       0.379376   0.048577   7.810 8.04e-15 ***
## educ         0.022239   0.009761   2.278   0.0228 *  
## blhisp      -0.238532   0.055195  -4.322 1.60e-05 ***
## totchr       0.561817   0.030508  18.416  &lt; 2e-16 ***
## ins         -0.020827   0.050006  -0.416   0.6771    
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 1.27 on 2795 degrees of freedom
## Multiple R-squared:  0.1918, Adjusted R-squared:  0.1901 
## F-statistic: 110.6 on 6 and 2795 DF,  p-value: &lt; 2.2e-16</code></pre>
<p style="text-align: justify;">
Mas o fato é que não podemos deixar de considerar as pessoas que possuem gasto zero com despesas ambulatoriais, pois do contrário, nossa amostra não seria obtida de forma aleatória, ou seja, caso não consideremos essa parte da amostragem teríamos um problema de seleção amostral. Assim, a disposição para gastar será relacionada com algumas covariáveis por meio de um modelo probit e posteriormente iremos criar uma nova covariável (razão inversa de Mills) e iremos analisar o modelo de regressão de interesse acrescido desta variável. Dessa forma, vamos utilizar o modelo de seleção amostral clássico de Heckman para analisar esses dados. Como a distribuição dos gastos é altamente viesada, a análise foi realizada utilizando a escala logarítmica.
</p>
</div>
<div class="slide section level1">

Agora vamos ajustar o modelo:
</p>
<span class="math display">\[\begin{eqnarray*}
  lnambx_{i} &amp;=&amp; \beta_{0}+\beta_{1}Age+\beta_{2}female_{i}+\beta_{3}educ_{i}+\beta_{4}blhisp+\beta_{5}totchr+\beta_{6}ins + u_{1}
\end{eqnarray*}\]</span>
<p>e assumimos que o log das despesas ambulatoriais <span class="math inline">\((lnambx)\)</span> é observado se:</p>
<span class="math display">\[\begin{eqnarray*}
\beta_{0}+\beta_{1}Age+\beta_{2}female_{i}+\beta_{3}educ_{i}+\beta_{4}blhisp+\beta_{5}totchr+\beta_{6}ins+u_{2}&gt;0,
\end{eqnarray*}\]</span>
<p>onde <span class="math inline">\(u_{1}\)</span> e <span class="math inline">\(u_{2}\)</span> são correlacionados.</p>
<h2 id="ajuste-com-as-funcoes-glm-e-lm-do-r">Ajuste com as funções glm e lm do R</h2>
<p>Primeiro analisamos os dados utilizando as funções <em>glm</em> e <em>lm</em> do <em>R</em>.</p>
<p>O modelo probit utlizado foi:</p>
<span class="math display">\[\begin{eqnarray*}
  dambexp_{i} &amp;\sim&amp; Binomial (n, \pi_i)\\
  g(\pi_i) &amp;=&amp; \beta_{0}+\beta_{1}Age+\beta_{2}female_{i}+\beta_{3}educ_{i}+\beta_{4}blhisp+\beta_{5}totchr+\beta_{6}ins
\end{eqnarray*}\]</span>
<p>Os parâmetros estimados são:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(aod)
<span class="co">#Modelo probit</span>
fit1&lt;-<span class="kw">glm</span>( dambexp ~<span class="st"> </span>age+female+educ+blhisp+totchr+ins, <span class="dt">family =</span> <span class="kw">binomial</span>(<span class="dt">link =</span> <span class="st">&quot;probit&quot;</span>),<span class="dt">data=</span>MEPS2001)
<span class="kw">summary</span>(fit1)</code></pre></div>
<pre><code>## 
## Call:
## glm(formula = dambexp ~ age + female + educ + blhisp + totchr + 
##     ins, family = binomial(link = &quot;probit&quot;), data = MEPS2001)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -3.4495   0.1284   0.3873   0.6262   1.5804  
## 
## Coefficients:
##             Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept) -0.71770    0.19086  -3.760 0.000170 ***
## age          0.09731    0.02703   3.601 0.000317 ***
## female       0.64421    0.06022  10.698  &lt; 2e-16 ***
## educ         0.07017    0.01123   6.247 4.19e-10 ***
## blhisp      -0.37449    0.06156  -6.083 1.18e-09 ***
## totchr       0.79352    0.07140  11.113  &lt; 2e-16 ***
## ins          0.18124    0.06227   2.911 0.003608 ** 
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 2904.9  on 3327  degrees of freedom
## Residual deviance: 2395.3  on 3321  degrees of freedom
## AIC: 2409.3
## 
## Number of Fisher Scoring iterations: 6</code></pre>
<p>Com os parâmetros do probit estimado foi possível encontrar a razão inversa de Mills.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MEPS2001$IMR &lt;-<span class="st"> </span><span class="kw">invMillsRatio</span>(fit1)$IMR1<span class="co">#Criar uma nova coluna com a covariável Razão Inversa de Mills </span>
MEPS2001[<span class="dv">1</span>:<span class="dv">10</span>,<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">8</span>,<span class="dv">18</span>,<span class="dv">22</span>,<span class="dv">21</span>,<span class="dv">20</span>,<span class="dv">23</span>)]</code></pre></div>
<pre><code>##    educ age female totchr blhisp ins    lnambx dambexp        IMR
## 1    11 3.3      0      2      0   0 6.6333184       1 0.05966001
## 2    14 2.1      0      0      1   0 6.2085900       1 0.73870733
## 3    12 4.0      1      1      1   0 6.9097533       1 0.12209510
## 4    14 5.2      1      0      1   1 6.6133842       1 0.21276541
## 5    16 5.0      1      0      0   0 7.9113240       1 0.13082628
## 6    12 3.7      0      0      0   0 6.4551988       1 0.51722607
## 7    14 3.2      1      0      0   0 0.6931472       1 0.21318779
## 8    12 4.6      0      0      0   1 0.0000000       0 0.38796767
## 9    12 4.0      1      0      1   1 0.0000000       0 0.30092333
## 10   17 6.4      0      0      0   0 7.9466176       1 0.25274431</code></pre>
<p>Assim, a covariável <span class="math inline">\(IMR\)</span> foi utilizada no ajuste da regressão de interesse:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fit2 &lt;-<span class="st"> </span><span class="kw">lm</span>( lnambx ~<span class="st"> </span>age+female+educ+blhisp+totchr+ins +<span class="st"> </span>IMR,
                <span class="dt">data =</span> MEPS2001[ MEPS2001$dambexp ==<span class="st"> </span><span class="dv">1</span>, ] )
<span class="kw">summary</span>(fit2)</code></pre></div>
<pre><code>## 
## Call:
## lm(formula = lnambx ~ age + female + educ + blhisp + totchr + 
##     ins + IMR, data = MEPS2001[MEPS2001$dambexp == 1, ])
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -6.0498 -0.7840  0.0794  0.8689  4.6281 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  5.30257    0.29072  18.240  &lt; 2e-16 ***
## age          0.20212    0.02400   8.422  &lt; 2e-16 ***
## female       0.28916    0.07278   3.973 7.27e-05 ***
## educ         0.01199    0.01154   1.039  0.29871    
## blhisp      -0.18106    0.06509  -2.781  0.00545 ** 
## totchr       0.49833    0.04884  10.204  &lt; 2e-16 ***
## ins         -0.04740    0.05248  -0.903  0.36647    
## IMR         -0.48017    0.28852  -1.664  0.09617 .  
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 1.269 on 2794 degrees of freedom
## Multiple R-squared:  0.1926, Adjusted R-squared:  0.1906 
## F-statistic: 95.23 on 7 and 2794 DF,  p-value: &lt; 2.2e-16</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#wald.test(b = coef(fit3), Sigma = vcov(fit3), Terms = 8)</span></code></pre></div>
<p style="text-align: justify;">
Notemos que o parâmetro que acompanha a covariável <span class="math inline">\(IMR\)</span> foi não significativo e poderíamos assumir que não há viés de seleção amostral e desconsiderar os valores iguais a zero para a variável gasto com despesas ambulotariais. O que implica que gastar com despesas ambulatoriais não está relacionado com a decisão de gastar e podem ser analisados separadamente por meio de Mínimos Quadrados Ordinários. Esta conclusão parece não plausível. Como observado por <span class="citation">Cameron and Trivedi (2009)</span>, a suposição de normalidade dos erros é muito suspeita para esses dados. O que é possível de se verificar por meio da visualização do histograma do log das despesas apresentado anteriormente e devido a não significância da covariável <span class="math inline">\(IMR\)</span>.
</p>
<p style="text-align: justify;">
Esse mesmo ajuste pode ser feito através do pacote <em>sampleSelection</em> usando o método de dois passos e máxima verossimilhança:
</p>
</div>
<div class="slide section level1">

<h2 id="ajuste-com-o-pacote-sample-selection-1">Ajuste com o pacote Sample Selection</h2>
<p style="text-align: justify;">
No processo de duas etapas do pacote sample selection, manteve-se o resultado anterior com a não significância do parâmetro que acompanha a covariável <span class="math inline">\(IMR.\)</span>
</p>
<h3 id="processo-de-duas-etapas-1">Processo de duas etapas</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;sampleSelection&quot;</span>)
<span class="co"># Two-step estimation</span>
fit3&lt;-<span class="kw">heckit</span>( dambexp ~<span class="st"> </span>age+female+educ+blhisp+totchr+ins,
                 lnambx ~<span class="st"> </span>age+female+educ+blhisp+totchr+ins, MEPS2001 )
<span class="kw">summary</span>(fit3)</code></pre></div>
<pre><code>## --------------------------------------------
## Tobit 2 model (sample selection model)
## 2-step Heckman / heckit estimation
## 3328 observations (526 censored and 2802 observed)
## 17 free parameters (df = 3312)
## Probit selection equation:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) -0.71771    0.19247  -3.729 0.000195 ***
## age          0.09732    0.02702   3.602 0.000320 ***
## female       0.64421    0.06015  10.710  &lt; 2e-16 ***
## educ         0.07017    0.01134   6.186 6.94e-10 ***
## blhisp      -0.37449    0.06175  -6.064 1.48e-09 ***
## totchr       0.79352    0.07112  11.158  &lt; 2e-16 ***
## ins          0.18124    0.06259   2.896 0.003809 ** 
## Outcome equation:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  5.30257    0.29414  18.028  &lt; 2e-16 ***
## age          0.20212    0.02430   8.319  &lt; 2e-16 ***
## female       0.28916    0.07369   3.924 8.89e-05 ***
## educ         0.01199    0.01168   1.026    0.305    
## blhisp      -0.18106    0.06585  -2.749    0.006 ** 
## totchr       0.49833    0.04947  10.073  &lt; 2e-16 ***
## ins         -0.04740    0.05315  -0.892    0.373    
## Multiple R-Squared:0.1926,   Adjusted R-Squared:0.1906
##    Error terms:
##               Estimate Std. Error t value Pr(&gt;|t|)  
## invMillsRatio  -0.4802     0.2907  -1.652   0.0986 .
## sigma           1.2932         NA      NA       NA  
## rho            -0.3713         NA      NA       NA  
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## --------------------------------------------</code></pre>
<p>Mesmo resultado utilizando máxima verossimilhança.</p>
<h3 id="metodo-de-maxima-verossimilhanca-2">Método de Máxima Verossimilhança</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># ML estimation</span>
fit4&lt;-<span class="kw">selection</span>( dambexp ~<span class="st"> </span>age+female+educ+blhisp+totchr+ins,
                    lnambx ~<span class="st"> </span>age+female+educ+blhisp+totchr+ins, MEPS2001)
<span class="kw">summary</span>(fit4)</code></pre></div>
<pre><code>## --------------------------------------------
## Tobit 2 model (sample selection model)
## Maximum Likelihood estimation
## Newton-Raphson maximisation, 4 iterations
## Return code 2: successive function values within tolerance limit
## Log-Likelihood: -5838.397 
## 3328 observations (526 censored and 2802 observed)
## 16 free parameters (df = 3312)
## Probit selection equation:
##             Estimate Std. error t value  Pr(&gt; t)    
## (Intercept) -0.72444    0.19243  -3.765 0.000167 ***
## age          0.09845    0.02699   3.648 0.000264 ***
## female       0.64367    0.06014  10.703  &lt; 2e-16 ***
## educ         0.07025    0.01134   6.195 5.85e-10 ***
## blhisp      -0.37263    0.06173  -6.036 1.58e-09 ***
## totchr       0.79467    0.07103  11.188  &lt; 2e-16 ***
## ins          0.18212    0.06255   2.912 0.003595 ** 
## Outcome equation:
##             Estimate Std. error t value  Pr(&gt; t)    
## (Intercept)  5.03743    0.22619  22.271  &lt; 2e-16 ***
## age          0.21229    0.02296   9.247  &lt; 2e-16 ***
## female       0.34973    0.05967   5.861 4.61e-09 ***
## educ         0.01887    0.01053   1.793 0.072971 .  
## blhisp      -0.21960    0.05948  -3.692 0.000222 ***
## totchr       0.54095    0.03906  13.848  &lt; 2e-16 ***
## ins         -0.02954    0.05104  -0.579 0.562801    
##    Error terms:
##       Estimate Std. error t value Pr(&gt; t)    
## sigma  1.27074    0.01821   69.77  &lt;2e-16 ***
## rho   -0.12421    0.14438   -0.86    0.39    
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## --------------------------------------------</code></pre>
<p>Neste caso a estimativa do parâmetro da razão inversa de Mills é:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">IMR&lt;-<span class="kw">coef</span>(<span class="kw">summary</span>(fit4))[<span class="st">&quot;rho&quot;</span>,<span class="dv">1</span>]*<span class="kw">coef</span>(<span class="kw">summary</span>(fit4))[<span class="st">&quot;sigma&quot;</span>,<span class="dv">1</span>]
IMR</code></pre></div>
<pre><code>## [1] -0.1578385</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#res&lt;-fit4$estimate</span>
<span class="co">#IMR&lt;-res[15]*res[16]</span>
<span class="co">#IMR</span></code></pre></div>
<p style="text-align: justify;">
Poderíamos então assumir erroneamente que não há viés de seleção amostral, mesmo que essa suposição seja estranha dada a possivel relação das variáveis, mas foi o resultado apresentando pelos ajustes de dois passos de Heckman e máxima verossimilhança. Porém, outro pacote que ajusta modelos de seleção amostral utilizando os dois passos de Heckman corrige um pouco esse resultado, apesar de continuar assumindo distribuição normal bivariada para os erros do modelo o ajuste é mais sensível no sentido de detectar o viés de seleção amostral. Vejamos a análise com esse pacote.
</p>
</div>
<div class="slide section level1">

<h2 id="ajuste-com-o-pacote-ssmrob-1">Ajuste com o pacote SSMROB</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Equação de seleção que será ajustada via modelo probit</span>
selectEq &lt;-<span class="st"> </span>dambexp ~<span class="st"> </span>age+female+educ+blhisp+totchr+ins
<span class="co">#Equação de regressão que será ajustada via modelo linear simples</span>
outcomeEq &lt;-<span class="st"> </span>lnambx ~<span class="st"> </span>age+female+educ+blhisp+totchr+ins
fit5&lt;-<span class="kw">heckitrob</span>(outcomeEq,selectEq,<span class="dt">control=</span><span class="kw">heckitrob.control</span>(<span class="dt">tcc=</span><span class="fl">3.2</span>,<span class="dt">weights.x1=</span><span class="st">&quot;robCov&quot;</span>))
<span class="kw">summary</span>(fit5)</code></pre></div>
<pre><code>## ------------------------------------------------------------- 
## Robust 2-step Heckman / heckit M-estimation 
## Probit selection equation: 
##                  Estimate  Std.Error t-value  p-value    
## XS(Intercept) -0.74914476 0.19506999  -3.840 1.23e-04 ***
## XSage          0.10541500 0.02769588   3.806 1.41e-04 ***
## XSfemale       0.68740832 0.06225762  11.040 2.41e-28 ***
## XSeduc         0.07011568 0.01146521   6.116 9.62e-10 ***
## XSblhisp      -0.39774532 0.06264878  -6.349 2.17e-10 ***
## XStotchr       0.83283613 0.08027772  10.370 3.24e-25 ***
## XSins          0.18256005 0.06371471   2.865 4.17e-03  **
## Outcome equation: 
##                  Estimate  Std.Error t-value  p-value    
## XO(Intercept)  5.40154264 0.27672891  19.520 7.53e-85 ***
## XOage          0.20061658 0.02450765   8.186 2.70e-16 ***
## XOfemale       0.25501033 0.06992954   3.647 2.66e-04 ***
## XOeduc         0.01324867 0.01161609   1.141 2.54e-01    
## XOblhisp      -0.15508435 0.06506654  -2.383 1.72e-02   *
## XOtotchr       0.48115830 0.03822948  12.590 2.52e-36 ***
## XOins         -0.06706633 0.05159205  -1.300 1.94e-01    
## imrData$IMR1  -0.67676033 0.25927579  -2.610 9.05e-03  **
## ---
## Signif. codes: 0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1 
## -------------------------------------------------------------</code></pre>
<p style="text-align: justify;">
Se considerarmos os erros padrão, vemos que o erro padrão da estimativa robusta <span class="math inline">\((0,2593)\)</span> é menor do que a do estimador clássico <span class="math inline">\((0,2907).\)</span> O valor de p do teste de viés de seleção robusto é <span class="math inline">\(p=0.009\)</span>, o que leva à conclusão da presença de viés de seleção amostral mesmo o estimador clássico sugerindo a ausência de viés.
</p>
</div>
<div class="slide section level1">

<p style="text-align: justify;">
Os mesmos dados foram utilizados agora acrescentando a covariável rendimento na equação de seleção, impondo a restrição de exclusão do modelo, embora o uso da renda para esta finalidade é discutível. Todos os fatores considerados são fortes preditores da decisão de gastar. Notemos que os resultados quanto a significância do parâmetro que acompanha a covariável <span class="math inline">\(IMR\)</span> foram os mesmos.
</p>
</div>
<div id="meps-2001-com-a-covariavel-rendimento" class="slide section level1">
<h1>Meps 2001 Com a Covariável Rendimento</h1>
<h2 id="ajuste-com-as-funcoes-glm-e-lm-do-r-1">Ajuste com as funções glm e lm do R</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Modelo probit</span>
fit1&lt;-<span class="kw">glm</span>( dambexp ~<span class="st"> </span>age+female+educ+blhisp+totchr+ins+income, <span class="dt">family =</span> <span class="kw">binomial</span>(<span class="dt">link =</span> <span class="st">&quot;probit&quot;</span>),<span class="dt">data=</span>MEPS2001)
<span class="kw">summary</span>(fit1)</code></pre></div>
<pre><code>## 
## Call:
## glm(formula = dambexp ~ age + female + educ + blhisp + totchr + 
##     ins + income, family = binomial(link = &quot;probit&quot;), data = MEPS2001)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -3.4420   0.1278   0.3859   0.6254   1.5329  
## 
## Coefficients:
##              Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept) -0.668644   0.192364  -3.476 0.000509 ***
## age          0.086815   0.027495   3.157 0.001591 ** 
## female       0.663505   0.060952  10.886  &lt; 2e-16 ***
## educ         0.061884   0.011891   5.204 1.95e-07 ***
## blhisp      -0.365784   0.061731  -5.925 3.11e-09 ***
## totchr       0.795747   0.071472  11.134  &lt; 2e-16 ***
## ins          0.169107   0.062594   2.702 0.006900 ** 
## income       0.002677   0.001313   2.038 0.041514 *  
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 2904.9  on 3327  degrees of freedom
## Residual deviance: 2391.0  on 3320  degrees of freedom
## AIC: 2407
## 
## Number of Fisher Scoring iterations: 6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MEPS2001$IMR &lt;-<span class="st"> </span><span class="kw">invMillsRatio</span>(fit1)$IMR1<span class="co">#Criar uma nova coluna com a covariável Razão Inversa de Mills </span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Modelo Linear Simples com razão de Mill's</span>
fit2 &lt;-<span class="st"> </span><span class="kw">lm</span>( lnambx ~<span class="st"> </span>age+female+educ+blhisp+totchr+ins +<span class="st"> </span>IMR,
                <span class="dt">data =</span> MEPS2001[ MEPS2001$dambexp ==<span class="st"> </span><span class="dv">1</span>, ] )
<span class="kw">summary</span>(fit2)</code></pre></div>
<pre><code>## 
## Call:
## lm(formula = lnambx ~ age + female + educ + blhisp + totchr + 
##     ins + IMR, data = MEPS2001[MEPS2001$dambexp == 1, ])
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -6.1002 -0.7869  0.0810  0.8656  4.6380 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  5.28893    0.28541  18.531  &lt; 2e-16 ***
## age          0.20247    0.02395   8.455  &lt; 2e-16 ***
## female       0.29213    0.07174   4.072 4.79e-05 ***
## educ         0.01239    0.01144   1.083  0.27873    
## blhisp      -0.18287    0.06465  -2.829  0.00471 ** 
## totchr       0.50063    0.04797  10.436  &lt; 2e-16 ***
## ins         -0.04651    0.05235  -0.888  0.37440    
## IMR         -0.46371    0.28065  -1.652  0.09859 .  
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 1.269 on 2794 degrees of freedom
## Multiple R-squared:  0.1926, Adjusted R-squared:  0.1906 
## F-statistic: 95.23 on 7 and 2794 DF,  p-value: &lt; 2.2e-16</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#wald.test(b = coef(fit3), Sigma = vcov(fit3), Terms = 8)</span></code></pre></div>
</div>
<div class="slide section level1">

<h2 id="ajuste-com-o-pacote-sample-selection-2">Ajuste com o pacote Sample Selection</h2>
<h3 id="processo-de-duas-etapas-2">Processo de duas etapas</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;sampleSelection&quot;</span>)
<span class="co"># Two-step estimation</span>
fit3&lt;-<span class="kw">heckit</span>( dambexp ~<span class="st"> </span>age+female+educ+blhisp+totchr+ins+income,
               lnambx ~<span class="st"> </span>age+female+educ+blhisp+totchr+ins, MEPS2001 )
<span class="kw">summary</span>(fit3)</code></pre></div>
<pre><code>## --------------------------------------------
## Tobit 2 model (sample selection model)
## 2-step Heckman / heckit estimation
## 3328 observations (526 censored and 2802 observed)
## 18 free parameters (df = 3311)
## Probit selection equation:
##              Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) -0.668647   0.194125  -3.444 0.000579 ***
## age          0.086815   0.027456   3.162 0.001581 ** 
## female       0.663505   0.060965  10.883  &lt; 2e-16 ***
## educ         0.061884   0.012039   5.140 2.90e-07 ***
## blhisp      -0.365784   0.061909  -5.908 3.81e-09 ***
## totchr       0.795750   0.071217  11.174  &lt; 2e-16 ***
## ins          0.169107   0.062930   2.687 0.007240 ** 
## income       0.002677   0.001310   2.043 0.041131 *  
## Outcome equation:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  5.28893    0.28852  18.331  &lt; 2e-16 ***
## age          0.20247    0.02422   8.359  &lt; 2e-16 ***
## female       0.29213    0.07258   4.025 5.82e-05 ***
## educ         0.01239    0.01157   1.071  0.28427    
## blhisp      -0.18287    0.06534  -2.798  0.00516 ** 
## totchr       0.50063    0.04855  10.311  &lt; 2e-16 ***
## ins         -0.04651    0.05297  -0.878  0.38002    
## Multiple R-Squared:0.1926,   Adjusted R-Squared:0.1906
##    Error terms:
##               Estimate Std. Error t value Pr(&gt;|t|)
## invMillsRatio  -0.4637     0.2826  -1.641    0.101
## sigma           1.2914         NA      NA       NA
## rho            -0.3591         NA      NA       NA
## --------------------------------------------</code></pre>
<h3 id="metodo-de-maxima-verossimilhanca-3">Método de Máxima Verossimilhança</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># ML estimation</span>
fit4&lt;-<span class="kw">selection</span>( dambexp ~<span class="st"> </span>age+female+educ+blhisp+totchr+ins+income,
                    lnambx ~<span class="st"> </span>age+female+educ+blhisp+totchr+ins, MEPS2001)
<span class="kw">summary</span>(fit4)</code></pre></div>
<pre><code>## --------------------------------------------
## Tobit 2 model (sample selection model)
## Maximum Likelihood estimation
## Newton-Raphson maximisation, 4 iterations
## Return code 1: gradient close to zero
## Log-Likelihood: -5836.219 
## 3328 observations (526 censored and 2802 observed)
## 17 free parameters (df = 3311)
## Probit selection equation:
##              Estimate Std. error t value  Pr(&gt; t)    
## (Intercept) -0.676054   0.194029  -3.484 0.000493 ***
## age          0.087936   0.027421   3.207 0.001342 ** 
## female       0.662665   0.060938  10.874  &lt; 2e-16 ***
## educ         0.061948   0.012029   5.150 2.61e-07 ***
## blhisp      -0.363938   0.061873  -5.882 4.05e-09 ***
## totchr       0.796951   0.071131  11.204  &lt; 2e-16 ***
## ins          0.170137   0.062871   2.706 0.006807 ** 
## income       0.002708   0.001317   2.056 0.039746 *  
## Outcome equation:
##             Estimate Std. error t value  Pr(&gt; t)    
## (Intercept)  5.04406    0.22813  22.111  &lt; 2e-16 ***
## age          0.21197    0.02301   9.213  &lt; 2e-16 ***
## female       0.34814    0.06011   5.791 6.98e-09 ***
## educ         0.01872    0.01055   1.774 0.075986 .  
## blhisp      -0.21857    0.05967  -3.663 0.000249 ***
## totchr       0.53992    0.03933  13.727  &lt; 2e-16 ***
## ins         -0.02999    0.05109  -0.587 0.557221    
##    Error terms:
##       Estimate Std. error t value Pr(&gt; t)    
## sigma  1.27102    0.01838  69.157  &lt;2e-16 ***
## rho   -0.13060    0.14708  -0.888   0.375    
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## --------------------------------------------</code></pre>
<p>Neste caso a estimativa do parâmetro da razão inversa de Mills é:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">IMR&lt;-<span class="kw">coef</span>(<span class="kw">summary</span>(fit4))[<span class="st">&quot;rho&quot;</span>,<span class="dv">1</span>]*<span class="kw">coef</span>(<span class="kw">summary</span>(fit4))[<span class="st">&quot;sigma&quot;</span>,<span class="dv">1</span>]
IMR</code></pre></div>
<pre><code>## [1] -0.1659965</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#res&lt;-fit4$estimate</span>
<span class="co">#IMR&lt;-res[16]*res[17]</span>
<span class="co">#IMR</span></code></pre></div>
</div>
<div class="slide section level1">

<h2 id="ajuste-com-o-pacote-ssmrob-2">Ajuste com o pacote SSMROB</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Equação de seleção que será ajustada via modelo probit</span>
selectEq &lt;-<span class="st"> </span>dambexp ~<span class="st"> </span>age+female+educ+blhisp+totchr+ins+income
<span class="co">#Equação de regressão que será ajustada via modelo linear simples</span>
outcomeEq &lt;-<span class="st"> </span>lnambx ~<span class="st"> </span>age+female+educ+blhisp+totchr+ins
fit5&lt;-<span class="kw">heckitrob</span>(outcomeEq,selectEq,<span class="dt">control=</span><span class="kw">heckitrob.control</span>(<span class="dt">tcc=</span><span class="fl">3.2</span>,<span class="dt">weights.x1=</span><span class="st">&quot;robCov&quot;</span>))
<span class="kw">summary</span>(fit5)</code></pre></div>
<pre><code>## ------------------------------------------------------------- 
## Robust 2-step Heckman / heckit M-estimation 
## Probit selection equation: 
##                   Estimate   Std.Error t-value  p-value    
## XS(Intercept) -0.700434110 0.196402980  -3.566 3.62e-04 ***
## XSage          0.094588603 0.028149130   3.360 7.79e-04 ***
## XSfemale       0.703608275 0.062981278  11.170 5.61e-29 ***
## XSeduc         0.062307763 0.012118799   5.141 2.73e-07 ***
## XSblhisp      -0.388618039 0.062800450  -6.188 6.09e-10 ***
## XStotchr       0.834052967 0.080225712  10.400 2.58e-25 ***
## XSins          0.172551353 0.064031784   2.695 7.04e-03  **
## XSincome       0.002534592 0.001343944   1.886 5.93e-02   .
## Outcome equation: 
##                  Estimate  Std.Error t-value  p-value    
## XO(Intercept)  5.40932908 0.27290745  19.820 1.96e-87 ***
## XOage          0.20028861 0.02447160   8.185 2.73e-16 ***
## XOfemale       0.25213915 0.06994945   3.605 3.13e-04 ***
## XOeduc         0.01318542 0.01157841   1.139 2.55e-01    
## XOblhisp      -0.15341996 0.06514440  -2.355 1.85e-02   *
## XOtotchr       0.47956288 0.03805277  12.600 2.04e-36 ***
## XOins         -0.06825757 0.05173658  -1.319 1.87e-01    
## imrData$IMR1  -0.68995326 0.25543589  -2.701 6.91e-03  **
## ---
## Signif. codes: 0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1 
## -------------------------------------------------------------</code></pre>
</div>
<div id="womenwk---conjunto-de-dados-do-stata" class="slide section level1">
<h1>Womenwk - Conjunto de dados do Stata</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(haven)
dados &lt;-<span class="st"> </span><span class="kw">read_dta</span>(<span class="st">&quot;~/GitHub/Modelos de Heckman/Modelo-de-Heckman/Conjunto_dados/womenwk.dta&quot;</span>)
<span class="kw">attach</span>(dados)
<span class="kw">head</span>(dados)</code></pre></div>
<pre><code>## # A tibble: 6 × 12
##           c1          c2          u           v county   age education
##        &lt;dbl&gt;       &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;  &lt;dbl&gt; &lt;int&gt;     &lt;int&gt;
## 1 -0.4362051 -0.09691816 -0.2181026 -0.37572718      1    22        10
## 2  0.3521407  0.30047631  0.1760704  0.46123438      2    36        10
## 3  1.0772466 -1.59596262  0.5386233 -0.37624397      3    28        10
## 4  1.0212833 -1.71049791  0.5106417 -0.49699912      4    37        10
## 5 -0.4429599  0.30833973 -0.2214800 -0.09251083      5    39        10
## 6 -0.4403342  0.61322883 -0.2201671  0.12598438      6    33        10
## # ... with 5 more variables: married &lt;int&gt;, children &lt;int&gt;, select &lt;dbl&gt;,
## #   wagefull &lt;dbl&gt;, wage &lt;dbl&gt;</code></pre>
<p style="text-align: justify;">
Considere o ajuste de um modelo de regressão linear simples considerando somente as pessoas empregadas para analisar o salário em função da educação e da idade.
</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Regressão linear simples usando Mínimos Quadrados</span>
fit1&lt;-<span class="kw">lm</span>(wage~education+age)
<span class="kw">summary</span>(fit1)</code></pre></div>
<pre><code>## 
## Call:
## lm(formula = wage ~ education + age)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -16.8219  -3.6000  -0.1582   3.7215  19.2203 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  6.08488    0.88962   6.840 1.20e-11 ***
## education    0.89658    0.04981  18.001  &lt; 2e-16 ***
## age          0.14657    0.01871   7.833 9.66e-15 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 5.452 on 1340 degrees of freedom
##   (657 observations deleted due to missingness)
## Multiple R-squared:  0.2535, Adjusted R-squared:  0.2524 
## F-statistic: 227.5 on 2 and 1340 DF,  p-value: &lt; 2.2e-16</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">wage[<span class="kw">is.na</span>(wage)]&lt;-<span class="dv">0</span>
wage2&lt;-wage
indicadora&lt;-<span class="kw">ifelse</span>(wage&gt;<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>)
dados$wage2 &lt;-<span class="st"> </span>wage2<span class="co">#Criar uma nova coluna com a covariável wage substituindo NA por zero </span>
dados$indicadora&lt;-indicadora
<span class="kw">str</span>(dados)</code></pre></div>
<pre><code>## Classes 'tbl_df', 'tbl' and 'data.frame':    2000 obs. of  14 variables:
##  $ c1        : num  -0.436 0.352 1.077 1.021 -0.443 ...
##  $ c2        : num  -0.0969 0.3005 -1.596 -1.7105 0.3083 ...
##  $ u         : num  -0.218 0.176 0.539 0.511 -0.221 ...
##  $ v         : num  -0.3757 0.4612 -0.3762 -0.497 -0.0925 ...
##  $ county    : num  1 2 3 4 5 6 7 8 9 0 ...
##  $ age       : int  22 36 28 37 39 33 57 45 39 25 ...
##  $ education : int  10 10 10 10 10 10 10 16 12 10 ...
##  $ married   : int  1 1 1 1 1 1 1 1 1 0 ...
##  $ children  : int  0 0 0 0 1 2 1 0 0 3 ...
##  $ select    : num  16.8 32.4 19.2 21.3 32 ...
##  $ wagefull  : num  12.8 20.3 23.1 24.5 16.1 ...
##  $ wage      : num  NA 20.3 NA NA 16.1 ...
##  $ wage2     : num  0 20.3 0 0 16.1 ...
##  $ indicadora: num  0 1 0 0 1 1 1 1 0 1 ...</code></pre>
<p>Agora o ajuste considerando todas as pessoas, inclusive as que não trabalham:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Regressão linear simples usando Mínimos Quadrados</span>
fit2&lt;-<span class="kw">lm</span>(wage2~education+age)
<span class="kw">summary</span>(fit2)</code></pre></div>
<pre><code>## 
## Call:
## lm(formula = wage2 ~ education + age)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -29.443  -9.809   3.021   8.596  29.882 
## 
## Coefficients:
##              Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) -12.16843    1.39815  -8.703   &lt;2e-16 ***
## education     1.06457    0.08442  12.610   &lt;2e-16 ***
## age           0.39077    0.03103  12.593   &lt;2e-16 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 11.17 on 1997 degrees of freedom
## Multiple R-squared:  0.1726, Adjusted R-squared:  0.1718 
## F-statistic: 208.3 on 2 and 1997 DF,  p-value: &lt; 2.2e-16</code></pre>
<p style="text-align: justify;">
Vamos supor agora que o salário por hora é uma função da escolaridade e idade, ao passo que a probabilidade de trabalhar (a probabilidade de o salário ser observado) é uma função do estado civil, o número de crianças em casa, e (implicitamente) o salário ( que é estimado através da inclusão de idade e educação, que pensamos ser o que determinam o salário).
</p>
<p style="text-align: justify;">
Heckman assume que o salário é a variável dependente e que a primeira lista de variáveis (educ e idade) são os determinantes do salário. As variáveis especificadas na opção de seleção (casado, crianças, educ, e idade) são assumidos para determinar se a variável dependente (a equação de regressão) é observada. Assim, ajustamos o modelo:
</p>
<span class="math display">\[\begin{eqnarray*}
  wage_{i} &amp;=&amp; \beta_{0} + \beta_{1}educ + \beta_{2}age + u_{1}
\end{eqnarray*}\]</span>
<p>e assumimos que o salário<span class="math inline">\((wage)\)</span> é observado se:</p>
<span class="math display">\[\begin{eqnarray*}
\beta_{0}+\beta_{1}married+\beta_{2}children_{i}+\beta_{3}educ_{i}+\beta_{4}age+u_{2}&gt;0,
\end{eqnarray*}\]</span>
<p>onde <span class="math inline">\(u_{1}\)</span> e <span class="math inline">\(u_{2}\)</span> são correlacionados.</p>
<h2 id="ajuste-com-as-funcoes-glm-e-lm-do-r-2">Ajuste com as funções <em>glm</em> e <em>lm</em> do <em>R</em></h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Ajuste com as funções glm e lm do R</span>
<span class="co">#Modelo probit</span>
fit3&lt;-<span class="kw">glm</span>(indicadora ~<span class="st"> </span>married+children+education+age, <span class="dt">family =</span> <span class="kw">binomial</span>(<span class="dt">link =</span> <span class="st">&quot;probit&quot;</span>),<span class="dt">data=</span>dados)
<span class="kw">summary</span>(fit3)</code></pre></div>
<pre><code>## 
## Call:
## glm(formula = indicadora ~ married + children + education + age, 
##     family = binomial(link = &quot;probit&quot;), data = dados)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -2.7594  -0.9414   0.4552   0.8459   2.0427  
## 
## Coefficients:
##              Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept) -2.467365   0.192291 -12.831  &lt; 2e-16 ***
## married      0.430857   0.074310   5.798 6.71e-09 ***
## children     0.447325   0.028642  15.618  &lt; 2e-16 ***
## education    0.058365   0.011018   5.297 1.18e-07 ***
## age          0.034721   0.004232   8.204 2.33e-16 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 2532.4  on 1999  degrees of freedom
## Residual deviance: 2054.1  on 1995  degrees of freedom
## AIC: 2064.1
## 
## Number of Fisher Scoring iterations: 5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(sampleSelection)
dados$IMR &lt;-<span class="st"> </span><span class="kw">invMillsRatio</span>(fit3)$IMR1<span class="co">#Criar uma nova coluna com a covariável Razão Inversa de Mills </span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Modelo Linear Simples com razão de Mill's</span>
fit4 &lt;-<span class="st"> </span><span class="kw">lm</span>(wage2 ~<span class="st"> </span>education+age +<span class="st"> </span>IMR,
           <span class="dt">data =</span> dados[dados$wage2&gt;<span class="dv">0</span>, ] )
<span class="kw">summary</span>(fit4)</code></pre></div>
<pre><code>## 
## Call:
## lm(formula = wage2 ~ education + age + IMR, data = dados[dados$wage2 &gt; 
##     0, ])
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -15.4167  -3.5143  -0.1737   3.5506  20.3762 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  0.73404    1.16621   0.629    0.529    
## education    0.98253    0.05050  19.457  &lt; 2e-16 ***
## age          0.21187    0.02066  10.253  &lt; 2e-16 ***
## IMR          4.00162    0.57710   6.934 6.35e-12 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 5.359 on 1339 degrees of freedom
## Multiple R-squared:  0.2793, Adjusted R-squared:  0.2777 
## F-statistic:   173 on 3 and 1339 DF,  p-value: &lt; 2.2e-16</code></pre>
<h2 id="ajuste-com-o-pacote-sampleselection">Ajuste com o pacote <em>sampleSelection</em></h2>
<h3 id="processo-de-duas-etapas-3">Processo de duas etapas</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Equação de seleção que será ajustada via modelo probit</span>
selectEq &lt;-<span class="st"> </span>indicadora~married+children+education+age
<span class="co">#Equação de regressão que será ajustada via modelo linear simples</span>
outcomeEq &lt;-<span class="st"> </span>wage2 ~<span class="st"> </span>education+age
fit5&lt;-<span class="kw">heckit</span>(selectEq,outcomeEq,dados)
<span class="kw">summary</span>(fit5)</code></pre></div>
<pre><code>## --------------------------------------------
## Tobit 2 model (sample selection model)
## 2-step Heckman / heckit estimation
## 2000 observations (657 censored and 1343 observed)
## 11 free parameters (df = 1990)
## Probit selection equation:
##              Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) -2.467365   0.192563 -12.813  &lt; 2e-16 ***
## married      0.430857   0.074208   5.806 7.43e-09 ***
## children     0.447325   0.028742  15.564  &lt; 2e-16 ***
## education    0.058365   0.010974   5.318 1.16e-07 ***
## age          0.034721   0.004229   8.210 3.94e-16 ***
## Outcome equation:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  0.73404    1.24833   0.588    0.557    
## education    0.98253    0.05388  18.235   &lt;2e-16 ***
## age          0.21187    0.02205   9.608   &lt;2e-16 ***
## Multiple R-Squared:0.2793,   Adjusted R-Squared:0.2777
##    Error terms:
##               Estimate Std. Error t value Pr(&gt;|t|)    
## invMillsRatio   4.0016     0.6065   6.597 5.35e-11 ***
## sigma           5.9474         NA      NA       NA    
## rho             0.6728         NA      NA       NA    
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## --------------------------------------------</code></pre>
<h3 id="metodo-de-maxima-verossimilhanca-4">Método de Máxima Verossimilhança</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Estimação utilizando método de Máxima Verossimilhança do pacote sample selection</span>
fit6&lt;-<span class="kw">selection</span>(indicadora ~<span class="st"> </span>married+children+education+age,
                wage2 ~<span class="st"> </span>education+age)
<span class="kw">summary</span>(fit6)</code></pre></div>
<pre><code>## --------------------------------------------
## Tobit 2 model (sample selection model)
## Maximum Likelihood estimation
## Newton-Raphson maximisation, 3 iterations
## Return code 2: successive function values within tolerance limit
## Log-Likelihood: -5178.304 
## 2000 observations (657 censored and 1343 observed)
## 10 free parameters (df = 1990)
## Probit selection equation:
##              Estimate Std. error t value  Pr(&gt; t)    
## (Intercept) -2.491015   0.189340 -13.156  &lt; 2e-16 ***
## married      0.445171   0.067395   6.605 3.97e-11 ***
## children     0.438707   0.027783  15.791  &lt; 2e-16 ***
## education    0.055732   0.010735   5.192 2.08e-07 ***
## age          0.036510   0.004153   8.790  &lt; 2e-16 ***
## Outcome equation:
##             Estimate Std. error t value Pr(&gt; t)    
## (Intercept)  0.48579    1.07704   0.451   0.652    
## education    0.98995    0.05326  18.588  &lt;2e-16 ***
## age          0.21313    0.02060  10.345  &lt;2e-16 ***
##    Error terms:
##       Estimate Std. error t value Pr(&gt; t)    
## sigma  6.00479    0.16572   36.23  &lt;2e-16 ***
## rho    0.70350    0.05123   13.73  &lt;2e-16 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## --------------------------------------------</code></pre>
<p>A estimativa do parâmetro que acompanha a covariável razão inversa de Mills é:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">IMR&lt;-<span class="kw">coef</span>(<span class="kw">summary</span>(fit6))[<span class="st">&quot;rho&quot;</span>,<span class="dv">1</span>]*<span class="kw">coef</span>(<span class="kw">summary</span>(fit6))[<span class="st">&quot;sigma&quot;</span>,<span class="dv">1</span>]
IMR</code></pre></div>
<pre><code>## [1] 4.224401</code></pre>
<h2 id="ajuste-com-o-pacote-ssmrob-3">Ajuste com o pacote <em>SSMROB</em></h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ssmrob)
<span class="co">#Equação de seleção que será ajustada via modelo probit</span>
selectEq &lt;-<span class="st"> </span>indicadora ~<span class="st"> </span>married+children+education+age
<span class="co">#Equação de regressão que será ajustada via modelo linear simples</span>
outcomeEq &lt;-<span class="st"> </span>wage2 ~<span class="st"> </span>education+age
fit7&lt;-<span class="kw">heckitrob</span>(outcomeEq,selectEq,<span class="dt">control=</span><span class="kw">heckitrob.control</span>(<span class="dt">tcc=</span><span class="fl">3.2</span>,<span class="dt">weights.x1=</span><span class="st">&quot;robCov&quot;</span>))
<span class="kw">summary</span>(fit7)</code></pre></div>
<pre><code>## ------------------------------------------------------------- 
## Robust 2-step Heckman / heckit M-estimation 
## Probit selection equation: 
##                  Estimate   Std.Error t-value  p-value    
## XS(Intercept) -2.46541991 0.193678111 -12.730 4.06e-37 ***
## XSmarried      0.42133992 0.074544389   5.652 1.58e-08 ***
## XSchildren     0.44264144 0.029190486  15.160 6.13e-52 ***
## XSeducation    0.05884727 0.011046541   5.327 9.97e-08 ***
## XSage          0.03479865 0.004246128   8.195 2.50e-16 ***
## Outcome equation: 
##                Estimate  Std.Error t-value  p-value    
## XO(Intercept) 0.7458634 1.24334254  0.5999 5.49e-01    
## XOeducation   0.9798627 0.05471929 17.9100 1.04e-71 ***
## XOage         0.2111380 0.02197695  9.6070 7.45e-22 ***
## imrData$IMR1  4.0074119 0.60700579  6.6020 4.06e-11 ***
## ---
## Signif. codes: 0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1 
## -------------------------------------------------------------</code></pre>
</div>
<div class="slide section level1">

<p>Maiores informações podem ser obtidas em:</p>
<p><span class="citation">Heckman (1976)</span>, <span class="citation">Heckman (1977)</span>, <span class="citation">Mroz (1987)</span>, <span class="citation">Winship and Mare (1992)</span>, <span class="citation">Puhani (2000)</span>, <span class="citation">Greene (2003)</span>, <span class="citation">Cameron and Trivedi (2009)</span> e <span class="citation">Marchenko and Genton (2012)</span>.</p>
</div>
<div id="referencias" class="slide section level1 unnumbered">
<h1>Referências</h1>
<div id="refs" class="references">
<div id="ref-cameron2009microeconomics">
<p>Cameron, A Colin, and Pravin K Trivedi. 2009. “Microeconomics Using Stata.” <em>College Station, TX: Stata Press Publications</em>.</p>
</div>
<div id="ref-greene2003econometric">
<p>Greene, William H. 2003. <em>Econometric Analysis</em>. Pearson Education India.</p>
</div>
<div id="ref-heckman1976common">
<p>Heckman, James J. 1976. “The Common Structure of Statistical Models of Truncation, Sample Selection and Limited Dependent Variables and a Simple Estimator for Such Models.” In <em>Annals of Economic and Social Measurement, Volume 5, Number 4</em>, 475–92. NBER.</p>
</div>
<div id="ref-heckman1977sample">
<p>———. 1977. “Sample Selection Bias as a Specification Error (with an Application to the Estimation of Labor Supply Functions).” National Bureau of Economic Research Cambridge, Mass., USA.</p>
</div>
<div id="ref-hill2008principles">
<p>Hill, R Carter, William E Griffiths, and Guay C Lim. 2008. <em>Principles of Econometrics</em>. Vol. 5. Wiley Hoboken, NJ.</p>
</div>
<div id="ref-marchenko2012heckman">
<p>Marchenko, Yulia V, and Marc G Genton. 2012. “A Heckman Selection-T Model.” <em>Journal of the American Statistical Association</em> 107 (497). Taylor &amp; Francis Group: 304–17.</p>
</div>
<div id="ref-mroz1987sensitivity">
<p>Mroz, Thomas A. 1987. “The Sensitivity of an Empirical Model of Married Women’s Hours of Work to Economic and Statistical Assumptions.” <em>Econometrica: Journal of the Econometric Society</em>. JSTOR, 765–99.</p>
</div>
<div id="ref-puhani2000heckman">
<p>Puhani, Patrick. 2000. “The Heckman Correction for Sample Selection and Its Critique.” <em>Journal of Economic Surveys</em> 14 (1). Wiley Online Library: 53–68.</p>
</div>
<div id="ref-winship1992models">
<p>Winship, Christopher, and Robert D Mare. 1992. “Models for Sample Selection Bias.” <em>Annual Review of Sociology</em>. JSTOR, 327–50.</p>
</div>
</div>
</div>

  <!-- dynamically load mathjax for compatibility with self-contained -->
  <script>
    (function () {
      var script = document.createElement("script");
      script.type = "text/javascript";
      script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
      document.getElementsByTagName("head")[0].appendChild(script);
    })();
  </script>

</body>
</html>
